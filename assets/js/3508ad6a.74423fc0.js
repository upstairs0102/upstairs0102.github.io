"use strict";(self.webpackChunkupstairs_0102_github_io=self.webpackChunkupstairs_0102_github_io||[]).push([[5866],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},p=Object.keys(e);for(a=0;a<p.length;a++)n=p[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(a=0;a<p.length;a++)n=p[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),g=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=g(e.components);return a.createElement(i.Provider,{value:t},e.children)},s="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,p=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),s=g(n),m=r,d=s["".concat(i,".").concat(m)]||s[m]||c[m]||p;return n?a.createElement(d,l(l({ref:t},u),{},{components:n})):a.createElement(d,l({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var p=n.length,l=new Array(p);l[0]=m;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[s]="string"==typeof e?e:r,l[1]=o;for(var g=2;g<p;g++)l[g]=n[g];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},164:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>s,frontMatter:()=>p,metadata:()=>o,toc:()=>g});var a=n(87462),r=(n(67294),n(3905));const p={slug:"/frontend-libraries/vue-gtag",title:"[vue-gtag]Vue\u5c08\u6848\u7528\u7684gtag",tags:["vue-gtag"]},l=void 0,o={unversionedId:"\u524d\u7aefLibraries/[vue-gtag]",id:"\u524d\u7aefLibraries/[vue-gtag]",title:"[vue-gtag]Vue\u5c08\u6848\u7528\u7684gtag",description:"\u4e00\u3001gtag",source:"@site/docs/\u524d\u7aefLibraries/[vue-gtag].md",sourceDirName:"\u524d\u7aefLibraries",slug:"/frontend-libraries/vue-gtag",permalink:"/docs/frontend-libraries/vue-gtag",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u524d\u7aefLibraries/[vue-gtag].md",tags:[{label:"vue-gtag",permalink:"/docs/tags/vue-gtag"}],version:"current",frontMatter:{slug:"/frontend-libraries/vue-gtag",title:"[vue-gtag]Vue\u5c08\u6848\u7528\u7684gtag",tags:["vue-gtag"]},sidebar:"tutorialSidebar",previous:{title:"[pdf-make] \u532f\u51faPDF",permalink:"/docs/frontend-libraries/pdf-make"},next:{title:"[xlsx-js-style] \u532f\u51fa\u81ea\u8a02\u6a23\u5f0fExcel\u6a94",permalink:"/docs/frontend-libraries/xlsx-js-style"}},i={},g=[{value:"\u4e00\u3001gtag",id:"\u4e00gtag",level:2},{value:"\u4e8c\u3001vue-gtag",id:"\u4e8cvue-gtag",level:2},{value:"\u5e7e\u500b\u8981\u6ce8\u610f\u7684\u4e8b\u60c5",id:"\u5e7e\u500b\u8981\u6ce8\u610f\u7684\u4e8b\u60c5",level:3},{value:"\u5b89\u88ddvue-gtab",id:"\u5b89\u88ddvue-gtab",level:3},{value:"Options API &amp; Composition API\u5beb\u6cd5\u5dee\u7570",id:"options-api--composition-api\u5beb\u6cd5\u5dee\u7570",level:3},{value:"Bootstrap options",id:"bootstrap-options",level:3},{value:"Auto tracking",id:"auto-tracking",level:3},{value:"Screenview",id:"screenview",level:3},{value:"Page tracker template",id:"page-tracker-template",level:3},{value:"Multiple domain tracking",id:"multiple-domain-tracking",level:3},{value:"Plugin hooks",id:"plugin-hooks",level:3},{value:"screenview",id:"screenview-1",level:3},{value:"pageview",id:"pageview",level:3},{value:"pageView \u548c screenView\u7684\u6e2c\u8a66\u7d50\u679c",id:"pageview-\u548c-screenview\u7684\u6e2c\u8a66\u7d50\u679c",level:3},{value:"event",id:"event",level:3},{value:"\u4e8b\u4ef6\u7684\u6e2c\u8a66\u7d50\u679c",id:"\u4e8b\u4ef6\u7684\u6e2c\u8a66\u7d50\u679c",level:3},{value:"exception",id:"exception",level:3},{value:"query",id:"query",level:3},{value:"\u5b89\u88dd\u5728nuxt\u4e0a",id:"\u5b89\u88dd\u5728nuxt\u4e0a",level:3}],u={toc:g};function s(e){let{components:t,...p}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,p,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u4e00gtag"},"\u4e00\u3001gtag"),(0,r.kt)("p",null,"\u5b98\u65b9\u6587\u4ef6\u4e3b\u8981\u53c3\u8003\u4ee5\u4e0b\u5169\u500b\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://developers.google.com/tag-platform/gtagjs/reference?hl=zh-tw"},"Google\u4ee3\u78bc (gtag.js)")," \u4e3b\u8981\u7684\u958b\u767c\u6587\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://developers.google.com/analytics/devguides/collection/ga4/events?hl=zh-tw&client_type=gtag"},"Google Analytics")," \u9019\u500b\u7576\u8f14\u52a9\u53c3\u8003\u5c31\u53ef\u4ee5\u4e86")),(0,r.kt)("p",null,"\u8981\u7559\u610f\u4e0d\u8981\u770b\u932f\u6587\u4ef6\u770b\u5230 ",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/analytics/devguides/collection/gtagjs?hl=zh-tw"},"\u820a\u7248ga (Universal Anaytics)")),(0,r.kt)("h2",{id:"\u4e8cvue-gtag"},"\u4e8c\u3001vue-gtag"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/MatteoGabriele/vue-gtag"},"github")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://matteo-gabriele.gitbook.io/vue-gtag/"},"document")),(0,r.kt)("p",null,"\u622a\u81f3\u4eca\u5929\uff082023/8/16\uff09\uff0cvue-gtag\u6700\u5f8c\u66f4\u65b0\u65e5\u662f 2021-05-21\uff0c\u4e0d\u66c9\u5f97\u662f\u6c92\u5728\u7dad\u8b77\u9084\u662f\u56e0\u70ba\u4e5f\u6c92\u6709\u66f4\u65b0\u7684\u9700\u8981"),(0,r.kt)("p",null,"\u53ef\u4ee5\u627e\u5230\u5169\u500b\u7248\u672c\u5206\u5225\u662f vue-gtag\u4ee5\u53ca vue-gtag-next\uff0c\u5169\u500b\u662f\u7368\u7acb\u7684 repo\u5f88\u5bb9\u6613\u6df7\u991a\uff0cNuxt\u4e0a\u6587\u4ef6\u7bc4\u4f8b\u662f\u4f7f\u7528 vue-gtag-next\uff0c\u4f46\u6211\u67e5\u4e86\u4e00\u4e0b\u76ee\u524d vue-gtag\u624d\u662f\u6700\u65b0\u7248\u672c"),(0,r.kt)("h3",{id:"\u5e7e\u500b\u8981\u6ce8\u610f\u7684\u4e8b\u60c5"},"\u5e7e\u500b\u8981\u6ce8\u610f\u7684\u4e8b\u60c5"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5b98\u65b9\u6587\u4ef6\u63d0\u4f9b\u95dc\u65bc gtag.js\u7684\u9023\u7d50\u662f Universal Anaytics\u7684\uff0c\u8981\u81ea\u884c\u958b\u555f\u65b0\u7248 GA4\u7684\u9023\u7d50\u5c0f\u5fc3\u4e0d\u8981\u88ab\u8aa4\u5c0e\u4e86"),(0,r.kt)("li",{parentName:"ol"},"vue-gtag-next\u5df2\u7d93\u4e0d\u662f\u6700\u65b0\u7248\u7684\uff0c\u8981\u6ce8\u610f\u7248\u672c\u865f\u4f7f\u7528 v2.x\u7684"),(0,r.kt)("li",{parentName:"ol"},"Nuxt\u5b98\u7db2\u7684\u7bc4\u4f8b\u4f7f\u7528 vue-gtag-next\uff0c\u5c0f\u5fc3\u4e0d\u8981\u8ddf\u8457\u7528\u5230\u820a\u7248\u7684")),(0,r.kt)("h3",{id:"\u5b89\u88ddvue-gtab"},"\u5b89\u88ddvue-gtab"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm add vue-gtag\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { createApp } from "vue";\nimport App from "./App.vue";\nimport VueGtag from "vue-gtag";\n\ncreateApp(App).use(VueGtag, {\n  config: { id: "GA_MEASUREMENT_ID" }\n}).mount("#app");\n')),(0,r.kt)("h3",{id:"options-api--composition-api\u5beb\u6cd5\u5dee\u7570"},"Options API & Composition API\u5beb\u6cd5\u5dee\u7570"),(0,r.kt)("p",null,"Options API"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  name: 'MyComponent',\n\n  methods: {\n    login () {\n      this.$gtag.event('login', { method: 'Google' })\n    }\n  }\n}\n")),(0,r.kt)("p",null,"Composition API"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { event } from 'vue-gtag'\n\nexport default {\n  name: 'MyComponent',\n\n  setup() {\n    const login = () => {\n      event('login', { method: 'Google' })\n    }\n    \n    return {\n      login\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"bootstrap-options"},"Bootstrap options"),(0,r.kt)("p",null,"GDPR\u4fdd\u8b77\u7684\u7db2\u9801\u9700\u5728\u4f7f\u7528\u8005\u540c\u610f\u4e4b\u4e0b\u624d\u80fd\u9032\u884c\u8ffd\u8e64\u3002\u8a2d\u5b9a ",(0,r.kt)("inlineCode",{parentName:"p"},"bootstrap"),"\u70ba true\u4ee5\u63a7\u5236\u57f7\u884c\u7684\u6642\u9593\u9ede"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { createApp } from "vue";\nimport VueGtag from "vue-gtag";\n\ncreateApp(App).use(VueGtag, {\n  bootstrap: false,\n  config: { \n    id: "GA_MEASUREMENT_ID",\n  },\n}).mount("#app");\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { bootstrap } from 'vue-gtag'\n\nexport default {\n  name: 'MyComponent',\n\n  methods: {\n    enablePlugin () {\n      bootstrap().then((gtag) => {\n        // all done!\n      })\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"auto-tracking"},"Auto tracking"),(0,r.kt)("p",null,"\u5c07 VueRouter\u7684 Instance\u653e\u5230\u7b2c\u4e09\u500b\u53c3\u6578\u5c31\u53ef\u4ee5\u555f\u52d5 auto tracking\u529f\u80fd\u3002"),(0,r.kt)("p",null,"\u6211\u81ea\u5df1\u5be6\u6e2c\u662f\u5982\u679c\u6c92\u52a0\u7684\u8a71\uff0c\u5207\u63db\u5206\u9801\u6642\u4ecd\u6709\u7d2f\u52a0\u5230\u9020\u8a2a\u4f7f\u7528\u8005\u7684\u7d00\u9304\uff0c\u4f46\u4e0d\u6703\u6709\u5404\u5206\u9801\u7684\u8cc7\u8a0a\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'app.use(VueGtag, {\n  config: { \n    id: "GA_MEASUREMENT_ID",\n  },\n}, router); // <----- add your router here\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20230419181944308",src:n(72420).Z,width:"401",height:"422"})),(0,r.kt)("h3",{id:"screenview"},"Screenview"),(0,r.kt)("p",null,"\u770b\u6587\u4ef6\u8aaa\u660e\u770b\u4e0d\u61c2\u4ec0\u9ebc\u610f\u601d\uff0c\u4f46\u6211\u81ea\u5df1\u5be6\u6e2c\u4e4b\u5f8c\u767c\u73fe\u8a2d\u70ba true\u4e4b\u5f8c\uff0c\u5f8c\u53f0\u5c31\u4e0d\u6703\u6709\u5404\u5206\u9801\u7684\u6578\u64da\uff0c\u800c\u662f\u5168\u90e8\u7d2f\u52a0\u5728\u4e00\u8d77\u3002"),(0,r.kt)("p",null,"\u611f\u89ba\u597d\u50cf\u6c92\u4ec0\u9ebc\u610f\u7fa9\uff0c\u5c31\u4e0d\u8981\u4f7f\u7528\u5c31\u597d\u4e86\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"app.use(VueGtag, {\n  appName: 'My application',\n  pageTrackerScreenviewEnabled: true,\n  config: { \n    id: \"GA_MEASUREMENT_ID\",\n  },\n}, router);\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20230419181631385",src:n(66937).Z,width:"400",height:"424"})),(0,r.kt)("h3",{id:"page-tracker-template"},"Page tracker template"),(0,r.kt)("p",null,"\u81ea\u8a02\u7fa9\u9801\u9762\u540d\u7a31\uff0c\u9019\u500b\u7121\u8ad6\u662f\u4f7f\u7528 pageviews\u6216 screenviews\u90fd\u6709\u76f8\u540c\u7684\u4f5c\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"app.use(VueGtag, {\n  pageTrackerTemplate(to) {\n    return {\n      page_title: 'amazing page',\n      page_path: to.path\n    }\n  },\n  config: { \n    id: \"GA_MEASUREMENT_ID\",\n  },\n}, router);\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20230418163755940",src:n(75208).Z,width:"400",height:"421"})),(0,r.kt)("h3",{id:"multiple-domain-tracking"},"Multiple domain tracking"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { createApp } from "vue";\nimport App from "./App.vue";\nimport VueGtag from "vue-gtag";\n\ncreateApp(App).use(VueGtag, {\n  includes: [\n    { id: \'GA_MEASUREMENT_ID_2\' },\n    { \n      id: \'GA_MEASUREMENT_ID_3\',\n      params: {\n        anonymize_ip: true\n      }\n    }\n  ],\n  config: { id: "GA_MEASUREMENT_ID_1" }\n}).mount("#app");\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  name: 'MyComponent',\n\n  methods: {\n    login () {\n      this.$gtag.event('login', { method: 'Google' })\n    }\n  }\n}\n")),(0,r.kt)("p",null,"\u5982\u679c\u8981\u6307\u5b9a\u4e8b\u4ef6\u8981\u767c\u9001\u5230\u54ea\u500bga\uff0c\u53ef\u4ee5\u52a0\u4e0a",(0,r.kt)("inlineCode",{parentName:"p"},"sent_to"),"\u53c3\u6578\uff0c\u53c3\u8003\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/tag-platform/gtagjs/reference?hl=zh-tw#parameter_precedence"},"gtag\u6587\u4ef6")),(0,r.kt)("h3",{id:"plugin-hooks"},"Plugin hooks"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { createApp } from "vue";\nimport App from "./App.vue";\nimport VueGtag from "vue-gtag";\n\ncreateApp(App).use(VueGtag, {\n  config: { id: "GA_MEASUREMENT_ID" },\n  onReady () {\n    // ready\n  },\n  onBeforeTrack () {\n    // before!\n  },\n  onAfterTrack () {\n    // after!\n  }\n}).mount("#app");\n')),(0,r.kt)("h3",{id:"screenview-1"},"screenview"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/tag-platform/gtagjs/reference/events?hl=zh-tw"},"gtag\u6587\u4ef6\u5efa\u8b70\u53c3\u6578"),"\u4e2d\u6c92\u6709\u9019\u500b\uff0c\u4f46\u662f ",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/tag-platform/gtagjs/reference?hl=zh-tw#event"},"API\u7bc4\u4f8b"),"\u537b\u6709\uff1f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  name: 'MyComponent',\n\n  methods: {\n    track () {\n      this.$gtag.screenview({\n        app_name: 'MyApp',\n        screen_name: 'Home page',\n      })\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"pageview"},"pageview"),(0,r.kt)("p",null,"gtag\u6587\u4ef6\u7684",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/tag-platform/gtagjs/reference/events?hl=zh-tw#parameters_15"},"\u4e8b\u4ef6\u5efa\u8b70\u53c3\u6578"),"\u4e2d\u6709"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  name: 'MyComponent',\n\n  methods: {\n    track () {\n      this.$gtag.pageview({ page_path: '/about' })\n      \n      this.$gtag.pageview('/about')\n      \n      this.$gtag.pageview(this.$route)\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"pageview-\u548c-screenview\u7684\u6e2c\u8a66\u7d50\u679c"},"pageView \u548c screenView\u7684\u6e2c\u8a66\u7d50\u679c"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5169\u8005\u7684\u53c3\u6578\u90fd\u6703\u88ab\u7d00\u9304\u5230\u4e8b\u4ef6\u7576\u4e2d\uff0c\u4e8b\u4ef6\u540d\u7a31\u5206\u5225\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"screen_view")," \u53ca ",(0,r.kt)("inlineCode",{parentName:"p"},"page_view"),"\uff0c\u9ede\u64ca\u9032\u53bb\u4e4b\u5f8c\u53ef\u4ee5\u518d\u9032\u4e00\u6b65\u770b\u50b3\u905e\u51fa\u4f86\u7684\u53c3\u6578")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u539f\u672c\u9801\u9762\u5207\u63db\u7684\u6642\u5019\u5c31\u6703\u6709",(0,r.kt)("inlineCode",{parentName:"p"},"page_view")," \u548c",(0,r.kt)("inlineCode",{parentName:"p"},"screen_view")," \u7684\u4e8b\u4ef6\u7d00\u9304\uff0c\u624b\u52d5\u50b3\u905e\u4e8b\u4ef6\u6703\u9020\u6210\u91cd\u8986\u7684\u4e8b\u4ef6\u88ab\u7d00\u9304\u3002\u6240\u4ee5\u6211\u89ba\u5f97\u9069\u7528\u7684\u60c5\u5883\u53ef\u80fd\u662f\uff1a\u7279\u5b9a\u7684\u4e8b\u4ef6\u4e0b\u6c92\u6709\u6c92\u8b8a\u66f4\u7db2\u5740\uff0c\u88ab\u5e0c\u671b\u88ab\u7d00\u9304\u4e0b\u4f86\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"page_view"),"\u6216",(0,r.kt)("inlineCode",{parentName:"p"},"screen_view"),"\u7684\u6642\u5019"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20230419180823084",src:n(49653).Z,width:"326",height:"417"})),(0,r.kt)("h3",{id:"event"},"event"),(0,r.kt)("p",null," gtag\u6587\u4ef6\u4e0a\u7684\u9023\u7d50\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/tag-platform/gtagjs/reference/events?hl=zh-tw"},"https://developers.google.com/tag-platform/gtagjs/reference/events?hl=zh-tw")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  name: 'MyComponent',\n\n  methods: {\n    track () {\n      this.$gtag.event(<action>, {\n        'event_category': <category>,\n        'event_label': <label>,\n        'value': <value>\n      })\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"\u4e8b\u4ef6\u7684\u6e2c\u8a66\u7d50\u679c"},"\u4e8b\u4ef6\u7684\u6e2c\u8a66\u7d50\u679c"),(0,r.kt)("p",null,"\u5206\u5225\u4f7f\u7528",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/tag-platform/gtagjs/reference/events?hl=zh-tw"},"\u6587\u4ef6\u7576\u4e2d\u6240\u5217\u51fa\u4f86\u7684\u4e8b\u4ef6\u540d\u7a31"),"\u548c\u81ea\u8a02\u7684\u8b8a\u6578\u540d\u7a31\uff0c\u5169\u8005\u7684\u6e2c\u8a66\u7d50\u679c\u4e26\u6c92\u6709\u5dee\u7570\u3002\u4e0d\u66c9\u5f97\u6587\u4ef6\u7576\u4e2d\u5217\u7684\u8b8a\u6578\u540d\u7a31\u662f\u5426\u9084\u6709\u5176\u5b83\u7684\u529f\u80fd\u9019\u500b\u5c31\u4e0d\u66c9\u5f97\u4e86\uff08\u6bd4\u5982\u80fd\u7522\u51fa\u5176\u5b83\u5831\u544a\u4e4b\u985e\u7684\uff09"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20230419182818491",src:n(46122).Z,width:"325",height:"416"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20230419182908133",src:n(28899).Z,width:"321",height:"417"})),(0,r.kt)("h3",{id:"exception"},"exception"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  name: 'MyComponent',\n\n  methods: {\n    track () {\n      this.$gtag.exception({\n        'description': 'error_description',\n        'fatal': false\n      })\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"query"},"query"),(0,r.kt)("p",null,"\u5982\u679c\u8981\u76f4\u63a5\u64cd\u4f5c gtag\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"query"),"\uff0c\u53ef\u76f4\u63a5\u4f7f\u7528 gtag\u7684API"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  name: 'MyComponent',\n\n  methods: {\n    track () {\n      this.$gtag.query('event', 'screen_view', {\n        app_name: 'MyApp',\n        screen_name: 'Home page',\n      })\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"\u5b89\u88dd\u5728nuxt\u4e0a"},"\u5b89\u88dd\u5728nuxt\u4e0a"),(0,r.kt)("p",null,"\u4e0d\u8981\u4f7f\u7528",(0,r.kt)("a",{parentName:"p",href:"https://nuxt.com/docs/guide/directory-structure/plugins/#vue-plugins"},"Nuxt\u5b98\u7db2\u7684\u7bc4\u4f8b"),"\uff0c\u5b98\u7db2\u7bc4\u4f8b\u662f\u4f7f\u7528\u820a\u7248 vue-gtag-next"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://stackoverflow.com/a/72702062/6252471"},"https://stackoverflow.com/a/72702062/6252471"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"yarn add --dev vue-gtag\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"plugins/vue-gtag.client.js")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import VueGtag, { trackRouter } from 'vue-gtag'\nexport default defineNuxtPlugin((nuxtApp) => {\n  nuxtApp.vueApp.use(VueGtag, {\n    property: {\n      id: 'GA_MEASUREMENT_ID'\n    }\n  })\n  trackRouter(useRouter())\n})\n")))}s.isMDXComponent=!0},75208:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20230418163755940-c3bacd3753df725481213d605892bceb.png"},49653:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20230419180823084-972323734c8f823581ff6a5d11141b05.png"},66937:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20230419181631385-c7a6dc632bc1c0165453323609b5b776.png"},72420:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20230419181944308-6e4d9b457cc339eec6299ca74a9384f5.png"},46122:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20230419182818491-ad11b5140b3e7c2098c31f5ba65f36f9.png"},28899:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20230419182908133-3483d5ce3d7d472e30690698dcb37fb7.png"}}]);