"use strict";(self.webpackChunkupstairs_0102_github_io=self.webpackChunkupstairs_0102_github_io||[]).push([[1477],{30010:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"2023/07/09/experience-frontend-and-backend","metadata":{"permalink":"/blog/2023/07/09/experience-frontend-and-backend","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023/2023-07-09-\u5de5\u4f5c\u5fc3\u5f97-\u95dc\u65bc\u524d\u5f8c\u7aef.md","source":"@site/blog/2023/2023-07-09-\u5de5\u4f5c\u5fc3\u5f97-\u95dc\u65bc\u524d\u5f8c\u7aef.md","title":"\u5de5\u4f5c\u5fc3\u5f97 - \u95dc\u65bc\u524d\u5f8c\u7aef","description":"\u9577\u6587","date":"2023-07-09T00:00:00.000Z","formattedDate":"July 9, 2023","tags":[{"label":"job","permalink":"/blog/tags/job"}],"readingTime":12.2,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2023/07/09/experience-frontend-and-backend","title":"\u5de5\u4f5c\u5fc3\u5f97 - \u95dc\u65bc\u524d\u5f8c\u7aef","authors":"thunderboy","tags":["job"]},"nextItem":{"title":"2023\u90e8\u843d\u683c\u642c\u5bb6\u5230 Docusaurus","permalink":"/blog/2023/01/02/new-docusaurus-website"}},"content":"#\u95dc\u65bc\u524d\u5f8c\u7aef #\u9577\u6587\\n\\n\u5728\u6211\u5011\u516c\u53f8\u5167\u6280\u8853\u7684\u4ea4\u6d41\u548c\u5206\u4eab\u7b97\u662f\u883b\u983b\u7e41\u7684\uff0c\u524d\u4e00\u6bb5\u6642\u9593\u6709\u4e00\u4e9b\u95dc\u65bc\u524d\u5f8c\u7aef\u5dee\u7570\u7684\u8a0e\u8ad6\uff1b\u7562\u7adf\u9019\u908a\u524d\u5f8c\u7aef\u5206\u5de5\u7684\u5f88\u660e\u78ba\uff0c\u5927\u5bb6\u6709\u4e00\u4e9b\u5148\u5165\u70ba\u4e3b\u7684\u60f3\u6cd5\u6211\u4e5f\u65e9\u5df2\u7fd2\u4ee5\u70ba\u5e38\uff0c\u53ea\u662f\u5076\u723e\u9084\u662f\u6703\u89ba\u5f97\u9ed1\u4eba\u554f\u865f\u9019\u6a23\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u6211\u81ea\u5df1\u672c\u8eab\u5de5\u4f5c\u7d93\u6b77\u548c\u6211\u540c\u5e74\u7d00\u7684\u958b\u767c\u8005\u6709\u4e9b\u4e0d\u592a\u4e00\u6a23\uff0c\u5f9e\u6211\u51fa\u793e\u6703\u7b2c\u4e00\u4efd\u5de5\u4f5c\u958b\u59cb\u5c31\u662f\u5beb\u524d\u5f8c\u7aef\u5206\u96e2\u7684\u67b6\u69cb\uff08MVC\u4e4b\u985e\u7684\u55ae\u9ad4\u5f0f\u67b6\u69cb\u6211\u53cd\u800c\u6c92\u5beb\u904e\uff09\u3002\u7531\u65bc\u9700\u8981\u540c\u6642\u5beb\u524d\u7aef\u6846\u67b6\u548c\u5f8c\u7aef\u6846\u67b6\uff0c\u6240\u4ee5\u4e0d\u592a\u6703\u89ba\u5f97\u662f\u5169\u4ef6\u4e8b\u60c5\uff0c\u96d6\u7136\u6709\u4e9b\u554f\u984c\u6bd4\u8f03\u9069\u5408\u53ea\u5728\u5f8c\u7aef\u6216\u53ea\u5728\u524d\u7aef\u89e3\u6c7a\uff0c\u4f46\u4e5f\u6709\u4e9b\u554f\u984c\u662f\u5728\u54ea\u908a\u5beb\u90fd\u53ef\u4ee5\u3002\u518d\u5916\u52a0\u5f8c\u4f86\u6211\u4e5f\u6709\u4e00\u9ede\u7684\u63a5\u6848\u7d93\u9a57\uff0c\u548c\u670b\u53cb\u5206\u5de5\u7684\u6642\u5019\u4e5f\u662f\u8f2a\u6d41\u9019\u6b21\u6211\u5beb\u524d\u7aef\u4ed6\u5beb\u5f8c\u7aef\uff0c\u4e0b\u6b21\u6211\u5beb\u5f8c\u7aef\u4ed6\u5beb\u524d\u7aef\uff0c\u7576\u7136\u5927\u5bb6\u64c5\u9577\u7684\u5de5\u5177\u6216\u6280\u8853\u4e0d\u592a\u4e00\u6a23\uff0c\u4f46\u597d\u50cf\u4e5f\u5f9e\u4f86\u6c92\u6709\u7528\u524d\u7aef\u6216\u8005\u5f8c\u7aef\u53bb\u505a\u89d2\u8272\u5206\u985e\u7684\uff08\u6bd4\u5982\u8ab0\u662f\u524d\u7aef\u8ab0\u662f\u5f8c\u7aef\u4e4b\u985e\u7684\uff09\u3002\\n\\n\u7576\u7136\u4e0a\u8ff0\u6642\u671f\u7684\u6280\u8853\u6df1\u5ea6\u5f88\u6709\u9650\uff0c\u96a8\u8457\u6642\u4ee3\u9032\u6b65\u5c08\u696d\u5206\u5de5\u4e5f\u662f\u4e00\u7a2e\u8da8\u52e2\uff0c\u73fe\u5728\u8edf\u9ad4\u958b\u767c\u6700\u7c97\u7565\u7684\u5206\u5de5\u5f88\u591a\u5c31\u662f\u5148\u4e00\u5206\u70ba\u4e8c\u518d\u8aaa\uff0c\u4f46\u9019\u7a2e\u5947\u602a\u7684\u523b\u677f\u5370\u8c61\u548c\u8cbc\u6a19\u7c64\u65b9\u5f0f\u4e5f\u5c31\u51fa\u73fe\u3002\\n\\n\u4ee5\u5f80\u88ab\u540c\u4e8b\u554f\u5230\u8aaa\u524d\u7aef\u548c\u5f8c\u7aef\u5dee\u5225\u5728\u54ea\u88e1\uff0c\u901a\u5e38\u6211\u7684\u56de\u7b54\u5c31\u662f\u8aaa\u4e00\u500b\u7a0b\u5f0f\u7684\u57f7\u884c\u74b0\u5883\u5728\u700f\u89bd\u5668\u4e0a\uff0c\u53e6\u4e00\u500b\u57f7\u884c\u74b0\u5883\u5728server\u4e0a\uff0c\u90fd\u4e00\u6a23\u662f\u5beb\u7a0b\u5f0f\u9019\u6a23\u3002\u6703\u9019\u6a23\u56de\u7b54\u662f\u6211\u771f\u5fc3\u9019\u6a23\u89ba\u5f97 XD \u81f3\u65bc\u6703\u5beb\u4ec0\u9ebc\u4e5f\u662f\u8981\u770b\u4f60\u89e3\u6c7a\u7684\u554f\u984c\u662f\u4ec0\u9ebc\u4e5f\u6703\u4e0d\u540c\u554a\uff0c\u5f62\u8c61\u7db2\u9801\u3001\u96fb\u5546\u3001\u6216\u5404\u7a2e\u7684SI\uff0c\u505a\u7684\u4e8b\u60c5\u548c\u9700\u8981\u7684\u6280\u8853\u4e5f\u90fd\u5b8c\u5168\u4e0d\u540c\u3002\u5c31\u6bd4\u5982\u6211\u5beb\u524d\u7aef\u4e5f\u5beb\u904e\u9700\u8981\u4e00\u6b21\u8655\u7406\u5e7e\u767emb\u8cc7\u6599\u3001\u7136\u5f8c\u9084\u5beb\u4e00\u5927\u7aef\u6f14\u7b97\u6cd5\u548c\u6578\u5b78\u53bb\u8a08\u7b97\uff0c\u4f60\u4ee5\u70ba\u53ea\u6709\u5f8c\u7aef\u6703\u505a\u9019\u7a2e\u4e8b\u55ce XD\\n\\n\u6211\u8b1b\u4e00\u4e0b\u6211\u7684\u7248\u672c\u7684\u524d\u7aef\u548c\u5f8c\u7aef\uff1a\\n\\n### 1.\u5546\u696d\u4e0a\\n\\n\u5c31\u5546\u696d\u4e0a\u5f8c\u7aef\u901a\u5e38\u6703\u66f4\u63a5\u8fd1 Domain Know How\uff0c\u4e0d\u7ba1\u662f\u54ea\u4e00\u500b\u9818\u57df\u7684 Know How\u90fd\u6703\u4e0d\u592a\u4e00\u6a23\uff0c\u800c\u4e14\u90fd\u6703\u53cd\u6620\u5230\u8cc7\u6599\u7d50\u69cb\u548c\u6d41\u7a0b\u4e0a\u9762\u3002\u518d\u4f86\u5c31\u662f\u4e0d\u540c Scale\u7684\u4f7f\u7528\u91cf\u5728 infrastructure\u4e0a\u53c8\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u4e16\u754c\u3002\u5f88\u591a\u6771\u897f\u4e5f\u53ea\u80fd\u5728\u696d\u754c\u4e2d\u7279\u5b9a\u7684level\u88e1\u624d\u80fd\u5920\u63a5\u89f8\u7684\u5230\u3002\u7531\u65bc\u4e16\u754c\u5c31\u662f\u9019\u9ebc\u5927\uff0c\u5728\u4e2d\u578b\u4ee5\u4e0a\u516c\u53f8\u4e2d\u5f8c\u7aef\u9019\u500b\u8a5e\u6703\u986f\u5f97\u5f88\u6a21\u7cca\uff0c\u53ef\u80fd\u5c31\u6703\u51fa\u73feSRE\u3001DevOps\u3001DBA\u3001MIS \u53ed\u5566\u53ed\u5566\u3002\\n\\n\u5f9e\u9019\u500b\u89d2\u5ea6\u770b\u524d\u7aef\u5c31\u55ae\u7d14\u5f97\u591a\uff0c\u901a\u5e38\u524d\u7aef\u5df2\u7d93\u900f\u904e api \u4f86\u53d6\u5f97\u8cc7\u6599\uff0c\u96e2 Domain Know How\u5c31\u6bd4\u8f03\u9060\u4e86\uff0c\u4f46\u662f\u6703\u76f4\u63a5\u9762\u5c0d End User\uff0c\u4e5f\u5c31\u662f\u8aaa\u91cd\u9ede\u5176\u5be6\u662f\u5728 UI \u548c UX\u3002UI/UX\u662f\u4e00\u500b\u6bd4\u8f03\u65b0\u4e00\u9ede\u7684\u540d\u8a5e\uff0c\u53e4\u65e9\u6642\u671f\u8b1b\u7684\u662f\u300c\u5207\u7248\u300d\u548c\u300c\u63a5API\u300d\uff0c\u7528\u6700\u7c21\u55ae\u7684\u8a9e\u8a00\uff08\u7701\u7565\u6389\u4e00\u5343\u5b57\uff09\u4f86\u8b1b\u73fe\u4ee3\u548c\u53e4\u4ee3\u7684\u5dee\u7570\u5c31\u662f\u5dee\u5728\u300c\u8907\u96dc\u5ea6\u300d\u800c\u5df2\uff0c\u7576\u8907\u96dc\u5ea6\u5230\u4e00\u5b9a\u7a0b\u5ea6\u5c31\u53ef\u4ee5\u628a\u7db2\u9801\u7576\u4f5c\u662f\u4e00\u7a2e app\u4e86\uff0c\u5dee\u5225\u53ea\u5728\u65bc\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528 OS \u7684 API \u800c\u7db2\u9801\u4f7f\u7528 Web API\uff0c\u800c\u4e14\u6839\u64da\u7d71\u8a08\u73fe\u5728\u524d\u7aef\u5de5\u7a0b\u5e2b\u7684\u5e73\u5747\u85aa\u8cc7\u4e5f\u6bd4\u624b\u6a5fapp\u5de5\u7a0b\u5e2b\u9084\u8981\u4f86\u5f97\u9ad8\uff0c\u53ef\u898b\u5176\u8907\u96dc\u5ea6\u4e0d\u53ef\u540c\u65e5\u800c\u8a9e\uff08\u6211\u81ea\u5df1\u4e5f\u5beb\u904e\u4e00\u9ede app\u4e5f\u4e0a\u67b6\u904e app\u6240\u4ee5\u4e5f\u4e0d\u5b8c\u5168\u662f\u9375\u76e4\u4fe0 XD\uff09\u3002\u518d\u56de\u5230 UI/UX\uff0c\u7576\u516c\u53f8\u6709\u91cd\u8996\u5230\u4f7f\u7528\u8005\u9ad4\u9a57\u6216\u4e00\u4e9b\u9580\u9762\u554f\u984c\uff0c\u524d\u7aef\u89d2\u8272\u5fc5\u7136\u5c31\u6703\u8b8a\u5f97\u66f4\u91cd\u8981\uff0c\u96a8\u8457\u91cd\u8996\u7a0b\u5ea6\u589e\u52a0\uff0c\u5c31\u6703\u958b\u59cb\u7368\u7acb\u51fa Designer\u3001UX Designer\u3001UX Researcher\u7b49\u3002\\n\\n### 2.\u6280\u8853\u4e0a\\n\\n\u5f9e\u6280\u8853\u4e0a\u4f86\u770b\uff0c\u5f8c\u7aef\u7684\u91cd\u9ede\u5728\u300c\u8cc7\u6599\u7d50\u69cb\u300d\u548c\u300c\u7cfb\u7d71\u8a2d\u8a08\u300d\uff0c\u9019\u4e9b\u77e5\u8b58\u5c0d\u65bc\u672c\u79d1\u7cfb\u51fa\u8eab\u7684\u4eba\u4f86\u8aaa\u78ba\u5be6\u66f4\u6709\u512a\u52e2\uff0c\u4f46\u5be6\u969b\u4e0a\u4f86\u8aaa\u591a\u9760\u5de5\u4f5c\u7d93\u9a57\u4e2d\u5b78\u7fd2\uff0c\u672c\u79d1\u7cfb\u512a\u52e2\u96a8\u8457\u51fa\u793e\u6703\u5e7e\u5e74\u5f8c\u5f88\u5feb\u5c31\u6703\u4e0d\u898b\u4e86\u3002\u7531\u65bc\u5f8c\u7aef\u7bc4\u570d\u5ee3\u6cdb\uff0c\u6bcf\u500b\u4eba\u8d70\u7684\u8def\u90fd\u6703\u4e0d\u592a\u4e00\u6a23\uff0c\u4ee5\u6211\u6709\u9650\u7d93\u9a57\u6c92\u8fa6\u6cd5\u63d0\u51fa\u4ec0\u9ebc\u7cbe\u95e2\u7684\u898b\u89e3 XD\uff0c\u4f46\u5c31\u6211\u7684\u89c0\u5bdf\u901a\u5e38\u4f86\u8aaa\u5728\u5c0f\u516c\u53f8\u6703\u6bd4\u8f03\u8457\u91cd\u6574\u9ad4\u7cfb\u7d71\u67b6\u69cb\u548c\u7dad\u904b\u7684\u77e5\u8b58\uff0c\u5c0d\u6280\u8853\u7684\u8981\u6c42\u4e5f\u6c92\u90a3\u9ebc\u6df1\u5165\uff0c\u5728\u5927\u516c\u53f8\u5f88\u591a\u4e5f\u4e0d\u898b\u5f97\u80fd\u8ca0\u8cac\u5230\u4ec0\u9ebc\u5f88\u91cd\u8981\u7684\u5de5\u4f5c\uff1b\u6240\u4ee5\u901a\u5e38\u4f86\u8aaa\u5f88\u591a\u4eba\u6703\u9078\u64c72~3\u5e74\u63db\u4e00\u6b21\u5de5\u4f5c\u4f86\u7d2f\u7a4d\u81ea\u5df1\u5728\u4e0d\u540c\u9762\u5411\u7684\u5de5\u4f5c\u6280\u80fd\u548c\u5be6\u529b\u3002\u4f46\u6211\u7684\u610f\u601d\u4e5f\u4e0d\u662f\u8aaa\u524d\u7aef\u4e0d\u9700\u89812~3\u5e74\u63db\u4e00\u6b21\u5de5\u4f5c\uff0c\u6bd4\u8f03\u50cf\u662f\u5f8c\u7aef\u7684\u8077\u6daf\u767c\u5c55\u4e0a\u591a\u5143\u4e00\u4e9b\u6703\u9700\u8981\u66f4\u591a\u4e0d\u540c\u7684\u89d2\u8272\u8b8a\u63db\u4f86\u7d2f\u7a4d\u7d93\u9a57\uff0c\u4ee5\u53ca\u8d70\u51fa\u81ea\u5df1\u7684\u9053\u8def\u3002\\n\\n\u5f9e\u6280\u8853\u4e0a\u4f86\u770b\u524d\u7aef\u7684\u8a71\uff0c\u524d\u7aef\u6bd4\u8f03\u50cf\u662f\u5927\u5bb6\u770b\u7684\u5230\u7684\u90a3\u500b\u51b0\u5c71\uff0c\u5f8c\u7aef\u50cf\u662f\u6c34\u9762\u4e0b\u770b\u4e0d\u5230\u7684\u51b0\u584a\u3002\u96d6\u7136\u6c34\u9762\u4e0a\u7684\u51b0\u5c71\u9ad4\u7a4d\u6c92\u6709\u6c34\u9762\u4e0b\u4f86\u5f97\u5927\uff0c\u4f46\u662f\u62cb\u982d\u9732\u9762\u7684\u4ee3\u50f9\u662f\u8981\u80fd\u61c9\u4ed8\u9019\u500b\u8b8a\u5316\u6108\u4f86\u6108\u5feb\u7684\u4e16\u754c\uff0c\u6bcf\u4e00\u5e74\u90fd\u6709\u65b0\u7684\u8a2d\u8a08\u8da8\u52e2\uff0c\u6bcf\u4e00\u5e74\u90fd\u6709\u65b0\u7684\u5546\u696d\u61c9\u7528\uff0c\u8981\u600e\u9ebc\u8a0e\u597d\u4f7f\u7528\u8005\u524d\u7aef\u90fd\u9996\u7576\u5176\u885d\uff0c\u4e5f\u5c31\u56e0\u6b64\u524d\u7aef\u6703\u66f4\u8457\u91cd\u5728\u65bc\u300c\u5de5\u5177\u4f7f\u7528\u300d\u7684\u6280\u80fd\uff0c\u5728\u5e7e\u5e74\u524d\u524d\u7aef\u6846\u67b6\u7684\u6230\u570b\u6642\u671f\u6709\u4eba\u5c31\u6232\u7a31\u6bcf\u4e00\u5929\u8d77\u5e8a\u90fd\u6703\u6709\u65b0\u7684\u524d\u7aef\u6846\u67b6\u8a95\u751f\uff0c\u7562\u7adf\u4ec0\u9ebc\u90fd\u8981\u81ea\u5df1\u4f86\u9020\u8f2a\u80ce\u5c31\u592a\u6162\u4e86\uff0c\u7a4d\u6975\u4f7f\u7528\u6700\u65b0\u6280\u8853\u624d\u8ddf\u5f97\u4e0a\u6642\u4ee3\u9032\u6b65\u901f\u5ea6\u3002\u518d\u4f86\u9084\u6709\u4e00\u500b\u6bd4\u8f03\u5c11\u4eba\u6ce8\u610f\u5230\u7684\u5c31\u662f\u8edf\u5be6\u529b\u7684\u90e8\u4efd\uff0c\u524d\u7aef\u5de5\u7a0b\u5e2b\u4e0d\u662f\u8981\u5beb code\u800c\u5df2\uff0c\u524d\u7aef\u662f\u548c\u5f8c\u7aef\u3001\u548c\u8a2d\u8a08\u5e2b\u4e4b\u9593\u7684\u6a4b\u6a11\uff0c\u9664\u4e86\u6e9d\u901a\u80fd\u529b\u5916\u3001\u9084\u6703\u9700\u8981\u4e00\u4e9b\u8a2d\u8a08\u601d\u7dad\uff0c\u624d\u80fd\u5920\u548c\u8a2d\u8a08\u5e2b\u7dca\u5bc6\u5408\u4f5c\u3002\\n\\n### 3.\u6bd4\u8f03\\n\\n\u5f88\u591a\u4eba\u5c0d\u65bc\u524d\u7aef\u5de5\u7a0b\u5e2b\u7684\u5370\u8c61\u6703\u505c\u7559\u5728\u524d\u7aef\u5f88\u591a\u8f49\u8077\u3001\u975e\u672c\u79d1\u7cfb\u7b49\u7b49\uff0c\u5c31\u89ba\u5f97\u6280\u8853\u9580\u6abb\u6c92\u90a3\u9ebc\u9ad8\uff0c\u4f46\u771f\u7684\u662f\u9019\u6a23\u55ce\uff1f\u5c31\u6211\u524d\u9762\u63d0\u5230\u7684\u524d\u7aef\u66f4\u8457\u91cd\u5728\u300c\u5de5\u5177\u4f7f\u7528\u300d\u4e0a\uff0c\u70ba\u8ddf\u4e0a\u6642\u4ee3\u5feb\u901f\u8b8a\u5316\u52a0\u4e0a\u793e\u7fa4\u7684\u767c\u9054\uff0c\u591a\u6578\u4eba\u601d\u60f3\u4e0a\u90fd\u6bd4\u8f03\u958b\u653e\u591a\u5143\u4e00\u4e9b\uff0c\u6703\u66f4\u9f13\u52f5\u548c\u5305\u5bb9\u4e0d\u540c\u80cc\u666f\u4e00\u4eba\u4e00\u8d77\u52a0\u5165\u5b78\u7fd2\u3002\u4f46\u4f60\u5982\u679c\u60f3\u8981\u9032\u4e00\u6b65\u63d0\u5347\u81ea\u5df1\u7684\u6642\u5019\u5c31\u6703\u9047\u5230\u898b\u5c71\u4e0d\u662f\u5c71\u7684\u554f\u984c\uff0c\u8981\u66f4\u9032\u6b65\u9084\u662f\u9700\u8981\u53bb\u5b78\u7fd2\u5e95\u5c64\u7684\u77e5\u8b58\u3002\u5beb\u7a0b\u5f0f\u7684\u672c\u8cea\u662f\u4e00\u6a23\u7684\uff0c\u8edf\u9ad4\u5de5\u7a0b\u4e2d\u5e38\u898b\u7684\u540d\u8a5e\u524d\u7aef\u6240\u8981\u5b78\u7684\u548c\u5f8c\u7aef\u53ef\u80fd\u4e0d\u592a\u4e00\u6a23\uff0c\u537b\u4e0d\u6703\u5c11\uff0c\u6211\u7b2c\u4e00\u4efd\u5de5\u4f5c\u5b78 Angular.js \u5f9e\u7b2c\u4e00\u5929\u958b\u59cb\u5c31\u88ab\u4e3b\u7ba1\u8981\u6c42\u5b78\u4ec0\u9ebc\u662f MVVM\uff0c\u4ec0\u9ebc\u662f\u4f9d\u8cf4\u6ce8\u5165\uff0c\u56e0\u70ba\u9019\u5169\u500b\u90fd\u662f Angular.js \u7684\u6838\u5fc3\u908f\u8f2f\uff1bVue\u6709\u7528\u5230 Observer Pattern\uff1bReact \u4e3b\u6253 Functional Programing\uff0cAngular \u559c\u6b61\u5beb OOP\uff08OOP\u548cFP\u7684\u6230\u722d\u5c31\u662f\u9019\u6a23\u958b\u59cb\uff09\uff1b\u70ba\u63d0\u9ad8\u908f\u8f2f\u7684 reuse \u6700\u65b0\u7684 Vue3\u548c React \u4e5f\u7528\u5404\u81ea\u7684\u65b9\u5f0f\u5be6\u4f5c Composition Pattern\uff1b\u518d\u4f86\u524d\u7aef\u4f7f\u7528\u72c0\u614b\u6a5f\u5e7e\u4e4e\u90fd\u662f\u6a19\u914d\uff0c\u4f60\u5f8c\u7aef\u6709\u7528\u5230\u72c0\u614b\u6a5f\u55ce\uff08\u6012 XD\uff09\u3002\u9019\u6a23\u4f60\u8981\u8aaa\u8edf\u5de5\u7684\u6771\u897f\u662f\u5f8c\u7aef\u5de5\u7a0b\u5e2b\u5728\u5b78\u7684\u6211\u662f\u9ed1\u4eba\u554f\u865f\u3002\\n\\n\u56e0\u70ba\u5206\u5de5\u4e0a\u5df2\u7d93\u628a\u4e92\u52d5\u7684\u90e8\u4efd\u5207\u5230\u524d\u7aef\u4f86\u505a\uff0c\u6240\u4ee5\u524d\u7aef\u6709\u4e00\u5927\u5806\u72c0\u614b\u7ba1\u7406\u4e0a\u884d\u751f\u51fa\u4f86\u7684 issue\uff0c\u4f46\u5f8c\u7aef API \u57fa\u672c\u4e0a\u4e3b\u6d41\u7684\u5beb\u6cd5\u901a\u5e38\u90fd\u662f stateless\u7684\uff0c\u4e00\u500binput\u5c31\u6703\u6709\u540c\u6a23\u7684output\uff0cAPI Service\u7a0b\u5f0f\u908f\u8f2f\u4e0a\u53cd\u800c\u6c92\u90a3\u9ebc\u8907\u96dc\uff0c\u901a\u5e38\u6703\u6bd4\u8f03\u8457\u91cd\u5728\u300c\u8cc7\u6599\u7d50\u69cb\u300d\u7684\u8a2d\u8a08\u4e0a\u3002\u4f46 API service\u53ea\u4f54\u5f8c\u7aef\u7684\u4e00\u5c0f\u584a\uff0c\u80cc\u5f8c\u51b0\u5c71\u4e0binfrastructure\u7684\u90a3\u4e00\u5927\u584a\u624d\u662f\u5f8c\u7aef\u5967\u5999\u4e4b\u8655\uff0c\u6574\u500b\u62bd\u8c61\u5316\u4f86\u770b\u4e5f\u5c31\u662f\u6240\u8b02\u300c\u7cfb\u7d71\u8a2d\u8a08\u300d\u3002\u5c31\u6211\u6709\u9650\u7684\u5f8c\u7aef\u7d93\u9a57\u4f86\u770b\uff0c\u5f8c\u7aef\u901a\u5e38\u6bd4\u8f03\u4e0d\u559c\u6b61\u8655\u7406\u8b8a\u52d5\u6027\u7684\u554f\u984c\uff0c\u5c24\u5176\u662f Table Schema\u6700\u597d\u80fd\u4e0d\u52d5\u5c31\u4e0d\u8981\u52d5\uff0c\u8cc7\u6599\u5eab\u721b\u6389\u7684\u8a71\u8fa6\u516c\u5ba4\u884c\u674e\u5927\u6982\u53ef\u4ee5\u76f4\u63a5\u6253\u5305\u56de\u5bb6\u4e86\uff0c\u6211\u8a18\u5f97\u6211\u7b2c\u4e00\u4efd\u5de5\u4f5c\u5e38\u5e38\u5f85\u5230\u534a\u591c\u5f88\u591a\u90fd\u662f\u70ba\u4e86\u5f8c\u7aef\u554f\u984c\uff0c\u8fa6\u516c\u5ba4\u88e1\u5269\u4e0b\u81ea\u5df1\u4e00\u500b\u4eba\u62ef\u6551\u8cc7\u6599\u7684\u7684\u5fc3\u60c5\u9084\u8a18\u61b6\u7336\u65b0\u3002\u7576\u7136\u65b0\u7684\u958b\u767c\u8005\u4e5f\u6bd4\u8f03\u4e0d\u6703\u50cf\u4ee5\u524d\u7684\u8001\u5de5\u7a0b\u5e2b\u4e00\u6a23\u62b1\u8457\u90a3\u7a2e\u80fd\u4e0d\u6539\u5c31\u4e0d\u8981\u6539\u7684\u60f3\u6cd5\uff0c\u6709\u5f88\u591a\u4eba\u958b\u59cb\u6295\u5165 DevOps\uff0c\u5176\u4e2d DevOps\u5927\u591a\u662f\u7531\u5f8c\u7aef\u8f49\u904e\u53bb\u6216\u8005\u517c\u8457\u505a\u7684\uff0c\u56e0\u70ba DevOps\u88e1\u9762\u5f88\u91cd\u8981\u7684\u4e00\u584aCI/CD\u9700\u8981\u5f9e\u6574\u500b\u7cfb\u7d71\u67b6\u69cb\u4f86\u505a\u8a2d\u8a08\u3002\\n\\n### 4.\u7e3d\u7d50\\n\\n\u5c31\u6574\u9ad4\u4f86\u8aaa\uff0c\u50b3\u7d71\u7684\u5f8c\u7aef\u5de5\u7a0b\u5e2b\u6703\u986f\u5f97\u8f03\u4fdd\u5b88\u4e00\u9ede\uff0c\u76f8\u8f03\u4f86\u8aaa\u524d\u7aef\u56e0\u70ba\u767c\u5c55\u7684\u6bd4\u8f03\u8fd1\u671f\u4e00\u9ede\u6240\u4ee5\u4fdd\u5b88\u6d3e\u4e5f\u8f03\u5c11\u3002\u4f46\u6bcf\u9593\u516c\u53f8\u548c\u6bcf\u500b\u4eba\u500b\u9ad4\u5dee\u7570\u5176\u5be6\u5f88\u5927 - \u5beb\u524d\u7aef\u4e5f\u5f88\u591a\u4eba\u53ea\u5957\u6846\u67b6\u4f46\u4e0d\u5b78\u80cc\u5f8c\u77e5\u8b58\uff0c\u5f88\u5feb\u5c31\u505c\u6b62\u5b78\u7fd2\u4e86\uff1b\u5beb\u5f8c\u7aef\u4e5f\u5f88\u591a\u65b0\u6f6e\u7684\u6846\u67b6\u3001\u6280\u8853\u548c\u793e\u7fa4\u3001\u64c1\u62b1\u8b8a\u52d5\u3002\u5982\u679c\u8981\u8aaa\u54ea\u500b\u9580\u6abb\u6bd4\u8f03\u4f4e\uff0c\u90a3\u4e5f\u53ea\u662f\u56e0\u70ba\u53ea\u770b\u5230\u6700\u4f4e\u9580\u6abb\u800c\u5df2\uff0c\u800c\u4e14\u9019\u7a2e\u4e8b\u60c5\u5c31\u662f\u4e92\u70ba\u56e0\u679c\u7684\u554f\u984c\uff0c\u7576\u4f60\u89ba\u5f97\u67d0\u4ef6\u4e8b\u60c5\u4e0d\u91cd\u8981 \u2192 \u90a3\u4ed6\u5c31\u6703\u8b8a\u5f97\u4e0d\u91cd\u8981 \u2192 \u6700\u5f8c\u4ed6\u5c31\u771f\u7684\u4e0d\u91cd\u8981\u4e86\u3002"},{"id":"2023/01/02/new-docusaurus-website","metadata":{"permalink":"/blog/2023/01/02/new-docusaurus-website","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023/2023-01-02-2023\u90e8\u843d\u683c\u642c\u5bb6\u5230 Docusaurus.md","source":"@site/blog/2023/2023-01-02-2023\u90e8\u843d\u683c\u642c\u5bb6\u5230 Docusaurus.md","title":"2023\u90e8\u843d\u683c\u642c\u5bb6\u5230 Docusaurus","description":"\u5229\u7528\u5143\u65e6\u7684\u4e09\u5929\u9023\u5047\uff08\u96d6\u7136\u5927\u6982\u6709\u4e00\u534a\u6642\u9593\u662f\u5728\u800d\u5ee2\uff09\uff0c\u628a\u6211\u539f\u672c\u7528 Hugo\u67b6\u7684\u90e8\u843d\u683c\u6587\u7ae0\u5168\u90e8\u642c\u5230 Docusaurus\u4e0a\u3002","date":"2023-01-02T00:00:00.000Z","formattedDate":"January 2, 2023","tags":[{"label":"docusaurus","permalink":"/blog/tags/docusaurus"}],"readingTime":1.79,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2023/01/02/new-docusaurus-website","title":"2023\u90e8\u843d\u683c\u642c\u5bb6\u5230 Docusaurus","authors":"thunderboy","tags":["docusaurus"]},"prevItem":{"title":"\u5de5\u4f5c\u5fc3\u5f97 - \u95dc\u65bc\u524d\u5f8c\u7aef","permalink":"/blog/2023/07/09/experience-frontend-and-backend"},"nextItem":{"title":"node.js\u74b0\u5883\u5404\u7a2e\u795e\u79d8\u554f\u984c\u89e3\u6c7a","permalink":"/blog/2022/12/21/node-env-problems-of-frontend-project-solved"}},"content":"\u5229\u7528\u5143\u65e6\u7684\u4e09\u5929\u9023\u5047\uff08\u96d6\u7136\u5927\u6982\u6709\u4e00\u534a\u6642\u9593\u662f\u5728\u800d\u5ee2\uff09\uff0c\u628a\u6211\u539f\u672c\u7528 Hugo\u67b6\u7684\u90e8\u843d\u683c\u6587\u7ae0\u5168\u90e8\u642c\u5230 Docusaurus\u4e0a\u3002\\n\\n\u4e4b\u524d\u4e00\u76f4\u627e\u4e0d\u5230\u6211\u7406\u60f3\u7684\u90e8\u843d\uff0c\u6211\u6700\u4e3b\u8981\u7684\u56f0\u64fe\u662f\u5f88\u591a\u90e8\u843d\u683c\u90fd\u6c92\u6709\u4e00\u500b\u597d\u7684\u7de8\u76ee\u529f\u80fd\uff0c\u820a\u7684\u6587\u7ae0\u5f88\u5bb9\u6613\u5c31\u57cb\u6c92\u5230\u5206\u9801\u5668\u4e2d\u5f88\u96e3\u88ab\u6aa2\u8996\u5230\u3002\u7136\u5f8c\u6211\u53c8\u5e0c\u671b\u9019\u500b\u90e8\u843d\u683c\u662f\u4f7f\u7528 Markdown\u683c\u5f0f\u7684\uff0c\u6240\u4ee5\u80fd\u6709\u7684\u9078\u64c7\u5c31\u8b8a\u5f97\u5f88\u4fb7\u9650\u2026 \uff08Wordpress\u5c31\u4e0d\u7b26\u5408\u6211\u7684\u9700\u6c42\u4e86\uff09\u3002\u7576\u6642\u627e\u4e86\u5f88\u4e45\u5f8c\u662f\u63a1\u7528 Hugo\uff0c\u4f46\u5176\u5be6\u4e0d\u662f\u5f88\u6eff\u610f\uff0c\u96d6\u7136\u5b83\u6709 tag\u529f\u80fd\uff0c\u4f46\u662f\u9084\u662f\u537b\u5c11\u4e86\u6587\u7ae0\u5206\u985e\u7684\u529f\u80fd\u3002\\n\\n\u4e00\u76f4\u5230\u6211\u770b\u5230 Docusaurus\u624d\u767c\u73fe\u539f\u4f86\u9019\u500b\u624d\u662f\u6211\u9700\u8981\u7684\u90e8\u843d\u683c\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u96d6\u7136\u8aaa Docusaurus\u672c\u8eab\u662f\u8a2d\u8a08\u4f86\u70ba\u5efa\u7f6e\u6587\u4ef6\u5167\u5bb9\u7684\u7db2\u7ad9\uff0c\u4f46\u4ed6\u4e5f\u6709\u90e8\u843d\u683c\u7684\u529f\u80fd\u3002\\n\\n\u5177\u9ad4\u4f86\u8aaa\uff0c\u5b83\u5c07\u5167\u5bb9\u5206\u70ba\u5169\u5927\u985e\uff0c\u5206\u5225\u70ba\u300c\u6587\u4ef6\u300d(`docs`)\u4ee5\u53ca\u300c\u90e8\u843d\u683c\u300d(`blog`)\u3002\u6240\u8b02\u300c\u6587\u4ef6\u300d\uff0c\u5176\u5be6\u5c31\u9577\u5f97\u548c gitbook\u5dee\u4e0d\u591a\u3002\u96d6\u7136\u300c\u90e8\u843d\u683c\u300d\u529f\u80fd\u4e26\u6c92\u6709\u6211\u539f\u672c\u60f3\u8981\u7684\u7de8\u76ee\u529f\u80fd\uff0c\u4f46\u6211\u767c\u73fe\u5b83\u7684\u300c\u6587\u4ef6\u300d\u7684\u7de8\u76ee\u65b9\u5f0f\u5176\u5be6\u53cd\u800c\u624d\u662f\u6211\u6240\u9700\u8981\u7684\u3002\u540c\u6642\u6709\u9019\u5169\u7a2e\u5f62\u5f0f\uff0c\u5169\u8005\u53ef\u4ee5\u4e92\u76f8\u622a\u9577\u88dc\u77ed\u3002\\n\\n\u65b0\u5e74\u65b0\u6c23\u8c61\uff0c\u6709\u4e86\u65b0\u7684\u90e8\u843d\u683c\u4e4b\u5f8c\u8981\u4f86\u8a8d\u771f\u5beb\u6587\u7ae0\u4e86\uff08\uff1f\uff09\u3002"},{"id":"2022/12/21/node-env-problems-of-frontend-project-solved","metadata":{"permalink":"/blog/2022/12/21/node-env-problems-of-frontend-project-solved","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022/2022-12-21-node.js\u74b0\u5883\u5404\u7a2e\u795e\u79d8\u554f\u984c\u89e3\u6c7a.md","source":"@site/blog/2022/2022-12-21-node.js\u74b0\u5883\u5404\u7a2e\u795e\u79d8\u554f\u984c\u89e3\u6c7a.md","title":"node.js\u74b0\u5883\u5404\u7a2e\u795e\u79d8\u554f\u984c\u89e3\u6c7a","description":"\u524d\u8a00","date":"2022-12-21T00:00:00.000Z","formattedDate":"December 21, 2022","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"npm","permalink":"/blog/tags/npm"},{"label":"node.js","permalink":"/blog/tags/node-js"},{"label":"webpack","permalink":"/blog/tags/webpack"}],"readingTime":2.15,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2022/12/21/node-env-problems-of-frontend-project-solved","title":"node.js\u74b0\u5883\u5404\u7a2e\u795e\u79d8\u554f\u984c\u89e3\u6c7a","authors":"thunderboy","tags":["javascript","npm","node.js","webpack"]},"prevItem":{"title":"2023\u90e8\u843d\u683c\u642c\u5bb6\u5230 Docusaurus","permalink":"/blog/2023/01/02/new-docusaurus-website"},"nextItem":{"title":"\u7b2c\u4e00\u6b21\u767c\u5e03 npm\u524d\u7aef\u5957\u4ef6\u5c31\u4e0a\u624b","permalink":"/blog/2022/12/15/publish-js-library-to-npm"}},"content":"## \u524d\u8a00\\n\\n\u958b\u767c Vue\u5c08\u6848\u904e\u7a0b\u7576\u4e2d\u9047\u904e\u5404\u7a2enode\u74b0\u5883\u7684\u795e\u79d8\u554f\u984c\u3002\u6700\u5947\u602a\u7684\u662f\u672c\u6a5f\u7aef\u7684 node\u7248\u672c\u548c server\u7aef\u5b8c\u5168\u76f8\u540c\uff0c\u4f46\u662f\u672c\u6a5f\u7aef\u7684 npm install\u548c npm build\u662f\u6b63\u5e38\u6642\uff0c\u78ba\u4e0d\u80fd\u4fdd\u8b49 server\u7aef\u4e5f\u540c\u6a23\u6c92\u6709\u554f\u984c\u3002\\n\\n\u6211\u81ea\u5df1\u5c07\u5e38\u9047\u5230\u7684\u554f\u984c\u6574\u7406\u6210\u7b46\u8a18\u9806\u4fbf\u5206\u4eab\u7d66\u5927\u5bb6\u3002\u4f46\u6bcf\u500b\u4eba\u7684\u958b\u767c\u74b0\u5883\u53ca\u53ef\u80fd\u9047\u5230\u7684\u554f\u984c\u7686\u4e0d\u76f8\u540c\uff0c\u6240\u4ee5\u5c31\u50c5\u4f9b\u53c3\u8003\u4e86\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## 1. \u5207\u63dbnode\u7248\u672c\u9020\u6210sass\u6253\u5305\u5674\u932f\uff1a\\n\\n\u9996\u5148\u78ba\u8a8d node\u8ddf node-scss [\u7248\u672c\u5c0d\u7167\u8868](https://www.npmjs.com/package/node-sass)\uff0c\u521d\u6b65\u6392\u9664\u88dd\u932f\u7248\u672c\u7684\u554f\u984c\u3002\\n\\n## 2. npm\u795e\u79d8\u7684 cache\u554f\u984c\uff1a\\n\\n\u6392\u9664 cache\u7684\u554f\u984c\\n\\n```\\nrm -r node_modules\\nnpm cache clean --force\\n```\\n\\n\u518d\u4f86\u91cd\u65b0 `npm install`\u3001\u91cd\u65b0\u6253\u5305\u8a66\u8a66\\n\\n### \u89e3\u6c7a\u65b9\u5f0f\\n\\n\u5982\u679c\u4e0a\u8ff0\u554f\u984c\u90fd\u5df2\u6392\u9664\uff0c\u4e26\u4e14\u540c\u6a23\u7684 package.json\u5728\u4e0d\u540c\u74b0\u5883\u4e0b\u6709\u7684\u53ef\u4ee5 build\u6210\u529f\u6709\u7684\u4e0d\u6210\u529f\uff08\u6bd4\u5982\u672c\u6a5f\u53ef\u4ee5\u4f46server\u4e0a\u5931\u6557\uff09\uff0c\u9019\u7a2e\u60c5\u5f62\u901a\u5e38\u662f\u767c\u751f\u5728\u6709\u66f4\u63db\u74b0\u5883node\u7248\u672c\u7684\u60c5\u5f62\u4e0b\u3002\\n\\n\u89e3\u6c7a\u65b9\u5f0f\uff1a\\n\\n```\\nnpm rebuild sass\\n```\\n\\n\u7136\u5f8c\u518d\u91cd\u65b0 `npm install`\u5c31\u53ef\u4ee5\u4e86\\n\\n\u6211\u7684\u7406\u89e3\u662f\u67d0\u4e9b package\u7684\u4f9d\u8cf4\u662f\u5b58\u653e\u5728 npm\u7684\u74b0\u5883\u7576\u4e2d\uff0c\u800c\u4e0d\u662f\u5c08\u6848\u7684 node_mobules\u7576\u4e2d\uff0c\u6240\u4ee5\u66f4\u63db\u7248\u672c\u5f8c\u8981\u518d\u91cd\u65b0\u7de8\u8b6f (rebuild)\u3002\\n\\n\\n## 3. root\u6b0a\u9650\u554f\u984c\uff1a\\n\\n\u932f\u8aa4\u8a0a\u606f `gyp ERR! stack Error: EACCES: permission denied`\\n\\n\u9020\u6210\u932f\u8aa4\u7684\u539f\u56e0\u662f`npm`\u4e0d\u9069\u7528 `root`\u5e33\u6236\u6b0a\u9650\uff0c\u52a0\u4e0a\u53c3\u6578`--unsafe-perm=true --allow-root`\u53ef\u89e3\u6c7a\u554f\u984c\\n\\n```\\nsudo npm i --unsafe-perm=true --allow-root\\n```\\n\\n## \u53c3\u8003\u8cc7\u6599\\n\\n[What is difference between \'npm install\' and \'npm rebuild\'?](https://stackoverflow.com/questions/48473984/what-is-difference-between-npm-install-and-npm-rebuild)\\n\\n[npm rebuild node-sass \u662f\u4ec0\u4e48\u610f\u601d\uff0c\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528](https://segmentfault.com/q/1010000022868067)\\n\\n[npm install \u62a5\u9519\uff0c\u63d0\u793agyp ERR! stack Error: EACCES: permission denied \u89e3\u51b3\u65b9\u6cd5](https://blog.csdn.net/biao0309/article/details/90977752)"},{"id":"2022/12/15/publish-js-library-to-npm","metadata":{"permalink":"/blog/2022/12/15/publish-js-library-to-npm","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022/2022-12-15-\u7b2c\u4e00\u6b21\u767c\u5e03 npm\u524d\u7aef\u5957\u4ef6\u5c31\u4e0a\u624b.md","source":"@site/blog/2022/2022-12-15-\u7b2c\u4e00\u6b21\u767c\u5e03 npm\u524d\u7aef\u5957\u4ef6\u5c31\u4e0a\u624b.md","title":"\u7b2c\u4e00\u6b21\u767c\u5e03 npm\u524d\u7aef\u5957\u4ef6\u5c31\u4e0a\u624b","description":"\u4e00\u3001\u524d\u60c5\u63d0\u8981","date":"2022-12-15T00:00:00.000Z","formattedDate":"December 15, 2022","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"npm","permalink":"/blog/tags/npm"},{"label":"github","permalink":"/blog/tags/github"}],"readingTime":13.895,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2022/12/15/publish-js-library-to-npm","title":"\u7b2c\u4e00\u6b21\u767c\u5e03 npm\u524d\u7aef\u5957\u4ef6\u5c31\u4e0a\u624b","authors":"thunderboy","tags":["javascript","npm","github"]},"prevItem":{"title":"node.js\u74b0\u5883\u5404\u7a2e\u795e\u79d8\u554f\u984c\u89e3\u6c7a","permalink":"/blog/2022/12/21/node-env-problems-of-frontend-project-solved"},"nextItem":{"title":"xlsx-js-style \u524d\u7aef\u532f\u51fa\u81ea\u8a02\u6a23\u5f0fExcel\u6a94","permalink":"/blog/2022/12/07/xlsx-js-style"}},"content":"## \u4e00\u3001\u524d\u60c5\u63d0\u8981\\n\\n\u672c\u7bc7\u6587\u7ae0\u4ee5\u6211\u81ea\u5df1\u958b\u767c\u7684\u4e00\u500b library - [vue-component-sandbox](https://github.com/upstairs0102/vue-component-sandbox)\u4f5c\u70ba\u7bc4\u4f8b\uff0c\u8aaa\u660e\u767c\u4f48 javascript\u7a0b\u5f0f\u5230 npm\u4e0a\u9762\u6240\u9700\u7684\u76f8\u95dc\u6b65\u9a5f\u53ca\u8a2d\u5b9a\u3002\\n\\n\u4ee5\u9019\u500b\u7bc4\u4f8b\u4f86\u8aaa\uff0cvue-component-sandbox\u7684\u4e3b\u7a0b\u5f0f\u662f\u4e00\u500b Vue.js \u7684 Component\uff0c\u6211\u5e0c\u671b\u9664\u4e86\u5c07\u4e3b\u7a0b\u5f0f\u767c\u5e03\u5230 npm\u4e0a\u4ee5\u5916\uff0c\u9084\u5e0c\u671b\u80fd\u5efa\u7acb\u4e00\u500b\u7c21\u55ae\u7684\u5c55\u793a\u9801\u9762\uff0c\u6240\u4ee5\u6211\u9078\u64c7\u7528vue-cli\u5efa\u7acb\u5c08\u6848\uff0c\u628a\u4e3b\u7a0b\u5f0f\u548c\u5c55\u793a\u7db2\u9801\u653e\u5728\u76f8\u540c\u5c08\u6848\u88e1\u3002\u6574\u500b\u5c08\u6848\u6211\u63a8\u4e0aGithub\u4e26\u4f7f\u7528Github Pages\u5e03\u7f72\u975c\u614b\u7684\u5c55\u793a\u9801\u9762\uff0c\u4e26\u5c07Component\u6a94\u6848\u6240\u5728\u7684\u8cc7\u6599\u593e\u767c\u5e03\u81f3npm\u3002\\n\\n\u4f9d\u7167\u4e0a\u8ff0\u9700\u6c42\uff0c\u672c\u6587\u91cd\u9ede\u6709\u4e8c\uff1a\\n\\n1. \u767c\u5e03\u81f3npm\u7684\u76f8\u95dc\u8a2d\u5b9a\u53ca\u65b9\u5f0f\\n2. \u63a8\u4e0aGithub\u53ca\u5e03\u7f72\u7bc4\u4f8b\u7db2\u9801\uff08Github Pages\uff09\\n\\n\x3c!--truncate--\x3e\\n\\n\u8a3b\uff1a\u672c\u6587\u7684\u7bc4\u4f8b\u96d6\u7136\u662f\u51fa\u81ea vue-cli\u5efa\u7f6e\u7684\u5c08\u6848\uff0c\u4f46\u8981\u767c\u5e03\u4e0a npm\u4e3b\u8981\u8981\u505a\u7684\u662f package.json\u7684\u8a2d\u5b9a\uff0c\u53ea\u6709\u5728\u5e03\u7f72\u7bc4\u4f8b\u7db2\u9801\u6642\u9700\u8981\u505a\u7684\u8def\u7531\u53ca\u76f8\u95dc\u8a2d\u5b9a\u8ddf Vue.js\u7684\u6846\u67b6\u6709\u95dc\u5916\uff0c\u5176\u9918\u5167\u5bb9\u8ddf Vue.js\u90fd\u6c92\u4ec0\u9ebc\u76f4\u63a5\u95dc\u4fc2\u3002\u6240\u4ee5\u57fa\u672c\u4e0a\u7121\u8ad6\u4f60\u4f7f\u7528\u4f55\u7a2e\u524d\u7aef\u6846\u67b6\u3001\u6216\u6c92\u6709\u4f7f\u7528\u6846\u67b6\uff08\u800c\u4e14\u6982\u5ff5\u662f\u76f8\u540c\u7684\uff09\uff0c\u90fd\u4e0d\u6703\u5f71\u97ff\u5230\u672c\u6587\u7684\u95b1\u8b80\u3002\\n\\n\\n\\n## \u4e8c\u3001\u6a94\u6848\u53ca\u8cc7\u6599\u593e\u7d50\u69cb\\n\\n\u8cc7\u6599\u593e\u7d50\u69cb\u53ca\u6a94\u6848\u547d\u540d\u6c92\u6709\u6a19\u6e96\u7684\u5beb\u6cd5\uff0c\u5efa\u8b70\u53ef\u53c3\u8003 github\u4e0a\u8ddf\u81ea\u5df1\u6240\u8981\u958b\u767c\u6700\u76f8\u8fd1\u7684\u5c08\u6848\u662f\u600e\u9ebc\u8a2d\u8a08\u3002\\n\\n\u4ee5\u672c\u6587\u4e2d\u96d6\u7136\u4e26\u4e0d\u662f\u91cd\u9ede\u4f46\u6703\u8ddf\u5f8c\u7e8c\u5167\u5bb9\u606f\u606f\u76f8\u95dc\uff0c\u5c07\u6703\u4ee5 vue-component-sandbox\u4f5c\u70ba\u7bc4\u4f8b\uff0c\u5c07\u672c\u6587\u76f8\u95dc\u7684\u6a94\u6848\u53ca\u8cc7\u6599\u593e\u7d50\u69cb\u5217\u51fa\u4f86\uff0c\u65b9\u4fbf\u5f80\u5f8c\u7684\u7ae0\u7bc0\u53ef\u4ee5\u5c0d\u7167\u8457\u770b\uff1a\\n\\n```\\n/\\n\u251c\u2500\u2500demo\\n|   \u251c\u2500\u2500css\\n|   \u251c\u2500\u2500js\\n|   \u2514\u2500\u2500index.html\\n\u251c\u2500\u2500lib\\n|   \u251c\u2500\u2500main.js\\n|   \u2514\u2500\u2500styles.css\\n\u251c\u2500\u2500src\\n|   \u251c\u2500\u2500components\\n|   \u251c\u2500\u2500router\\n|   ...\\n|   \u2514\u2500\u2500main.html\\n\u251c\u2500\u2500package.json\\n\u251c\u2500\u2500README.md\\n...\\n```\\n\\n\u5176\u4e2d\u5e7e\u500b\u8f03\u91cd\u8981\u7684\u90e8\u4efd\u5217\u51fa\u4f86\u8aaa\u660e\uff1a\\n\\n* `/demo` \u5c55\u793a\u9801\u9762\u7684\u8cc7\u6599\u593e\u3002\u63db\u53e5\u8a71\u8aaa\u5c31\u662f\u7528 webpack\u6253\u5305\u51fa\u4f86\u7684\u8cc7\u6599\u593e\uff0cvue-cli\u9810\u8a2d\u70ba `dist`\u9019\u88e1\u53ea\u662f\u4fee\u6539\u4e86\u540d\u7a31\u800c\u5df2\u3002\\n* `/lib` \u8981\u767c\u5e03\u81f3 npm\u7684\u4e3b\u6a94\u7684\u8cc7\u6599\u593e\u4f4d\u7f6e\u3002\\n* `/src` \u5c55\u793a\u9801\u9762\u539f\u59cb\u6a94\u6848\u7684\u8cc7\u6599\u593e\uff08vue-cli \u9810\u8a2d\u7684\u6a94\u6848\u4f4d\u7f6e\uff09\u3002\\n* `package.json` node package \u8a2d\u5b9a\u6a94\u3002\\n\\n\\n\\n## \u4e09\u3001\u767c\u5e03\u81f3npm\u7684\u76f8\u95dc\u8a2d\u5b9a\u53ca\u65b9\u5f0f\\n\\n### \u5fc5\u586b\u7684 package.json\u6b04\u4f4d\u8a2d\u5b9a\\n\\n\u9996\u5148 webpack\u4e3b\u8981\u9700\u8981\u8a2d\u5b9a\u7684\u662f package.json\u6a94\u5fc5\u586b\u6b04\u4f4d\uff1a\\n\\n- `name`\uff1anode package \u7684\u540d\u7a31\uff08\u767c\u5e03\u81f3 npm\u4e0a\u6240\u4f7f\u7528\u7684\u540d\u7a31\uff09\u3002\\n- `version`\uff1a\u7248\u672c\u865f\u3002\u6bcf\u6b21\u767c\u5e03\u90fd\u8981\u5927\u65bc\u904e\u53bb\u7684\u7248\u672c\uff0c\u5426\u5247\u5c31\u6703\u767c\u5e03\u5931\u6557\u3002\\n- `main`\uff1anode package \u7684\u4e3b\u6a94\u3002\\n\\n\u5176\u5b83\u8f14\u52a9\u8cc7\u8a0a\u6b04\u4f4d\uff08\u975e\u5fc5\u586b\uff09\u6709 `license`\u3001`author`\u3001`homepage`\u3001`repository`\u7b49\uff0c\u76f8\u95dc\u7684\u8a73\u7d30\u8aaa\u660e\u53ef\u53c3\u8003\u5b98\u65b9\u6587\u4ef6 [npm docs](https://docs.npmjs.com/creating-a-package-json-file)\u3002\\n\\n\u4ee5\u6211 vue-component-sandbox\u4f5c\u70ba\u7bc4\u4f8b\u5982\u4e0b\u3002\\n\\n```json\\n// package.json\\n{\\n  \\"name\\": \\"vue-component-sandbox\\",\\n  \\"version\\": \\"0.3.0\\",\\n  \\"description\\": \\"A vue component sandbox that is quick and easy to use.\\",\\n  \\"author\\": \\"Adam You <upstairs0102@gmail.com>\\",\\n  \\"license\\": \\"MIT\\",\\n  \\"keywords\\": [\\n    \\"vue\\",\\n    \\"component\\",\\n    \\"sandbox\\",\\n    \\"vue-component\\"\\n  ],\\n  \\"main\\": \\"lib/main.js\\",\\n  \\"files\\": [\\n    \\"lib/*\\",\\n    \\"src/components/ComponentSandbox/*\\"\\n  ]\\n}\\n```\\n\\n\\n\\n### \u8a2d\u5b9a\u767c\u5e03\u81f3npm\u7684\u6a94\u6848\\n\\npackage.json\u4e2d\u8ddf\u6253\u5305\u6a94\u6848\u76f8\u95dc\u7684\u6b04\u4f4d\u6709`main`\u548c`files`\u3002\u8aaa\u660e\u5982\u4e0b\uff1a\\n\\n* `main`\uff1anode package \u7684\u4e3b\u6a94\u3002\\n\\n* `files`\uff1a\u6b04\u4f4d\u662f\u8a2d\u5b9a node package\u7684\u6a94\u6848\u7bc4\u570d\uff0c\u540c\u6642\u4e5f\u662f\u6703\u767c\u5e03\u81f3 npm\u7684\u6a94\u6848\uff1b\u5982\u679c\u6b64\u6b04\u4f4d\u6c92\u6709\u8a2d\u5b9a\u9810\u8a2d\u6703\u767c\u5e03\u6240\u6709\u7684\u6a94\u6848\u3002\\n\\n\u4ee5\u4e0a\u8ff0\u7684\u7bc4\u4f8b\u4f86\u4f5c\u8aaa\u660e\uff1a\\n\\n```js\\n\\"main\\": \\"lib/main.js\\",\\n\\"files\\": [\\n  \\"lib/*\\",\\n  \\"src/components/ComponentSandbox/*\\"\\n]\\n```\\n\\n\u4ee5\u6b64\u4f8b\u4f86\u8aaa\uff0c\u5047\u8a2d\u67d0\u4eba\u5df2\u5c07\u6b64\u5957\u4ef6\u900f\u904e npm\u5b89\u88dd \uff08\u6307\u4ee4`npm install vue-component-sandbox --save`\uff09 \u81f3\u4ed6\u7684\u5c08\u6848\u7576\u4e2d\u3002\u5728\u4ed6\u7684`node_modules`\u8cc7\u6599\u593e\u4e2d\u53ef\u4ee5\u627e\u5230 `vue-component-sandbox`\u8cc7\u6599\u593e\uff0c\u8a72\u8cc7\u6599\u593e\u5167\u9664\u4e86\u6703\u6709 package.json\u7b49\u57fa\u672c\u7684\u6a94\u6848\u5916\u9084\u6703\u6709 `lib`, `src`\u8cc7\u6599\u593e\u53ca\u6a94\u6848\u3002\\n\\n\\n\\n### \u5728main\u4e3b\u6a94export js module\\n\\n\u7531\u65bc\u6211\u4e0d\u9700\u8981\u5c07\u5c08\u6848\u4e2d\u6240\u6709\u7684\u6a94\u6848\u767c\u5e03\u5230 npm\u4e0a\uff08\u6bd4\u5982\u5c55\u793a\u9801\u9762\uff09\uff0c\u6240\u4ee5\u6211\u53ea\u5c07\u9700\u8981\u7684\u8cc7\u6599\u593e\u5beb\u5165\u524d\u4e00\u7ae0\u7bc0\u6240\u8aaa\u7684 `files`\u6b04\u4f4d\u4e2d\uff0c\u7136\u5f8c\u5728\u4e3b\u6a94\uff08`main`\u6b04\u4f4d\u4e2d\u8a2d\u5b9a\u7684\uff09\u4e2d\u628a\u9700\u8981\u7684\u6a94\u6848\u7d66 `export`\u51fa\u4f86\u3002\\n\\n\u6b64\u4f8b\u7684\u4e3b\u6a94\uff08`main`\u6b04\u4f4d\u7684\u8a2d\u5b9a\uff09\u662f`lib/main.js`\uff0c\u6b64\u6a94\u6848\u5167\u5bb9\u662f\u9019\u6a23\u5beb\u7684\uff1a\\n\\n```js\\n// lib/main.js\\nexport { default } from \'../src/components/ComponentSandbox/ComponentSandbox.vue\'\\n```\\n\\n\u7531\u65bc\u6b64\u4f8b\u4e2d export\u7684\u5beb\u6cd5\u662f `export default`\uff0c\u5047\u8a2d\u67d0\u4eba\u4f7f\u7528 npm\u5b89\u88dd\u4e86\u6b64\u5957\u4ef6\uff08\u5b89\u88dd\u81f3 node_modules\uff09\uff0c\u5728\u4ed6\u7684\u7a0b\u5f0f\u7576\u4e2d\u8981 import\u6b64\u5957\u4ef6\u7684\u8a9e\u6cd5\u70ba\uff1a\\n\\n```js\\nimport ComponentSandbox from \'vue-component-sandbox\'\\n```\\n\\n\u5176\u4e2d `vue-component-sandbox`\u5c0d\u61c9\u7684\u662f `name`\u6b04\u4f4d\u6240\u8a2d\u5b9a\u7684\u540d\u7a31\uff0cimport\u9032\u4f86\u7684\u7a0b\u5f0f\u4e5f\u5c31\u662f\u4e3b\u6a94\u6240 export \u7684 `default`\u3002\\n\\n\u5b89\u88dd\u6b64\u5957\u4ef6\u7684\u4eba\u5982\u679c\u9700\u8981 import\u9664\u4e86\u4e3b\u6a94\u6240\u63d0\u4f9b\u7684\u4ee5\u5916\u7684\u7a0b\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u76f8\u5c0d\u8def\u5f91\u7684\u65b9\u5f0f\uff0c\u6bd4\u5982\uff1a\\n\\n```js\\nimport \'vue-component-sandbox/lib/styles.css\'\\n```\\n\\n\u4ee5\u6b64\u4f8b\u7684\u5beb\u6cd5\uff0c`vue-component-sandbox`\u5c31\u4e0d\u662f\u4ee3\u8868\u4e3b\u6a94\uff0c\u800c\u662f\u5957\u4ef6\u5c08\u6848\u6839\u76ee\u9304\u7684\u8def\u5f91\uff08\u4e5f\u7b49\u540c\u65bc\u88ab\u5b89\u88dd\u7684\u5c08\u6848\u4e2d`node_modules`\u70ba\u8d77\u59cb\u7684\u76f8\u5c0d\u8def\u5f91\uff09\u3002\\n\\n\\n\\n### dependency \u548c devDependency\u7684\u5dee\u7570\\n\\n\u6bcf\u500b\u524d\u7aef\u7684\u958b\u767c\u8005\u61c9\u8a72\u90fd\u6703\u77e5\u9053 `dependency`\u662f\u751f\u7522\u74b0\u5883\u7684\u4f9d\u8cf4\u3001`devDependency`\u662f\u958b\u767c\u74b0\u5883\u7684\u4f9d\u8cf4\uff0c\u4f46\u771f\u6b63\u77e5\u9053\u5dee\u7570\u7684\u4eba\u53ef\u80fd\u5c31\u6c92\u90a3\u9ebc\u591a\u4e86\u3002\u56e0\u70ba\u6211\u5011\u901a\u5e38\u90fd\u6703\u6309\u7167\u6587\u4ef6\u4e0a\u6240\u63d0\u4f9b\u7684\u6307\u4ee4\u4f86\u5b89\u88dd\uff0c\u800c\u4e14\u7121\u8ad6\u653e\u54ea\u908a\u901a\u5e38\u4e5f\u4e0d\u6703\u51fa\u932f\uff0c\u6240\u4ee5\u5927\u591a\u6578\u4eba\u4e5f\u4e0d\u592a\u6e05\u695a\u5dee\u7570\u3002\\n\\n\u4f46\u662f\u8981\u767c\u5e03\u5230 npm\u4e0a\u5c31\u6703\u6709\u4e00\u4e9b\u8981\u6ce8\u610f\u7684\u4e8b\u3002\\n\\n\u6700\u76f4\u89c0\u7684\u5dee\u7570\u5c31\u5728\u65bc\u5176\u4ed6\u5c08\u6848\u4f9d\u8cf4\u4e86\u4f60\u7684 node package\u4e4b\u5f8c\uff08\u900f\u904e npm\u5b89\u88dd\uff09\uff0c\u4f60\u7684 package.json \u4e2d `dependency`\u7684\u4f9d\u8cf4\u6703\u88ab\u300c\u93c8\u5f0f\u300d\u7684\u5b89\u88dd\u5230 node_modules\u8cc7\u6599\u593e\u4e2d\u3002\\n\\n\u4e86\u89e3\u4e86\u9019\u500b\u5dee\u7570\uff0c\u6211\u5011\u5c31\u53ef\u4ee5\u9032\u4e00\u6b65\u7406\u89e3\u6240\u8b02**\u300c `dependency`\u662f\u751f\u7522\u74b0\u5883\u7684\u4f9d\u8cf4\u300d\u66f4\u5177\u9ad4\u7684\u610f\u601d\u662f\u8aaa\uff0c\u7576\u9019\u500b node package\u88ab\u5e03\u7f72\u5230 npm\u4e4b\u5f8c\uff08\u751f\u7522\u74b0\u5883\uff09\u7684\u4f9d\u8cf4\uff0c\u800c\u300c`devDependency`\u662f\u958b\u767c\u74b0\u5883\u7684\u4f9d\u8cf4\u300d\u6307\u7684\u662f\u672a\u767c\u5e03\u5230 npm\u6642\u7684\u4f9d\u8cf4\uff08\u5373\u4f7f\u9019\u500b node\u5c08\u6848\u88ab\u6253\u5305\u4e26\u5e03\u7f72\u6210\u70ba\u4e00\u500b web service\uff09**\u3002\\n\\n\u2026\u8b1b\u8d77\u4f86\u6709\u4e9b\u9952\u53e3\uff0c\u9019\u88e1\u7528 vue-component-sandbox \u4f5c\u70ba\u4f8b\u5b50\u3002\u5176 package.json \u4e2d\u7684\u4f9d\u8cf4\u7684\u8a2d\u5b9a\uff1a\\n\\n```js\\n\\"dependencies\\": {},\\n\\"devDependencies\\": {\\n  \\"@vue/cli-plugin-babel\\": \\"~4.5.0\\",\\n  \\"@vue/cli-plugin-router\\": \\"~4.5.0\\",\\n  \\"@vue/cli-service\\": \\"~4.5.0\\",\\n  \\"@vue/compiler-sfc\\": \\"^3.0.0\\",\\n  \\"core-js\\": \\"^3.6.5\\",\\n  \\"github-fork-ribbon-css\\": \\"^0.2.3\\",\\n  \\"vue\\": \\"^3.0.0\\",\\n  \\"vue-json-pretty\\": \\"^2.0.0-rc.3\\",\\n  \\"vue-router\\": \\"^4.0.0-0\\"\\n}\\n```\\n\\nvue-component-sandbox\u662f\u4e00\u500b\u901a\u6642\u652f\u63f4 Vue v2.x \u53ca v3.x\u7248\u672c\u7684\u5957\u4ef6\uff0c\u958b\u767c\u8005\u53ef\u4ee5\u4f9d\u7167\u4ed6\u672c\u8eab\u7684\u958b\u767c\u74b0\u5883\u4f86\u5b89\u88dd\u5c0d\u61c9\u7684\u4f9d\u8cf4\u3002README\u6587\u4ef6\u4e2d\u7684\u5b89\u88dd\u6307\u5f15\u6709\u9019\u6a23\u7684\u8aaa\u660e\uff1a\\n\\n```\\n\u652f\u63f4Vue v2.x\u53cav3.x\u3002\u4f9d\u8cf4vue-json-pretty\u5957\u4ef6\uff0c\u4e26\u4e14\u5fc5\u9808\u5b89\u88dd\u5c0d\u61c9\u7248\u672c\uff1a\\n\\nVue v2.x => vue-json-pretty v1.7.1 \u4ee5\u4e0a\uff0c\u6307\u4ee4 npm install vue-json-pretty@1.7.1 --save\\nVue v3.x\uff0c=> vue-json-pretty v2.0.0-rc3 \u4ee5\u4e0a\uff0c\u6307\u4ee4 npm install vue-json-pretty@2.0.0-rc.3 --save\\n```\\n\\n\u518d\u56de\u982d\u4f86\u770b\u4e0a\u9762\u7684 package.json\u4e2d\u6211\u5011\u53ef\u4ee5\u770b\u5230\u6240\u6709\u7684\u4f9d\u8cf4\u90fd\u88ab\u5b89\u88dd\u5230 `devDependencies`\u4e86\uff0c\u6240\u4ee5\u958b\u767c\u8005\u900f\u904e npm\u5b89\u88dd\u4e86\u9019\u500b node package (vue-component-sandbox)\u4e4b\u5f8c\uff0c\u5fc5\u9808\u81ea\u5df1\u624b\u52d5\u5b89\u88dd\u4ed6\u7684 Vue\u7248\u672c\u6240\u5c0d\u61c9\u7684 `vue-json-pretty`\u7248\u672c\u3002\\n\\n\u53cd\u4e4b\uff0c\u5982\u679c package.json\u5c07\u6240\u6709\u7684\u4f9d\u8cf4\u90fd\u653e\u5230\u4e86 `dependencies`\u800c\u4e0d\u662f\u672c\u4f8b\u4e2d\u7684 `devDependencies`\uff0c\u958b\u767c\u8005\u5b89\u88dd\u9019\u500b node package (vue-component-sandbox)\u5f8c\u5c31\u4e0d\u9700\u8981\u518d\u81ea\u5df1\u624b\u52d5\u5b89\u88dd `vue-json-pretty`\uff0c\u4f46\u5c31\u6c92\u6709\u8fa6\u6cd5\u8b93\u958b\u767c\u8005\u9078\u64c7\u81ea\u5df1\u6240\u9700\u8981\u7684\u7248\u672c\u4f86\u5b89\u88dd\u4e86\u3002\\n\\n\\n\\n### Publish!\\n\\n\u5b8c\u6210\u4e0a\u8ff0\u6240\u6709\u4e8b\u60c5\u4e4b\u5f8c\uff0c\u5269\u4e0b\u7684\u5de5\u4f5c\u5c31\u975e\u5e38\u7c21\u55ae\u4e86\uff1a\\n\\n1.\u81f3 npm\u5b98\u7db2\u4e0a\u8a3b\u518a npm\u5e33\u865f\\n\\n2.\u5728\u5c08\u6848\u4e2d\u4e0b\u6307\u4ee4 `npm publish`\u5373\u6210\u529f\u767c\u5e03\uff01\uff08\u9375\u5165\u6307\u4ee4\u5f8c console\u6703\u6307\u5f15\u4f60\u76f8\u95dc\u4e8b\u9805\uff0c\u6bd4\u5982\u6b64\u53f0\u96fb\u8166\u672a\u767b\u5165npm\u5e33\u865f\u7684\u8a71\u9700\u8981\u5148\u8f38\u5165\u6307\u4ee4\u767b\u5165\u5e33\u865f\uff09\\n\\n\\n\\n## \u56db\u3001\u63a8\u4e0aGithub\u53ca\u5e03\u7f72\u7bc4\u4f8b\u7db2\u9801\\n\\n### README.md\\n\\ngithub\u9801\u9762\u4e0a\u9810\u8a2d\u6703\u628a repo\u4e2d\u6839\u76ee\u9304\u4e2d\u7684 README.md\u6a94\u6848\u5167\u5bb9\u5448\u73fe\u51fa\u4f86\uff0c\u56e0\u6b64\u5b78\u7fd2 [markdown](https://markdown.tw/)\u6587\u4ef6\u64b0\u5beb\u662f\u975e\u5e38\u5fc5\u8981\u7684\uff08\u4e5f\u5f88\u7c21\u55ae\uff09\uff0c\u52d9\u5fc5\u5c07 README.md\u6587\u4ef6\u76e1\u53ef\u80fd\u7684\u64b0\u5beb\u5b8c\u6574\u3002\\n\\n\u4ee5 vue-component-sandbox\u70ba\u4f8b\uff0c\u7531\u4ee5\u4e0b\u7ae0\u7bc0\u5167\u5bb9\u7d44\u6210\uff1a\\n\\n* Features: \u7528\u7c21\u55ae\u7684\u5e7e\u53e5\u8a71\u6e05\u695a\u7684\u4ecb\u7d39\u6b64 repo\u7684\u7279\u8272\u53ca\u7528\u9014\u3002\\n* Links: \u76f8\u95dc\u9023\u7d50\uff0c\u5305\u542b npm\u9801\u9762\u53ca\u5c55\u793a\u9801\u9023\u7d50\u3002\\n* Environment: \u5b89\u88dd\u6b64\u5957\u4ef6\u7684\u74b0\u5883\u9700\u6c42\u3002\\n* Install: \u5b89\u88dd\u65b9\u5f0f\u3002\\n* Usage: \u4f7f\u7528\u65b9\u5f0f\u8aaa\u660e\uff1b\u5efa\u8b70\u53ef\u4ee5\u7684\u8a71\u8981\u63d0\u4f9b\u4e00\u500b Quick Start\uff08\u6700\u7c21\u6613\u8b93\u7a0b\u5f0f\u53ef\u4ee5\u57f7\u884c\u7684\u65b9\u5f0f\uff09\uff0c\u53e6\u5916API\u6587\u4ef6\u4e5f\u662f\u5fc5\u8981\u7684\u3002\\n\\n\u540c\u6a23\u7684\uff0c\u6587\u4ef6\u6c92\u6709\u6a19\u6e96\u7684\u5beb\u6cd5\uff0c\u5efa\u8b70\u53ef\u53c3\u8003 github\u4e0a\u8ddf\u81ea\u5df1\u6240\u8981\u958b\u767c\u6700\u76f8\u8fd1\u7684\u5c08\u6848\u662f\u600e\u9ebc\u64b0\u5beb\u7684\u3002\\n\\n\\n\\n### \u88fd\u4f5c\u7bc4\u4f8b\u7db2\u9801\\n\\n\u88fd\u4f5c\u7bc4\u4f8b\u9801\u7684\u597d\u8655\uff0c\u9664\u4e86\u958b\u767c\u8005\u5728\u700f\u89bd\u7db2\u9801\u6642\u5c31\u53ef\u4ee5\u5feb\u901f\u770b\u5230\u6210\u679c\uff0c\u4e26\u4e14\u5728 pull\u7a0b\u5f0f\u78bc\u5230\u672c\u6a5f\u5f8c\u5c31\u6709\u4e86\u53ef\u4ee5\u57f7\u884c\u7684\u7bc4\u4f8b\u7a0b\u5f0f\u3002\\n\\n\u6211\u5011\u8981\u628a\u7bc4\u4f8b\u9801\u900f\u904e Github Pages\u4f86\u5e03\u7f72\uff0c\u56e0\u6b64\u7bc4\u4f8b\u9801\u5fc5\u9808\u662f static\u7684\u7db2\u9801\uff0c\u6bcf\u4e00\u500b\u9801\u9762\u5fc5\u9808\u8981\u6709\u4e00\u500b\u5be6\u9ad4\u7684 html\u6a94\u6848\u3002\u5982\u679c\u6211\u5011\u60f3\u900f\u904e\u524d\u7aef\u8def\u7531\u958b\u767c SPA\u7db2\u9801\uff0c\u4e00\u500b\u53ef\u884c\u7684\u65b9\u5f0f\u662f\u900f\u904e URL\u4e0a `#`\u7b26\u865f\u4f86\u8ddf\u524d\u7aef\u8def\u7531\u6e9d\u901a\u3002\u9019\u7a2e\u6a21\u5f0f\u5728 Vue\u6846\u67b6\u4e2d\u7a31\u70ba **Hash Mode**\uff0c\u5728\u5176\u5b83\u7684\u524d\u7aef\u6846\u67b6\u6bd4\u5982 React, Angular\u4e5f\u90fd\u6709\u76f8\u540c\u7684\u8def\u7531\u8a2d\u5b9a\u3002\\n\\n\\n\\n### Github Pages\u555f\u7528\u8a2d\u5b9a\\n\\n\u900f\u904e Github Pages\u67b6\u8a2d\u7684\u7db2\u5740\u4f9d\u64da repo\u7684\u540d\u7a31\u6703\u6709\u6240\u4e0d\u540c\uff0c\u898f\u5247\u6709\u5169\u7a2e\uff1a\\n\\n* repo\u540d\u7a31\u70ba `{account-name}.github.io`\uff1a\u7db2\u5740\u70ba `https://{account-name}.github.io`\\n* \u5176\u5b83\u4efb\u4f55\u7684 repo\u540d\u7a31\uff1a\u7db2\u5740\u70ba `https://{account-name}.github.io/{repo-name}`\\n\\n\u7531\u65bc\u672c\u6587\u4e3b\u984c\u662f\u8981\u767c\u5e03\u5230 npm\u4e0a\u7684\u5957\u4ef6\uff0c\u6211\u5011\u4e0d\u592a\u53ef\u80fd\u628a\u4e00\u500b open source libaray\u7684\u540d\u7a31\u547d\u540d\u70ba `upstairs0102.github.io`\uff0c\u9019\u6a23\u7684\u8a71\u4e5f\u592a\u5947\u602a\u4e86\uff01\u56e0\u6b64\u5728\u9019\u88e1\u6211\u5011\u53ea\u6703\u4f7f\u7528\u5f8c\u8005\u7684\u898f\u5247\u3002\\n\\nGithub Pages\u7684\u8a2d\u5b9a\u9810\u8a2d\u662f\u95dc\u9589\u7684\uff0c\u6211\u5011\u5fc5\u9808\u5728\u8a2d\u5b9a\u9801\u5c07\u4e4b\u958b\u555f\uff0c\u5982\u4e0b\uff1a\\n\\n![image-20221214211444854](./_img/20221214/image-20221214211444854.png)\\n\\n\u4f60\u53ef\u4ee5\u9078\u64c7\u8a2d\u5b9a\u7279\u5b9a Branch\uff0c\u4e0d\u904e\u4ee5\u672c\u6587\u7bc4\u4f8b\u4f86\u8aaa\u4e26\u4e0d\u662f\u4ee5 Branch\u5340\u5206\u6a94\u6848\u7528\u9014\uff0c\u800c\u662f\u76f4\u63a5\u5c07\u7bc4\u4f8b\u9801\u7684\u6a94\u6848\u4ee5\u53ca source code\u653e\u5728\u4e00\u8d77\u4e26\u7528\u8cc7\u6599\u593e\u5340\u5206\uff0c\u56e0\u70ba\u76f4\u63a5\u7528\u9810\u8a2d\u7684 `main` branch\u5373\u53ef\u3002\\n\\n\\n\\n### Vue\u76f8\u95dc\u8a2d\u5b9a\\n\\n\u672c\u6587\u7bc4\u4f8b\u4f7f\u7528 Vue\u6846\u67b6\uff08\u4f7f\u7528 vue-cli\u5efa\u7f6e\u7684\uff09\uff0c\u4e0d\u904e\u5982\u679c\u4f60\u4f7f\u7528\u5176\u5b83\u6846\u67b6\u3001\u6216\u7121\u4f7f\u7528\u6846\u67b6\u5176\u5be6\u539f\u7406\u548c\u8a2d\u5b9a\u90fd\u662f\u5dee\u4e0d\u591a\u7684\uff0c\u4e0d\u6703\u5f71\u97ff\u5230\u672c\u7ae0\u7bc0\u7684\u95b1\u8b80\u3002\\n\\n\u6709\u4ee5\u4e0b\u5e7e\u500b\u76f8\u95dc\u8a2d\u5b9a\uff1a\\n\\n1. \u524d\u7aef\u8def\u7531\u8a2d\u5b9a\\n2. \u6253\u5305\u8cc7\u6599\u593e\u8def\u5f91\\n\\n\u524d\u7aef\u8def\u7531\u7684\u90e8\u4efd\uff0c\u5728\u524d\u9762\u6211\u5011\u6709\u63d0\u904e\u672c\u7bc4\u4f8b\u70ba\u4e86\u8981\u505a SPA\u578b\u5f0f\u7684\u5c55\u793a\u9801\uff0c\u524d\u7aef\u8def\u7531\u8981\u8a2d\u7f6e\u70ba Hash Mode\u3002\u4ee5 Vue\u6846\u67b6\u4f86\u8aaa\u6211\u5011\u53ea\u8981\u5230 Vue-Router \u4e2d\u5c07 `history mode`\u5c6c\u6027\u8a2d\u70ba `false`\u5373\u53ef\u3002\\n\\n\u518d\u4f86\u8981\u6ce8\u610f\u7684\u662f Vue-Cli\uff08\u5176\u5b83\u6846\u67b6\u4ea6\u540c\uff09\u9810\u8a2d\u6703\u628a domain name\u7576\u4f5c\u6839\u8def\u5f91\uff0c\u6240\u4ee5\u6211\u5011\u4e5f\u8981\u505a\u4e00\u4e9b\u76f8\u61c9\u7684\u8abf\u6574\uff1b\u5177\u9ad4\u7684\u4f86\u8aaa\u6211\u5011\u8981\u628a\u524d\u7aef\u8def\u7531\u7684\u57fa\u672c URL\u8a2d\u5b9a\u70ba `/{repo-name}/{file-path}`\u3002\u9019\u88e1\u6211\u5011\u76f4\u63a5\u7528\u7bc4\u4f8b\u4f86\u8aaa\u660e\u6703\u66f4\u6e05\u695a\uff0c`vue.config.js`\u6703\u6709\u4ee5\u4e0b\u7684\u8a2d\u5b9a\uff1a\\n\\n```js\\nmodule.exports = {\\n  publicPath: \'/vue-component-sandbox/demo/\',\\n  outputDir: \'demo\' // \u672c\u4f8b\u4e2d\u6211\u5011\u628a\u6253\u5305\u904e\u7684\u6a94\u6848\u653e\u5230 demo\u8cc7\u6599\u593e\u4e2d\uff0c\u5982\u7121\u8a2d\u5b9a vue-cli\u9810\u8a2d\u6703\u653e\u5230 dist\u8cc7\u6599\u593e\\n}\\n```\\n\\n\u95dc\u65bc publicPath\u8a73\u7d30\u8aaa\u660e\u53ef\u53c3\u8003[\u5b98\u65b9\u6587\u4ef6](https://cli.vuejs.org/zh/config/#publicpath)\u3002\\n\\n\\n\\n## \u4e94\u3001\u7d50\u8a9e\\n\\n\u672c\u6587\u4ee5 vue-component-sandbox\u505a\u70ba\u7bc4\u4f8b\u4f86\u505a\u8aaa\u660e\uff0c\u9664\u4e86\u767c\u5e03 npm\u3001\u9084\u5305\u542b\u4e86 Github Pages\u5e03\u7f72\u7bc4\u4f8b\u7db2\u9801\u7684\u8aaa\u660e\uff0c\u61c9\u8a72\u662f\u5305\u542b\u4e86\u5927\u591a\u6578\u767c\u5e03 open source\u7684 javascript library\u6240\u9700\u8981\u7684\u4e8b\u9805\uff0c\u5927\u5bb6\u53ef\u4ee5\u4f9d\u7167\u81ea\u5df1\u7684\u9700\u6c42\u9078\u8b80\u81ea\u5df1\u6709\u5e6b\u52a9\u7684\u7ae0\u7bc0\u3002"},{"id":"2022/12/07/xlsx-js-style","metadata":{"permalink":"/blog/2022/12/07/xlsx-js-style","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022/2022-12-07-xlsx-js-style \u524d\u7aef\u532f\u51fa\u81ea\u8a02\u6a23\u5f0fExcel\u6a94.md","source":"@site/blog/2022/2022-12-07-xlsx-js-style \u524d\u7aef\u532f\u51fa\u81ea\u8a02\u6a23\u5f0fExcel\u6a94.md","title":"xlsx-js-style \u524d\u7aef\u532f\u51fa\u81ea\u8a02\u6a23\u5f0fExcel\u6a94","description":"\u524d\u8a00","date":"2022-12-07T00:00:00.000Z","formattedDate":"December 7, 2022","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":6.145,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2022/12/07/xlsx-js-style","title":"xlsx-js-style \u524d\u7aef\u532f\u51fa\u81ea\u8a02\u6a23\u5f0fExcel\u6a94","authors":"thunderboy","tags":["javascript"]},"prevItem":{"title":"\u7b2c\u4e00\u6b21\u767c\u5e03 npm\u524d\u7aef\u5957\u4ef6\u5c31\u4e0a\u624b","permalink":"/blog/2022/12/15/publish-js-library-to-npm"},"nextItem":{"title":"Vue & React\u5dee\u7570\u89c0\u5bdf","permalink":"/blog/2021/12/14/difference-between-vue-and-react"}},"content":"## \u524d\u8a00\\n\\n\u57fa\u65bc\u67d0\u4e9b\u539f\u56e0\u6700\u8fd1\u6709\u5728\u524d\u7aef\u532f\u51faexcel\u6a94\u3001\u4e26\u4e14\u6709\u81ea\u8a02\u6b04\u4f4d\u6a23\u5f0f\u7684\u9700\u6c42\u3002\u96d6\u7136\u4ee5\u524d\u5c31\u6709\u958b\u767c\u904e\u524d\u7aef\u532f\u51faExcel\u7684\u529f\u80fd\uff0c\u800c\u4e14\u5957\u4ef6\u9078\u64c7\u4e5f\u9084\u7b97\u591a\u5be6\u4f5c\u4e5f\u4e0d\u96e3\uff08\u7576\u6642\u662f\u4f7f\u7528Export2Excel\uff09\uff0c\u4f46\u8981\u81ea\u8a02\u6a23\u5f0f\u7684\u8a71\u6211\u5c31\u6c92\u505a\u904e\u4e86\u3002\\n\\n\u82b1\u4e86\u4e00\u6bb5\u6642\u9593google\u767c\u73fe\u4e8b\u60c5\u4f3c\u4e4e\u4e26\u6c92\u90a3\u9ebc\u7c21\u55ae\u3002\u96d6\u7136\u8aaa\u80af\u5b9a\u662f\u627e\u4e00\u500b\u5957\u4ef6\u4e26\u4f9dapi\u6587\u4ef6\u4f86\u5be6\u4f5c\u5c31\u7d50\u675f\u4e86\uff0c\u4e0d\u6703\u96e3\u5230\u54ea\u88e1\u53bb\uff1b\u4f46\u9ebb\u7169\u7684\u662f\u7db2\u8def\u4e0a\u7684\u8cc7\u8a0a\u6709\u4e9b\u6df7\u4e82\uff0c\u6709\u4e00\u4e9b\u6559\u5b78\u6587\u7ae0\u53c8\u592a\u904e\u8907\u96dc\uff0c\u4f3c\u4e4e\u6c92\u770b\u5230\u54ea\u500b\u5957\u4ef6\u662f\u6bd4\u8f03\u88ab\u591a\u6578\u4eba\u4f7f\u7528\u4e26\u4e14\u6709\u6e05\u6670\u7684\u6587\u4ef6\u7684\u3002\\n\\n\u82b1\u4e86\u4e00\u4e9b\u6642\u9593\u7814\u7a76\uff0c\u525b\u597d\u627e\u5230\u4e86\u4e00\u500b\u5408\u9069\u7684\u5957\u4ef6\u53eb `xlsx-js-style`\uff0c\u5b83\u662f\u4f7f\u7528\u53e6\u4e00\u500b\u5957\u4ef6 [SheetJS](https://sheetjs.com/)\u76f8\u540c\u7684API\u4e26\u4e14\u64f4\u5145\u4e86\u984d\u5916\u53ef\u81ea\u8a02\u6a23\u5f0f\u7684 API\uff08SheetJS\u4f3c\u4e4e\u6c92\u63d0\u4f9b\u6a23\u5f0f\u8a2d\u5b9a\u7684API\uff09\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u4e3b\u8981\u529f\u80fd\u7684API `xlsx-js-style`\u6587\u4ef6\u88e1\u4e26\u6c92\u6709\u5beb\uff0c\u5fc5\u9808\u8981\u5230`SheetJS`\u7684[\u5b98\u65b9\u6587\u4ef6](https://docs.sheetjs.com/docs/)\u88e1\u9762\u67e5\u95b1\uff0c\u800c\u6a23\u5f0f\u76f8\u95dc\u7684\u6587\u4ef6\u5247\u5728 [xlsx-js-sty le\u7684\u5b98\u65b9\u6587\u4ef6](https://github.com/gitbrent/xlsx-js-style)\u88e1\u9762\u67e5\u95b1\u3002\\n\\n\u9019\u500b\u5957\u4ef6\u7684 API\u975e\u5e38\u591a\uff0c\u6709\u9700\u8981\u53ef\u81ea\u884c\u5230\u4e0a\u8ff0\u9023\u7d50\u67e5\u95b1\uff0c\u672c\u7bc7\u6587\u7ae0\u53ea\u6703\u4ecb\u7d39\u5230\u4ee5\u4e0b\u5e7e\u500b\u525b\u597d\u6211\u9019\u6b21\u6709\u7528\u5230\u7684\u529f\u80fd\uff1a\\n\\n* \u6b04\u4f4d\u5e95\u8272\\n* \u6b04\u4f4d\u5bec\u5ea6\\n* \u5b57\u9ad4\u984f\u8272                                                                                                                                  \\n* \u5408\u4f75\u6b04\u4f4d\\n\\n\\n\\n## \u5feb\u901f\u4e0a\u624bxlsx-js-style\\n\\n### \u958b\u59cb\u4f7f\u7528\\n\\n\u64b0\u5beb\u9019\u7bc7\u6587\u7ae0\u7684\u6642\u5019 `xlsx-js-style`\u7684\u7248\u672c\u70ba v1.2.0\uff0c\u76ee\u524d\u70ba\u6b62\u6587\u4ef6\u4e26\u4e0d\u662f\u5beb\u5f97\u975e\u5e38\u6e05\u695a\uff0c\u6587\u4ef6\u88e1\u53ea\u6709\u5beb\u5230\u5982\u4f55\u4f7f\u7528 `script`\u6a19\u7c64\u8f09\u5165\uff1a\\n\\n```js\\n<script src=\\"dist/xlsx.bundle.js\\"><\/script>\\n```\\n\\n\u81f3\u65bc\u5982\u4f55\u5728 js module\u4e2d import\u9032\u4f86\u5c31\u6c92\u63d0\u5230\u4e86\u3002\u4e0d\u904e\u6211\u5c31\u662f\u4f9d\u7167\u7d93\u9a57\u8a66\u8a66\u770b\u2026 \u679c\u7136\u53ef\u4ee5\uff1a\\n\\n```js\\nimport * as XLSX from \'xlsx-js-style\'\\n```\\n\\n\u63a5\u8457\uff0c\u4f7f\u7528\u5957\u4ef6\u7684\u8d77\u624b\u8a66\uff0c\u5c31\u662f\u5148\u8a66\u8457\u4f7f\u7528\u6700\u7c21\u7bc4\u4f8b\uff1b\u4ee5\u4e0b\u70ba\u6587\u4ef6\u4e0a\u7684\u7bc4\u4f8b\uff0c\u76f4\u63a5\u8cbc\u4e0a\u5c31\u662f\u4e00\u500b\u53ef\u57f7\u884c\u7684\u7a0b\u5f0f\uff1a\\n\\n```js\\n// STEP 1: Create a new workbook\\nconst wb = XLSX.utils.book_new();\\n\\n// STEP 2: Create data rows and styles\\nlet row = [\\n\\t{ v: \\"Courier: 24\\", t: \\"s\\", s: { font: { name: \\"Courier\\", sz: 24 } } },\\n\\t{ v: \\"bold & color\\", t: \\"s\\", s: { font: { bold: true, color: { rgb: \\"FF0000\\" } } } },\\n\\t{ v: \\"fill: color\\", t: \\"s\\", s: { fill: { fgColor: { rgb: \\"E9E9E9\\" } } } },\\n\\t{ v: \\"line\\\\nbreak\\", t: \\"s\\", s: { alignment: { wrapText: true } } },\\n];\\n\\n// STEP 3: Create worksheet with rows; Add worksheet to workbook\\nconst ws = XLSX.utils.aoa_to_sheet([row]);\\nXLSX.utils.book_append_sheet(wb, ws, \\"readme demo\\");\\n\\n// STEP 4: Write Excel file to browser\\nXLSX.writeFile(wb, \\"xlsx-js-style-demo.xlsx\\");\\n```\\n\\n\\n\\n### \u6b04\u4f4d\u6a23\u5f0f\\n\\n`xlsx-js-style` \u63d0\u4f9b [Style API](https://github.com/gitbrent/xlsx-js-style#cell-style-properties)\uff0c\u5728\u6587\u4ef6\u4e0a\u6709 api\u53ef\u67e5\u8a62\u3002\u5982\u540c\u524d\u9762\u7684\u7bc4\u4f8b\uff0c\u4f7f\u7528\u65b9\u5f0f\u662f\u653e\u5728 data row\u7576\u4e2d\u7684 `s`\u5c6c\u6027\u7576\u4e2d\u3002\\n\\n\u6bd4\u5982\uff1a\\n\\n```js\\n{s: { font: { bold: true, color: { rgb: \'ffffff\' } }, fill: { fgColor: { rgb: \'c00000\' }}}}\\n```\\n\\n \u5176\u4e2d `font`, `fill`\u53ef\u4ee5\u5c0d\u61c9\u5230 api\u6587\u4ef6\u4e0a\u7684 `Style Prop`\u6b04\u4f4d\uff0c\u5176\u5c6c\u6027\u503c\u53ef\u4ee5\u9032\u4e00\u6b65\u7684\u5f9e\u6587\u4ef6\u4e2d\u7684\u8868\u683c\u67e5\u95b1\u5230\u3002\\n\\n\\n\\n## \u5176\u5b83\u7684\u5e38\u7528\u529f\u80fd\\n\\n### SheetJS\u6587\u4ef6\\n\\n `xlsx-js-style`\u4e3b\u8981\u662f\u64f4\u5c55\u4e86 `SheetJS`\u539f\u6709\u7684 API\uff0c\u6240\u4ee5\u9664\u4e86 Style API\u4ee5\u5916\u7684 Core API\u5c31\u6c92\u6709\u653e\u5230\u6587\u4ef6\u7576\u4e2d\u4e86\uff0c\u5fc5\u9808\u8981\u5230 `SheetJS`\u7684[\u6587\u4ef6](https://docs.sheetjs.com/docs/csf/)\u4f86\u67e5\u95b1\u3002\\n\\n\u5f8c\u9762\u6211\u6703\u8aaa\u660e\u6211\u81ea\u5df1\u5e38\u7528\u5230\u7684 API\u3002\\n\\n\\n\\n### \u6b04\u4f4d\u5bec\u5ea6\\n\\n\u6b04\u4f4d\u5bec\u5ea6\u7684\u8a2d\u5b9a\u8981\u653e\u5728 WorkSheet\u5e95\u4e0b\u7684 `!cols`\u7269\u4ef6\u7576\u4e2d\u3002\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nvar wscols = [\\n  {wch: 6}, // \\"characters\\"\\n  {wpx: 50}, // \\"pixels\\"\\n  ,\\n  {hidden: true} // hide column\\n];\\nws[\'!cols\'] = wscols\\n\\nXLSX.utils.book_append_sheet(wb, ws, \\"readme demo\\")\\n```\\n\\n\u9663\u5217\u7576\u4e2d\u7684\u7269\u4ef6\u9806\u5e8f\u5373\u5c0d\u61c9\u6b04\u4f4d\u9806\u5e8f\uff0c\u5176\u4e2d\u5c6c\u6027\u5982\u4e0b\uff1a\\n\\n* wch: \u5b57\u5143\u6578\u91cf\\n* wpx: pixels\\n* hidden: \u96b1\u85cf\\n\\n\\n\\n### \u5408\u4f75\u5132\u5b58\u683c\\n\\n\u5408\u4f75\u5132\u5b58\u683c\u7684\u8a2d\u5b9a\u8981\u653e\u5728 WorkSheet\u5e95\u4e0b\u7684 `!merge`\u7269\u4ef6\u4e2d\u7576\u3002\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nconst merge = [\\n  { s: { r: 0, c: 0 }, e: { r: 0, c: 7 } },{ s: { r: 3, c: 0 }, e: { r: 3, c: 7 } },\\n];\\nws[\\"!merges\\"] = merge\\n```\\n\\n\u5c6c\u6027\u8aaa\u660e\uff1a\\n\\n* `s`: \u5408\u4f75\u8d77\u59cb\u6b04\u4f4d\u4f4d\u7f6e (start)\\n* `e`: \u5408\u4f75\u7d50\u675f\u6b04\u4f4d\u4f4d\u7f6e (end)\\n* `r`: \u5217 index (row)\\n* `c`: \u6b04 index (column)\\n\\n\u4ee5\u4e0a\u9762\u4f8b\u5b50\u4f86\u8aaa\u660e\uff0c\u5373\u70ba\u5f9e\u3010\u52170\u3001\u6b040\u3011\u5408\u4f75\u81f3\u3010\u52170\u3001\u6b047\u3011\uff0c\u4ee5\u53ca\u5f9e\u3010\u52173\u3001\u6b040\u3011\u5408\u4f75\u81f3\u3010\u52173\u3001\u6b047\u3011\u3002\\n\\n\\n\\n### \u63db\u884c\\n\\n\u63db\u884c\u9700\u4f7f\u7528 Style API\u4e2d\u8a2d\u5b9a\u63db\u884c\u6a23\u5f0f\uff1a\\n\\n```js\\n{alignment:{ wrapText: true }}\\n```\\n\\n\u63a5\u8457\u6b04\u4f4d\u503c\u7576\u4e2d\u5c31\u53ef\u4ee5\u52a0\u5165\u63db\u884c\u7b26\u865f `\\\\n`\u3002\\n\\n\u4ee5\u4e0b\u70baCell\u52a0\u5165\u63db\u884c\u6587\u5b57\u7684\u7bc4\u4f8b\uff1a\\n\\n```js\\n{ v: \'\u7b2c\u4e00\u884c\\\\n\u7b2c\u4e8c\u884c\', s: { alignment:{ wrapText: true } } }\\n```\\n\\n\\n\\n## \u5c0f\u7d50\\n\\n\u5728\u7814\u7a76\u532f\u51fa excel\u529f\u80fd\u7576\u4e2d\uff0c\u627e\u5c0b\u5408\u9069\u7684\u5957\u4ef6\u53cd\u800c\u662f\u82b1\u6700\u591a\u6642\u9593\u7684\u90e8\u4efd\u3002\u9019\u500b `xlsx-js-style`\u662f\u6211\u627e\u5230\u90fd\u6709\u7b26\u5408\u6211\u7684\u9700\u6c42\u7684\u4e00\u500b\u5957\u4ef6\uff0c\u518d\u4f86\u5c31\u662f `SheetJS`\u7684\u6587\u4ef6\u4e5f\u6709\u9ede\u591a\u4e0d\u592a\u597d\u67e5\u627e\uff0c\u6240\u4ee5\u5c31\u628a\u6211\u81ea\u5df1\u5e38\u7528\u5230\u7684\u529f\u80fd\u6574\u7406\u8d77\u4f86\u7d66\u5927\u5bb6\u53c3\u8003\u3002\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nhttps://github.com/gitbrent/xlsx-js-style\\n\\nSheetJS\u6587\u4ef6\uff08\u53ef\u4ee5\u770b\u5b8c\u6574\u7684api\uff09\\n\\nhttps://docs.sheetjs.com/docs/csf/\\n\\n\u5408\u4f75\u5132\u5b58\u683c\\n\\nhttps://stackoverflow.com/questions/53516403/sheetjs-xlsx-how-to-write-merged-cells\\n\\n\u5bec\u5ea6\\n\\nhttps://github.com/SheetJS/sheetjs/issues/1158\\n\\n\u63db\u884c\\n\\n`\\\\n` \u63db\u884c\\n\\n`cell.s = {alignment:{ wrapText: true }}`"},{"id":"2021/12/14/difference-between-vue-and-react","metadata":{"permalink":"/blog/2021/12/14/difference-between-vue-and-react","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-12-14-difference-between-vue-and-react.md","source":"@site/blog/2021/2021-12-14-difference-between-vue-and-react.md","title":"Vue & React\u5dee\u7570\u89c0\u5bdf","description":"\u4ee5\u524d\u5e6b\u516c\u53f8\u5354\u52a9\u9762\u8a66\u904e\u65b0\u4eba\uff0c\u65e9\u671f\u6211\u5011\u5728\u8077\u7f3a\u689d\u4ef6\u4e0a\u6c92\u6709\u7279\u5225\u5217\u51fa\u9700\u8981\u6709\u4ec0\u9ebc\u524d\u7aef\u6846\u67b6\u7684\u7d93\u9a57\uff0c\u6240\u4ee5\u66fe\u7d93\u6709\u9047\u904e\u80cc\u666f\u662f react\u7684\u53d7\u8a66\u8005\u554f\u8aaa\uff0c\u70ba\u4ec0\u9ebc\u6211\u5011\u662f\u9078\u64c7\u6846\u67b6\u7684\u6642\u5019\u662f vue\u800c\u4e0d\u662f react\uff0c\u7576\u6642\u6211\u5c31\u5df2\u7d93\u80fd\u5920\u5f88\u6e05\u695a\u5f97\u56de\u7b54\u9019\u500b\u554f\u984c\u4e86\uff0c\u4e0d\u904e\u6700\u8fd1\u6211\u5c0d react\u7684\u4e86\u89e3\u6709\u66f4\u52a0\u6df1\u5165\u4e86\u4e4b\u5f8c\uff0c\u6211\u5c0d\u9019\u6709\u4e86\u4e00\u4e9b\u65b0\u7684\u60f3\u6cd5\u2026","date":"2021-12-14T00:00:00.000Z","formattedDate":"December 14, 2021","tags":[{"label":"vue","permalink":"/blog/tags/vue"},{"label":"react","permalink":"/blog/tags/react"}],"readingTime":7.255,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2021/12/14/difference-between-vue-and-react","title":"Vue & React\u5dee\u7570\u89c0\u5bdf","authors":"thunderboy","tags":["vue","react"]},"prevItem":{"title":"xlsx-js-style \u524d\u7aef\u532f\u51fa\u81ea\u8a02\u6a23\u5f0fExcel\u6a94","permalink":"/blog/2022/12/07/xlsx-js-style"},"nextItem":{"title":"\u7011\u5e03\u6216\u654f\u6377\u958b\u767c\u7684\u9078\u64c7\uff1f\u4e09\u773c\u602aPodcast\u7b46\u8a18","permalink":"/blog/2021/12/14/scrum-and-waterfall"}},"content":"\u4ee5\u524d\u5e6b\u516c\u53f8\u5354\u52a9\u9762\u8a66\u904e\u65b0\u4eba\uff0c\u65e9\u671f\u6211\u5011\u5728\u8077\u7f3a\u689d\u4ef6\u4e0a\u6c92\u6709\u7279\u5225\u5217\u51fa\u9700\u8981\u6709\u4ec0\u9ebc\u524d\u7aef\u6846\u67b6\u7684\u7d93\u9a57\uff0c\u6240\u4ee5\u66fe\u7d93\u6709\u9047\u904e\u80cc\u666f\u662f react\u7684\u53d7\u8a66\u8005\u554f\u8aaa\uff0c\u70ba\u4ec0\u9ebc\u6211\u5011\u662f\u9078\u64c7\u6846\u67b6\u7684\u6642\u5019\u662f vue\u800c\u4e0d\u662f react\uff0c\u7576\u6642\u6211\u5c31\u5df2\u7d93\u80fd\u5920\u5f88\u6e05\u695a\u5f97\u56de\u7b54\u9019\u500b\u554f\u984c\u4e86\uff0c\u4e0d\u904e\u6700\u8fd1\u6211\u5c0d react\u7684\u4e86\u89e3\u6709\u66f4\u52a0\u6df1\u5165\u4e86\u4e4b\u5f8c\uff0c\u6211\u5c0d\u9019\u6709\u4e86\u4e00\u4e9b\u65b0\u7684\u60f3\u6cd5\u2026 \\n\\n\x3c!--truncate--\x3e\\n\\n1. \u6700\u5927\u7684\u5dee\u7570\u5c31\u662f\u601d\u8003\u908f\u8f2f\u548c design pattern\u7684\u4e0d\u540c\uff0c\u7c21\u55ae\u5340\u5206 react\u6bd4\u8f03\u591a functional programing\uff0cvue \u6bd4\u8f03\u591a observer pattern\u3002\u5f88\u591a\u4eba\u8aaa react\u66f4\u81ea\u7531\u3001vue\u66f4\u7c21\u55ae\uff0c\u4f46\u5c31\u6211\u7684\u611f\u89ba\u81ea\u5f9e vue3\u63a8\u51fa\u4ee5\u5f8c\u4ee5\u53ca react\u589e\u52a0 hooks\u529f\u80fd\u4ee5\u5f8c\uff0c\u5169\u8005\u5176\u5be6\u6108\u4f86\u6108\u50cf\u4e86\uff0c\u5be6\u52d9\u4e0a\u6211\u5e7e\u4e4e\u9084\u6c92\u9047\u904e\u4ec0\u9ebc react\u505a\u7684\u5230\u4f46 vue\u505a\u4e0d\u5230\u7684\u4e8b\uff08\u53ea\u662f\u505a\u6cd5\u6703\u4e0d\u4e00\u6a23\uff09\uff08\u6700\u8fd1 react18\u7684 streaming HTML\uff0cvue\u78ba\u5be6\u6c92\u6709\uff09\u3001react\u4e5f\u4e0d\u50cf\u4ee5\u524d\u90a3\u9ebc\u9ebb\u7169\u4ee5\u53ca\u90a3\u9ebc\u591a\u4e0d\u540c\u9580\u6d3e\u3002\\n\\n2. \u6211\u9084\u662f\u89ba\u5f97react\u7684\u958b\u767c\u6210\u672c\u66f4\u9ad8\uff08\u7f3a\u9ede\u5148\u8b1b\u4f46\u5f8c\u9762\u6211\u6703\u88dc\u4e0a\u512a\u9ede\u5566 XD\uff09\uff0c\u8981\u8aaa\u660e\u9019\u4ef6\u4e8b\u53ef\u80fd\u9700\u8981\u5beb\u6210\u4e00\u6574\u7bc7\u6587\u7ae0\u624d\u8b1b\u7684\u5b8c\uff0c\u4e0d\u904e\u6211\u53ef\u4ee5\u5217\u5e7e\u500b\u6211\u611f\u53d7\u6700\u5f37\u70c8\u7684\u5dee\u7570\uff1a(1) React\u7684 controlled component\u662f\u5c07\u72c0\u614b\u4ea4\u7d66\u7236\u5c64\u4f86\u7ba1\u7406\uff0c\u4e0d\u50cf vue\u53ef\u4ee5\u7c21\u55ae\u7684\u8b93 component\u81ea\u5df1\u5728\u5167\u90e8\u7ba1\u7406\uff0c\u800c\u7236\u5c64\u76f4\u63a5\u900f\u904e\u96d9\u5411\u7d81\u5b9a\u4f86\u540c\u6b65\uff08\u97ff\u61c9\uff09\u8cc7\u6599\u5373\u53ef\uff0cReact\u7684\u55ae\u5411\u8cc7\u6599\u6d41\u7279\u6027\u5c0d\u65bc\u5927\u91cf\u8868\u55ae\u5143\u4ef6\u7684\u7cfb\u7d71\u88e1\u9020\u6210\u5f88\u5927\u7684\u9ebb\u7169\uff0c\u5149\u9019\u4ef6\u4e8b\u5c31\u8db3\u4ee5\u8b93\u6211\u6176\u5e78\u7576\u521d\u5728\u516c\u53f8\u5167\u9078\u64c7\u6846\u67b6\u7684\u6642\u5019\u9084\u597d\u6c92\u6709\u9078\u64c7 react\uff08\u6211\u5011\u516c\u53f8\u5f88\u591a\u7cfb\u7d71\u985e\u7684\u5916\u5305\u5c08\u6848\uff09 (2) vue\u56e0\u70ba\u539f\u672c\u5c31\u662f observer pattern\u70ba\u4e3b\u8981\u7684\u8a2d\u8a08\u6a21\u5f0f\uff0c\u6240\u4ee5\u76e3\u807d\u72c0\u614b\u8b8a\u66f4\u66f4\u52a0\u7684\u5bb9\u6613\u4e14\u7c21\u6f54\uff0c\u800c react\u9700\u8981\u91dd\u5c0d\u6bcf\u4e00\u500b\u72c0\u614b\u53bb\u8655\u7406 side effect\u6703\u66f4\u52a0\u9ebb\u7169\u8a31\u591a (3) react \u7684\u8a2d\u8a08\u98a8\u683c\u6703\u5c55\u73fe\u5728\u6bcf\u4e00\u500b\u5730\u65b9\uff0c\u6240\u4ee5\u76f8\u95dc\u7684\u5957\u4ef6\u3001\u6846\u67b6\uff0c\u6bcf\u4e00\u4ef6\u4e8b\u60c5\u5c31\u662f\u6703\u6bd4 vue\u9ebb\u7169\u4e00\u9ede\u9ede\uff0c\u4f46\u5f88\u591a\u7684\u4e00\u9ede\u9ede\u7d2f\u52a0\u8d77\u4f86\u5c31\u662f\u9ebb\u7169\u8a31\u591a\uff0c\u800c\u4e14\u7a0b\u5f0f\u78bc\u88e1\u6703\u5728\u6bcf\u4e00\u500b\u89d2\u843d\u88e1\u5145\u65a5\u8457\u8ddf\u696d\u52d9\u908f\u8f2f\u7121\u95dc\u7684\u7a0b\u5f0f\u78bc\u2026\\n\\n3. react\u7684 functional programing\u98a8\u683c\u4e5f\u8868\u73fe\u5728\u6a23\u5f0f\u7684\u7de8\u5beb\u4e0a\uff0c\u6240\u4ee5\u4e3b\u6d41\u662f\u4ee5 css in js \u7684\u65b9\u5f0f\u5728\u7de8\u5beb\u6a23\u5f0f\uff0c\u4e5f\u5c31\u662f\u8aaa\u5c07 css\u5beb\u6210 js\uff0c\u5305\u9032\u5404\u5225\u7684 component\u5167\u3002\u7c21\u55ae\u4f86\u8aaa\uff0cvue\u662f MVVM\u7684\u8a2d\u8a08\u6a21\u5f0f\uff0c\u6240\u4ee5\u6703\u5f88\u660e\u78ba\u7684\u5c07\u6a23\u677f\u548c\u7a0b\u5f0f\u908f\u8f2f\u5206\u958b\uff0c\u800c react\u662f\u5c07\u6a23\u677f\u548c\u7a0b\u5f0f\u908f\u8f2f\u5beb\u5728\u4e00\u8d77\u3002\u9019\u4ef6\u4e8b\u6703\u8ddf\u96a8\u8457\u5718\u968a\u7684\u5206\u5de5\u4ee5\u53ca\u6d41\u7a0b\u4e0a\u6709\u6240\u5f71\u97ff - \u5728\u5206\u5de5\u4e0a\u300c\u5207\u7248\u300d\u662f\u4ea4\u7531\u8a2d\u8a08\u5e2b\u4f86\u505a\u7684\u5718\u968a\u88e1\uff0cvue\u4f86\u958b\u767c\u6703\u66f4\u9069\u5408\uff0c\u800c react\u66f4\u9069\u5408\u4ea4\u7531\u5de5\u7a0b\u5e2b\u4f86\u9032\u884c\u300c\u5207\u7248\u300d\u3002\u5982\u679c\u8981\u6df1\u5165\u63a2\u7a76\u7684\u8a71\u5176\u5be6\u9084\u6709\u5f88\u591a\u53ef\u4ee5\u8a0e\u8ad6\u7684\u5730\u65b9\uff0c\u4e4b\u524d\u4e5f\u6709\u770b\u904e\u570b\u5916\u6709\u6587\u7ae0\u5728\u8a0e\u8ad6\u6709\u4eba\u8a8d\u70ba css preprocessor\u6703\u6bd4 css in js\u4f86\u5f97\u66f4\u512a\uff0c\u56e0\u70bacss in js\u80fd\u505a\u5230\u7684 css preprocessor\u5168\u90e8\u90fd\u505a\u5f97\u5230\uff0c\u6c92\u6709\u7406\u7531\u5beb\u6210 javascript\uff1b\u4f46\u6211\u500b\u4eba\u7684\u89c0\u9ede\u662f\uff0c\u5de5\u7a0b\u5e2b\u666e\u904d\u5c0d\u65bc scss/less\u9019\u6a23\u7684\u5de5\u5177\u5f88\u5c11\u80fd\u73a9\u5f97\u795e\u4e4e\u5176\u6280\u7684\uff0c\u76f4\u63a5\u5beb\u6210 js\u53cd\u800c\u66f4\u53cb\u5584\u4e00\u4e9b\u3002\\n\\n4. \u57fa\u65bc\u4ee5\u4e0a\u7b2c2\u9ede\u53ca3\u9ede\u7684\u7406\u7531\uff0c\u5982\u679c\u662f\u4ee5\u5c08\u6848\u578b\u5f0f\u6216\u8005\u5f8c\u53f0\u7cfb\u7d71\u4f86\u8aaa\u6211\u89ba\u5f97\u9078\u64c7 react\u6703\u662f\u500b\u932f\u8aa4\u7684\u9078\u64c7\u2026 vue\u6216 angular\u6703\u66f4\u52a0\u5408\u9069\uff08\u53e6\u5916\uff0cvue\u5c0d\u65bc\u7121\u8166\u66b4\u529b\u958b\u767c\u6a21\u5f0f\u6709\u7a2e\u8aaa\u4e0d\u51fa\u7684\u597d\u7528\uff0c\u4e5f\u9069\u5408junior\u6216\u5168\u7aef\u5de5\u7a0b\u5e2b\u5feb\u901f\u4e0a\u624b\u958b\u767c\uff09\u3002\\n\\n5. \u524d\u9762\u6211\u5410\u69fd react\u7684\u9ede\uff0c\u5982\u679c\u662f\u653e\u5728\u7522\u54c1\u985e\u578b\u7684\u7cfb\u7d71\u4e0a\uff0c\u5176\u5be6\u591a\u589e\u52a0\u7684\u6210\u672c\u5176\u5be6\u4e5f\u4e0d\u592a\u7b97\u771f\u6b63\u7684\u6210\u672c\uff0c\u4ee5\u4e00\u500b\u8981\u9577\u671f\u7dad\u8b77/\u7522\u54c1\u8fed\u4ee3\u7684\u7cfb\u7d71\u4f86\u8aaa\u771f\u6b63\u986f\u6ce8\u7684\u6210\u672c\u53ef\u80fd\u662f\u5728\u7dad\u8b77/\u6e2c\u8a66/\u91cd\u69cb\u7b49\u7b49\u7684\u2026 \u53e6\u5916\uff0c\u7531\u65bc react\u7684 functional programing\u7279\u6027\u4e0b\uff0creact\u66f4\u50be\u5411\u628a\u6240\u6709\u7684\u6771\u897f\u8996\u70ba function\uff0c\u6240\u4ee5react\u5e7e\u4e4e\u90fd\u662f\u5728\u5beb js\u800c\u7528\u5230\u8f03\u5c11\u91cf\u7684 api\uff0c\u4e5f\u5c31\u6bd4 vue\u66f4\u6709\u6a5f\u6703\u5beb\u51fa\u7b26\u5408\u81ea\u5df1\u9700\u6c42\u7684\u7279\u6b8a\u529f\u80fd\u6216\u67b6\u69cb\uff1b\u800c\u53cd\u904e\u4f86\u8aaa vue\u66f4\u50be\u5411\u628a\u4e0d\u540c\u7684\u529f\u80fd\u63d0\u4f9b\u4e0d\u540c\u7684 Vue instance\u7684 api\uff0c\u96d6\u7136\u958b\u767c\u524d\u671f\u7c21\u55ae\u597d\u7528\uff0c\u4f46\u5728\u88fd\u4f5c\u4e00\u4e9b\u9032\u968e\u529f\u80fd\u7684\u6642\u5019\u4e5f\u5fc5\u9808\u82b1\u8cbb\u66f4\u591a\u6642\u9593\u5728\u4e86\u89e3 vue\u7684 api\u7684\u4e00\u4e9b\u539f\u7406\u548c\u7279\u6027\uff08\u4e0d\u898b\u5f97\u662f\u80fd\u76f4\u63a5\u900f\u904e\u6587\u4ef6\u4e86\u89e3\uff0c\u6709\u9ede\u5403\u958b\u767c\u7d93\u9a57\uff09\\n\\n6. \u95dc\u65bc\u524d\u4e00\u9ede\u6240\u63d0\u5230\u7684 react\u7684\u512a\u9ede\uff0c\u5176\u5be6\u4e00\u500b\u597d\u7684 vue\u5c08\u6848\u5be6\u8e10\u6211\u89ba\u5f97\u4e5f\u53ef\u4ee5\u505a\u5230\u540c\u6a23\u7684\u6c34\u6e96\u3002\u4f46\u6211\u89ba\u5f97\u66f4\u591a\u7684\u662f\u56e0\u70ba react\u5929\u751f\u7684\u300c\u5f48\u6027\u300d\u3001\u4ee5\u53ca\u65e9\u671f\u958b\u767c\u8005\u5927\u795e\u591a\uff0c\u6240\u4ee5\u6703\u6709\u5f88\u591a\u975e\u5e38\u6709\u958b\u5275\u6027\u53c8\u5f88\u6f6e\u7684\u65b0 idea\uff0c\u800c vue\u5c31\u5f97\u7b49\u5230\u4e00\u5169\u5e74\u4e4b\u5f8c\u624d\u6703\u300c\u81f4\u656c\u300d\uff08\u4e5f\u4e0d\u80fd\u8aaa\u6284\u5566 XD\uff09\u904e\u53bb\u505a\u51fa\u985e\u4f3c\u7684\u529f\u80fd\uff0c\u50cf\u662f\u6700\u8fd1 react18\u7684 streaming HTML\u4e0d\u77e5\u9053\u4ec0\u9ebc\u6642\u5019 vue\u624d\u6703\u6709\u2026 \u4f46\u53cd\u904e\u4f86\u8aaa\uff0creact\u5e38\u5e38\u6703\u6709\u4e3b\u6d41\u7684\u5beb\u6cd5\u8b8a\u4f86\u8b8a\u53bb\uff08\u4ee5\u524d\u6d41\u884c higher order component\uff0c\u73fe\u5728\u5beb hooks\uff09\u3001\u4e3b\u6d41\u7684\u5957\u4ef6\u4e5f\u5e38\u7570\u4e3b\uff08\u4ee5\u524d\u7528 redux\uff0c\u6700\u8fd1 facebook\u51fa\u7684 recoil\u4f3c\u4e4e\u4e5f\u883b\u5f37\u7684\uff09\uff0c\u800c vue\u5b98\u65b9\u63d0\u4f9b\u7684\u89e3\u6c7a\u65b9\u6848\u5c31\u975e\u5e38\u597d\u7528\u4e86\uff0c\u6240\u4ee5\u4e5f\u4e0d\u592a\u6703\u6709\u5176\u4ed6\u6f6e\u6d41\u4e0a\u7684\u8b8a\u52d5\uff0c\u6bd4\u8f03\u4e0d\u6703\u6709\u9078\u64c7\u969c\u7919\u3001\u6216\u8005\u64d4\u5fc3\u6703\u4e0d\u6703\u73fe\u5728\u9078\u7528\u7684\u4f5c\u6cd5\u7b49\u5230\u660e\u5e74\u5c31\u9000\u6d41\u884c\u4e86\u2026"},{"id":"2021/12/14/scrum-and-waterfall","metadata":{"permalink":"/blog/2021/12/14/scrum-and-waterfall","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-12-14-\u7011\u5e03\u6216\u654f\u6377\u958b\u767c\u7684\u9078\u64c7\uff1f\u4e09\u773c\u602aPodcast\u7b46\u8a18.md","source":"@site/blog/2021/2021-12-14-\u7011\u5e03\u6216\u654f\u6377\u958b\u767c\u7684\u9078\u64c7\uff1f\u4e09\u773c\u602aPodcast\u7b46\u8a18.md","title":"\u7011\u5e03\u6216\u654f\u6377\u958b\u767c\u7684\u9078\u64c7\uff1f\u4e09\u773c\u602aPodcast\u7b46\u8a18","description":"\u6700\u8fd1\u807d\u4e86\u300c\u7522\u54c1\u4e09\u773c\u602a\u300d\u7684\u4e00\u96c6 Podcast\uff1a \u3010Podcast EP03\u3011\u654f\u6377\u6216\u7011\u5e03\u958b\u767c\u54ea\u500b\u597d\uff1f\u6d41\u7a0b\u7528\u54ea\u7a2e\u91cd\u8981\u55ce\uff1f\uff0c\u89ba\u5f97\u9084\u4e0d\u932f\uff0c\u6211\u96d6\u7136\u662f\u5de5\u7a0b\u5e2b\u4f46\u5c0d\u65bc\u9019\u6a23\u7684\u984c\u76ee\u4e5f\u662f\u6703\u60f3\u4e86\u89e3\uff0c\u5c31\u908a\u807d\u7684\u6642\u5019\u96a8\u624b\u5beb\u4e86\u4e00\u4e9b\u7b46\u8a18\uff1a","date":"2021-12-14T00:00:00.000Z","formattedDate":"December 14, 2021","tags":[{"label":"scrum","permalink":"/blog/tags/scrum"}],"readingTime":1.92,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2021/12/14/scrum-and-waterfall","title":"\u7011\u5e03\u6216\u654f\u6377\u958b\u767c\u7684\u9078\u64c7\uff1f\u4e09\u773c\u602aPodcast\u7b46\u8a18","authors":"thunderboy","tags":["scrum"]},"prevItem":{"title":"Vue & React\u5dee\u7570\u89c0\u5bdf","permalink":"/blog/2021/12/14/difference-between-vue-and-react"},"nextItem":{"title":"\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18","permalink":"/blog/2021/09/23/docker-book-note"}},"content":"\u6700\u8fd1\u807d\u4e86\u300c\u7522\u54c1\u4e09\u773c\u602a\u300d\u7684\u4e00\u96c6 Podcast\uff1a [\u3010Podcast EP03\u3011\u654f\u6377\u6216\u7011\u5e03\u958b\u767c\u54ea\u500b\u597d\uff1f\u6d41\u7a0b\u7528\u54ea\u7a2e\u91cd\u8981\u55ce\uff1f](https://medium.com/3pm-lab/pm-podcast-ep03-waterfall-vs-agile-82b214853112)\uff0c\u89ba\u5f97\u9084\u4e0d\u932f\uff0c\u6211\u96d6\u7136\u662f\u5de5\u7a0b\u5e2b\u4f46\u5c0d\u65bc\u9019\u6a23\u7684\u984c\u76ee\u4e5f\u662f\u6703\u60f3\u4e86\u89e3\uff0c\u5c31\u908a\u807d\u7684\u6642\u5019\u96a8\u624b\u5beb\u4e86\u4e00\u4e9b\u7b46\u8a18\uff1a\\n\\n\x3c!--truncate--\x3e\\n\\n* \u654f\u6377\u4e5f\u4e0d\u4e00\u5b9a\u662f\u5168\u90e8\u90fd\u654f\u6377\uff0c\u5728\u4e4b\u524d\u4e5f\u9084\u662f\u53ef\u80fd\u6703\u6709\u4e00\u500b\u7011\u5e03\uff0c\u6703\u662f\u6df7\u5408\u7684\\n\\n* \u654f\u6377\u548c\u7011\u5e03\u5c0d\u770b\u5f85\u8cc7\u6e90\u7684\u89d2\u5ea6\u6703\u4e0d\u592a\u4e00\u6a23\uff0c\u654f\u6377\u6bd4\u8f03\u6703\u662f\u5728\u5df2\u7d93\u56fa\u5b9a\u597d\u8cc7\u6e90\u7684\u60c5\u6cc1\u4e0b\uff0c\u4f9d\u7167\u9032\u5ea6\u8abf\u6574\u300c\u5167\u5bb9\u300d\uff0c\u800c\u7011\u5e03\u6bd4\u8f03\u662f\u4f9d\u7167\u9032\u5ea6\u8abf\u6574\u300c\u8cc7\u6e90\u300d\\n\\n* \u67d0\u4e9b\u60c5\u6cc1\u7011\u5e03\u770b\u8d77\u4f86\u98a8\u96aa\u6bd4\u8f03\u5c0f\uff0c\u6bd4\u5982\u8aaa\u9700\u6c42\u660e\u78ba\u7684\u7522\u54c1\u3001\u529f\u80fd\u9700\u8981\u4e00\u8d77\u4e0a\uff08\u65b0\u529f\u80fd\u4e0a\u7dda\uff09\u3001\u6216\u8005\u6642\u7a0b\u6bd4\u8f03\u56fa\u5b9a\u7684\u60c5\u5f62\u4e0b\\n\\n* \u7576\u529f\u80fd\u6703\u6709\u4e00\u4e9b\u5916\u90e8\u7684\u4e92\u76f8\u4f9d\u6027\uff08\u6bd4\u5982\u8aaa\u66f4\u9700\u8981\u7528\u6236\u7684\u56de\u994b\u3001\u6216\u8981\u505a\u67d0\u500b\u5be6\u9a57\u4e4b\u5f8c\u6703\u6539\u8b8a\u65b9\u5411\uff0c\u6c7a\u7b56\u4e0a\u6703\u6709\u4e00\u4e9b\u53c9\u8def\uff09\u7684\u6642\u5019\uff0c\u654f\u6377\u6bd4\u8f03\u5f48\u6027\\n\\n* \u654f\u6377\u7684\u672c\u610f\u662f\u8981\u641c\u96c6\u5e02\u5834\u56de\u994b\u3001\u6bd4\u5982\u7522\u54c1\u512a\u5316\uff08\u9700\u8981A/B testing\u4e4b\u985e\uff09\\n\\n* \u7528\u54ea\u4e00\u500b\u65b9\u6cd5\u98a8\u96aa\u6703\u6bd4\u8f03\u5c0f\u4f86\u5340\u5206\u8981\u9078\u64c7\u4f7f\u7528\u54ea\u4e00\u500b\u65b9\u6cd5\\n\\n* \u9078\u64c7RD\u6216\u6210\u54e1\u559c\u6b61\u7684\u65b9\u5f0f\u66f4\u70ba\u91cd\u8981\\n\\n* \u7576PM\u66f4\u6709\u7d93\u9a57\u3001\u8cc7\u6df1\u4e86\u4ee5\u5f8c\uff0c\u56e0\u70ba\u624b\u4e0a\u6709\u7684\u5de5\u5177\u66f4\u591a\u4e86\uff0c\u6240\u4ee5\u4e5f\u4e0d\u898b\u5f97\u6703\u9700\u8981\u62d8\u6ce5\u65bc\u8981\u4e00\u5b9a\u8981\u9075\u7167\u67d0\u7a2e\u5de5\u5177\u7684\u4f7f\u7528\u65b9\u6cd5"},{"id":"2021/09/23/docker-book-note","metadata":{"permalink":"/blog/2021/09/23/docker-book-note","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-09-23-\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18.md","source":"@site/blog/2021/2021-09-23-\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18.md","title":"\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18","description":"\u524d\u8a00","date":"2021-09-23T00:00:00.000Z","formattedDate":"September 23, 2021","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"gitlab-ci","permalink":"/blog/tags/gitlab-ci"}],"readingTime":19.225,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2021/09/23/docker-book-note","title":"\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18","authors":"thunderboy","tags":["docker","gitlab-ci"]},"prevItem":{"title":"\u7011\u5e03\u6216\u654f\u6377\u958b\u767c\u7684\u9078\u64c7\uff1f\u4e09\u773c\u602aPodcast\u7b46\u8a18","permalink":"/blog/2021/12/14/scrum-and-waterfall"},"nextItem":{"title":"Vue Recursive Component","permalink":"/blog/2021/06/24/vue-recursive-component"}},"content":"## \u524d\u8a00\\n\\n\u9019\u662f\u6211\u8b80\u4e86\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u9019\u672c\u66f8\u5176\u4e2d\u7b2c1\u7ae0~\u7b2c5\u7ae0\u7684\u7b46\u8a18\uff0c\u9019\u5e7e\u7ae0\u5305\u542b\u4e86 Docker\u57fa\u672c\u77e5\u8b58\u8207\u6307\u4ee4\u3001Dockerfiler\u4ee5\u53ca Docker Compose\u6307\u4ee4\u7b49\uff0c\u5df2\u7d93\u8db3\u4ee5\u5efa\u7f6e\u4e00\u822c\u7684 Docker Container\u4ee5\u53ca\u81ea\u52d5\u5316\u7ba1\u7406\u3002\u4e0d\u904edocker-compose.yml\u6587\u4ef6\u6307\u4ee4\u7684\u90e8\u4efd\u5be6\u5728\u662f\u592a\u591a\u4e86\u2026 \u4e00\u6642\u9593\u7b46\u8a18\u505a\u4e0d\u5b8c\uff0c\u6240\u4ee5\u5c1a\u672a\u5beb\u597d\u2026\\n\\n\u5f8c\u9762\u7684\u7ae0\u7bc0\u5167\u5bb9\u9084\u6709\u67b6\u8a2d Docker Registry\uff0c\u4ee5\u53ca\u591a\u500b\u7bc4\u4f8b\u5be6\u4f5c\uff08\u4e5f\u5c31\u662f\u6a19\u984c\u4e0a\u8aaa\u6709\u8da3\u7684\u90e8\u4efd\uff09\uff0c\u5c31\u88ab\u6211\u8df3\u904e\u4e86\u2026\\n\\n\x3c!--truncate--\x3e\\n\\n## CH1 Docker\u7684\u80fd\u8207\u4e0d\u80fd\\n\\nContainer\uff08\u5bb9\u5668\uff09\u7684\u5b8c\u6574\u540d\u7a31\u61c9\u8a72\u662f\u300cLinux Containers\u300d\uff0c\u6307\u7684\u662f\u4e00\u7d44\u5229\u7528 Linux\u6838\u5fc3\u63d0\u4f9b\u7684\u6280\u8853\u4f86\u9054\u5230\u628a\u7a0b\u5f0f\u6216\u8edf\u9ad4\u300c\u5305\u88cf\u300d\u5728\u4e00\u500b\u53ef\u9694\u96e2\u4e14\u7368\u7acb\u904b\u884c\u7684\u74b0\u5883\u5de5\u5177\u3002\\n\\nDocker\u5c31\u662f\u7528\u4f86\u7ba1\u7406\u9019\u4e9b Containers\u7684\u5de5\u5177\\n\\nDocker\u662f\u4e00\u500b\u5b8c\u5168\u514d\u8cbb\uff08\u63a1\u7528 Apache 2.0\u6388\u6b0a\uff09\u7684\u958b\u767c\u539f\u59cb\u78bc\u5c08\u6848\\n\\nhttps://github.com/moby/moby\\n\\n\u2191 moby\u662f\u5bb9\u5668\u6846\u67b6\uff0c\u539f\u672c github\u4e0a\u7684 docker\u5c08\u6848\u5df2\u6539\u540d\u70ba moby\uff0c\u800c Docker\u662f\u4f7f\u7528 moby\u67b6\u69cb\u5be6\u4f5c\u51fa\u4f86\u7684\u7522\u54c1\\n\\nhttps://kknews.cc/zh-tw/tech/gv63368.html\\n\\n\u7248\u672c\u53ca\u5dee\u7570\uff1a\\n\\n* Docker EE\uff08Docker Enterprise Edition\uff0c\u4f01\u696d\u7248\uff09\uff1a\u4ed8\u8cbb\u7248\\n\\n* Docker CE\uff08Docker Community Edition\uff0c\u793e\u7fa4\u7248\uff09\uff1a\u514d\u8cbb\u7248\\n\\n* Docker Desktop\uff1a\u7531\u65bc Docker\u662f\u57fa\u65bc Linux\u7684 Container\u5de5\u5177\uff0c\u6240\u4ee5 Linux\u4ee5\u5916\u7684\u4f5c\u696d\u7cfb\u7d71 - Mac\u548c Windows\u5fc5\u9808\u5b89\u88dd Docker Desktop\u3002\u5176\u539f\u7406\u662f\u5728\u900f\u904e Linux\u865b\u64ec\u6a5f\u5668\u4f86\u904b\u884c Container\u7684\u3002\u76ee\u524d Docker Desktop\u50c5\u63d0\u4f9b250\u4ee5\u4e0b\u5c0f\u578b\u516c\u53f8\u514d\u8cbb\u7248\u672c\uff0c\u5927\u578b\u516c\u53f8\u5fc5\u9808\u4f7f\u7528\u4ed8\u8cbb\u65b9\u6848\u3002\\n\\n\\n\\n## CH2 \u5fc5\u5b78\u7684 Docker\u529f\u80fd\u8207\u6307\u4ee4\\n\\n### \u4e0b\u8f09\u53ca\u555f\u7528 Image\uff08\u6620\u8c61\u6a94\uff09\\n\\n\u6620\u50cf\u6a94\u76f8\u95dc\u540d\u8a5e\uff1a\\n\\n* Docker Image\uff1a\u900f\u904e Docker\u628a\u8981\u4f7f\u7528\u7684\u8edf\u9ad4\u6253\u5305\u8d77\u4f86\uff0c\u6253\u5305\u7684\u6a94\u6848\u7a31\u70ba Docker Image\\n* Docker Registry\uff1a\u7528\u4f86\u5b58\u653e Docker Image\u4f9b Docker\u4e0b\u8f09\u4f7f\u7528\uff0c\u53ef\u4ee5\u662f\u516c\u958b\u7684\u4e5f\u53ef\u4ee5\u662f\u5167\u90e8\u79c1\u7528\u7684\\n* Docker Hub\uff1aDocker \u5b98\u65b9\u63d0\u4f9b\u7684 Docker Registry\\n\\n\u5e38\u7528\u6307\u4ee4\uff1a\\n\\n`docker search <Docker Image>` \u641c\u5c0b Docker Image\\n\\n`docker pull <Docker Image>` \u4e0b\u8f09 Docker Image\\n\\n`docker images` \u67e5\u770b\u5df2\u4e0b\u8f09\u904e\u7684 Docker Image\\n\\n\u555f\u52d5\u6307\u4ee4\uff1a\\n\\n`docker run -p <\u5c0d\u5916port>:<\u9810\u8a2dport> -d`\\n\\n\u4f8b\\n\\n`docker run -p 8080:80 -d nginx`\\n\\n\u7528 nginx\u7684 docker image\u4ee5 `Detach`\u7684\u65b9\u5f0f\u5728\u4e3b\u6a5f 8080 port\u4e0a\u63d0\u4f9b\u670d\u52d9\\n\\n**\u6709 `-d`\u6307\u4ee4\u57f7\u884c\u5f8c\u6703\u56de\u50b3 Container ID\uff0c\u6703\u5c07\u7a0b\u5f0f\u57f7\u884c\u5728\u300c\u80cc\u666f\u300d\uff0c\u5982\u679c\u6c92\u6709\u52a0 `-d`\u6703\u5c07\u7a0b\u5f0f\u57f7\u884c\u5728\u300c\u524d\u666f\u300d**\\n\\n*** \u89e3\u6c7a Container\u555f\u52d5\u5f8c\u5c31\u7d50\u675f\u7684\u554f\u984c\uff1a**\\n\\nContainer\u88ab\u555f\u52d5\u5f8c\uff0c\u6703\u548c\u4e00\u822c\u7684\u7a0b\u5f0f\u4e00\u6a23\uff0c\u5728\u4f5c\u696d\u7cfb\u7d71\u4e2d\u88ab\u8996\u70ba\u4e00\u652f\u57f7\u884c\u4e2d\u7684\u7a0b\u5e8f (Process)\uff0c\u6240\u4ee5\u9019\u500b Container\u5c31\u6703\u50cf\u8dd1\u4e00\u652f\u7a0b\u5f0f\u4e00\u6a23\u8dd1\u5b8c\u4e4b\u5f8c\u5c31\u6703\u88ab\u7d50\u675f\u6389\u3002\u5982\u679c\u8981\u9806\u5229\u53ef\u4ee5\u4f7f\u7528\u7684\u8a71\uff0c\u5c31\u9700\u8981\u5728 Container\u88e1\u555f\u7528\u4e00\u500b\u4f3a\u670d\u5668\u7684\u7a0b\u5f0f\uff08\u6301\u7e8c\u57f7\u884c\u4e2d\u7684\u7a0b\u5f0f\uff09\u8b93 Container\u4fdd\u6301\u904b\u884c\\n\\n`docker rmi <Image\u540d\u7a31\u6216 ID>` \u522a\u9664 Docker Image\\n\\nDocker Image\u662f\u4e00\u5c64\u4e00\u5c64\u758a\u51fa\u4f86\u7684\uff0c\u4e0d\u540c\u7684 Docker Image\u53ef\u80fd\u6709\u5171\u7528\u5230\u540c\u4e00\u5c64\u7684\u90e8\u4efd\uff0c\u6240\u4ee5\u79fb\u9664\u6389\u67d0\u500b Docker Image\u5f8c\u6240\u62ff\u56de\u4f86\u7684\u786c\u789f\u7a7a\u9593\u4e0d\u4e00\u5b9a\u6703\u548c\u770b\u5230\u6216\u6240\u60f3\u7684\u4e00\u6a23\\n\\n\\n\\n### \u67e5\u770b\u555f\u52d5\u904e\u7684 Container\\n\\n`docker ps`\u6307\u4ee4\u67e5\u770b\u72c0\u614b\\n\\n\u4f8b\uff1a\\n\\n`docker run -p 8080:80 -d nginx`\\n\\n`docker run -p 8080:80 nginx`\\n\\n\u5206\u5225\u555f\u52d5\u4e00\u500b\u524d\u666f\u57f7\u884c\u548c\u4e00\u500b\u80cc\u666f\u57f7\u884c\u7684 nginx\uff0c\u524d\u666f\u57f7\u884c\u7684 nginx\u6703\u5728 terminal\u4e2d\u986f\u793a nginx\u7684\u8a0a\u606f\u3002\u9019\u6642\u5019\u53e6\u958b terminal\u4f7f\u7528 `docker ps`\u6307\u4ee4\u6703\u770b\u5230\u5169\u500b\u5df2\u555f\u52d5\u7684 Container\u8cc7\u8a0a\\n\\n\u6309\u4e0b `Ctrl + C`\u6703\u628a\u524d\u666f\u57f7\u884c\u7684 nginx\u7d66\u4e2d\u65b7\uff0c\u9019\u6642\u5019\u4f7f\u7528 `docker ps`\u6307\u4ee4\u67e5\u770b\u6703\u53ea\u770b\u5230\u4e00\u500b\u5df2\u555f\u52d5\u7684 Container\u8cc7\u8a0a\\n\\n`docker ps -a`\u4e2d\u7684 `-a`\u9078\u9805\u6703\u628a\u6240\u6709\u5df2\u7d93\u555f\u52d5\u904e\u7684 Container\u90fd\u5217\u51fa\u4f86\uff08\u4e0d\u8ad6\u662f\u4e0d\u662f\u5728\u904b\u884c\uff09\u3002\u6240\u4ee5\u4ee5\u4e0a\u9762\u7684\u4f8b\u5b50\u5373\u6703\u770b\u5169\u7b46 Container\u8cc7\u8a0a\uff0c\u5176\u4e2d\u4e00\u500b\u662f\u6b63\u5728\u904b\u884c\u53e6\u4e00\u500b\u662f\u4e2d\u65b7\u904b\u884c\uff08\u770b `status`\u6b04\u4f4d\uff09\\n\\n`docker ps -l`\u4e2d\u7684 `-l`\u9078\u9805\u6703\u986f\u793a\u6700\u5f8c\u4e00\u7d44\u5efa\u7acb\u7684 Container\u8cc7\u8a0a\\n\\n\\n\\n### \u505c\u7528\u548c\u555f\u7528 Container\\n\\n`docker start <Container ID>`\\n\\n`docker stop <Container ID>`\\n\\n`docker restart <Container ID>` restart\u6703\u5148\u505c\u6b62\u518d\u555f\u52d5\\n\\n `docker rm`\u79fb\u9664 Container\u3002\u5982\u679c\u78ba\u5b9a\u72c0\u614b\u662f `Exited`\u7684 Container\u5df2\u7d93\u6c92\u6709\u518d\u4f7f\u7528\u7684\u8a71\uff0c\u8981\u4f7f\u7528 `docker rm`\u6307\u4ee4\u4f86\u79fb\u9664\uff08\u5982 Container\u4e0d\u662f\u5728\u505c\u6b62\u72c0\u614b\u4e0b\u79fb\u9664\u6703\u51fa\u73fe\u932f\u8aa4\u8a0a\u606f\uff09\\n\\nContainer\u4e0d\u6703\u5728\u88ab\u505c\u7528\u4e4b\u5f8c\u5c31\u79fb\u9664\u6389\uff0c\u6240\u4ee5\u4f7f\u7528 `docker run`\u4f86\u65b0\u589e Container\u5e7e\u6b21\u5f8c\uff0c\u7528 `docker ps -a`\u6307\u4ee4\u5c31\u53ef\u4ee5\u770b\u5230\u6709\u8a31\u591a\u5df2\u7d93\u6c92\u6709\u5728\u904b\u884c\u7684 Container\u3002\\n\\n`docker ps -s`\u67e5\u8a62 Container\u4f54\u7528\u591a\u5c11\u786c\u789f\u7a7a\u9593\\n\\n\\n\\n### \u8a73\u7d30 Container\u8cc7\u8a0a\\n\\n`docker inspect <Container ID>` \u8a73\u7d30\u914d\u7f6e\u8cc7\u8a0a\\n\\n\u53ef\u4ee5\u9032\u8a2d\u5b9a\u8f38\u51fa\u683c\u5f0f\u53ca\u7bc4\u570d\uff0c\u4f8b `docker inspect --format=\'{{json .State.Status}}\' node-red-couchdb`\\n\\n\\n\\n### \u4e00\u6b21\u4f5c\u591a\u500b Container\\n\\n\u53ea\u8981\u662f\u53ef\u4ee5\u7528 Container ID\u9032\u884c\u64cd\u4f5c\u7684\u6307\u4ee4\uff0c\u90fd\u53ef\u4ee5\u4e00\u6b21\u8f38\u5165\u591a\u500b Container\uff0c\u5305\u542b `docker start`, `docker stop`, `docker rm`\u2026\u7b49\\n\\n\u4f8b `docker start <Container ID> <Container ID> <Container ID>`\\n\\n\\n\\n### \u642c\u79fb\u6a94\u6848\\n\\n\u628a\u6a94\u6848\u8907\u88fd\u5230 Container\u88e1\\n\\n`docker cp <\u6a94\u6848\u4f86\u6e90\u8def\u5f91> <\u76ee\u7684Container ID>:<\u76ee\u7684\u8def\u5f91>`\\n\\n\u628a\u6a94\u6848\u5f9e Container\u8907\u88fd\u51fa\u4f86\\n\\n`docker cp <\u4f86\u6e90Container ID>:<\u6a94\u6848\u4f86\u6e90\u8def\u5f91> <\u76ee\u7684\u8def\u5f91>`\\n\\n\u7121\u8ad6\u662f\u904b\u884c\u4e2d\u6216\u505c\u6b62\u4e2d\u7684 Container\u90fd\u53ef\u4ee5\u9032\u884c\u64cd\u4f5c\\n\\n\\n\\n### \u67e5\u770b Container\u4f7f\u7528\u8cc7\u6e90\uff08CPU\u3001\u8a18\u61b6\u9ad4\uff09\\n\\n`docker stats` \u67e5\u770b\u5168\u90e8 Container\\n\\n`docker stats <Container ID>` \u67e5\u770b\u6307\u5b9a Container\\n\\n\u6703\u4ee5\u300c\u5373\u6642\u300d\u7684\u65b9\u5f0f\u5448\u73fe\u76ee\u524d\u72c0\u6cc1\u8cc7\u8a0a\\n\\n\\n\\n### \u67e5\u770b Container\u7684\u5373\u6642 Log\\n\\n\u7576 Container\u662f\u4ee5 Detach\u6a21\u5f0f\uff08\u80cc\u666f\uff09\u57f7\u884c\u6642\uff0c\u6c92\u6709\u8fa6\u6cd5\u5728\u547d\u4ee4\u5217\u4e0a\u76f4\u63a5\u770b\u5230 Log\u8cc7\u8a0a\uff0c\u9019\u6642\u5c31\u9700\u8981\u4f7f\u7528 `docker logs`\u6307\u4ee4\u624d\u80fd\u770b\u5230 Log\u8cc7\u8a0a\\n\\n`docker logs <Container ID>` \u53ef\u4ee5\u770b\u5230\u6307\u5b9a\u7684 Container Log\u8cc7\u8a0a\\n\\n\u9078\u9805 `--tail`\u53ef\u4ee5\u53ea\u986f\u793a\u6578\u5e7e\u884c\u7684\u8cc7\u8a0a\uff0c\u4f8b\uff1a\\n\\n`docker logs <Container ID> --tail 2 76d1` \\n\\n\u9078\u9805 `--since`\u53ef\u4ee5\u53ea\u986f\u793a\u5012\u6578\u5206\u9418\u4ee5\u524d\u7684\u8cc7\u8a0a\uff0c\u4f8b\uff1a\\n\\n`docker logs <Container ID> --since 2m 76d1` \\n\\n\\n\\n## CH3 Docker Container\u7684\u9032\u968e\u64cd\u4f5c\\n\\n### Container \u547d\u540d\\n\\n`--name` \u7528\u4f86\u6307\u5b9a Container\u540d\u7a31\uff08\u6c92\u6709\u6307\u5b9a\u540d\u7a31\u6642 Docker\u6703\u81ea\u52d5\u96a8\u6a5f\u53d6\u540d\uff09\\n\\n\u642d\u914d docker run  `docker run --name <Container\u540d\u7a31>`\\n\\n\u4f8b\\n\\n```\\ndocker run --name nginx-hello -p 8080:80 -d nginx\\n\\ndocker start nginx-hello\\n```\\n\\n\u56e0\u70ba Container\u7684\u540d\u7a31\u5fc5\u9808\u662f\u552f\u4e00\u7684\uff0c\u56e0\u6b64\u6bcf\u6b21\u7528 docker run \u6307\u4ee4\u555f\u52d5 Container\u90fd\u5fc5\u9808\u6307\u5b9a\u4e0d\u540c\u7684\u540d\u7a31\\n\\n### \u74b0\u5883\u8b8a\u6578\\n\\n`-e` \u7528\u4f86\u8a2d\u5b9a\u8b8a\u6578\u503c\\n\\n\u4f8b `dockr run -e <\u8b8a\u6578\u540d\u7a31>=<\u8b8a\u6578\u503c> -p <\u5c0d\u5916port>:<\u9810\u8a2dport> -d <Docker Image\u540d\u7a31>`\\n\\nmysql\u7bc4\u4f8b\\n\\n```\\n$docker run --name mysql -e MYSQL_ROOT_PASSWORD=123456789 -d mysql\\n\\n$docker exec -it mysql mysql -p\\nEnter password:\\n\u7565\\n```\\n\\n### docker run \u8207 docker create\\n\\n`docker create`\u9700\u642d\u914d `docker start`\u6307\u4ee4\u624d\u6703\u555f\u52d5\\n\\n`docker run`\u57f7\u884c\u4e4b\u5f8c\u5c31\u6703\u7acb\u5373\u7684\u904b\u884c\\n\\n### docker kill \u8207 docker stop\\n\\n`docker stop`\uff1a\u8b93 Docker\u9032\u5165\u6a19\u6e96\u7684\u95dc\u6a5f\u7a0b\u5e8f\uff1b\u6240\u6709\u7684\u7a0b\u5f0f\u6703\u9032\u5165\u5230\u5404\u81ea\u7684\u95dc\u6a5f\u8655\u7406\u7a0b\u5e8f\uff0c\u7b49\u6240\u6709\u7a0b\u5f0f\u5b8c\u6210\u95dc\u6a5f\u7a0b\u5e8f\u4e4b\u5f8c Docker\u4e5f\u9032\u5165\u81ea\u5df1\u7684\u95dc\u6a5f\u7a0b\u5e8f\\n\\n`docker kill`\uff1a\u5f37\u8feb\u9032\u884c Docker\u7684\u95dc\u6a5f\u52d5\u4f5c\\n\\n### \u57f7\u884c Container\u5167\u7684\u7a0b\u5f0f\u6216\u6307\u4ee4\\n\\n\u9069\u7528\u60c5\u6cc1\uff1a\u6709\u4e00\u7a2e Container\u7684\u7528\u9014\u662f\u88ab\u62ff\u4f86\u7576\u4f5c\u8edf\u9ad4\u7684\u5de5\u5177\u5305\\n\\n\u6307\u4ee4\u5beb\u6cd5\uff1a\u76f4\u63a5\u5728 `docker run`\u7684\u6307\u4ee4\u6700\u5f8c\u9762\u52a0\u4e0a\u60f3\u8981\u57f7\u884c\u7684\u6307\u4ee4\\n\\n\u4f8b\uff0c\u628a\u672c\u6a5f\u8cc7\u6599\u593e C:\\\\downloads\u6a94\u6848\u6e05\u55ae\u5217\u51fa\u4f86\\n\\n`dockr run -v C:\\\\downloads:/home ubuntu /bin/ls -l /home`\\n\\n\uff08\u5148\u4f7f\u7528 `-v`\u6307\u4ee4\u5728\u672c\u6a5f\u5916\u639b\u8cc7\u6599\u593e\uff0c\u4e26\u4f7f\u7528 ls\u5de5\u5177\u7528 `-l`\u6307\u4ee4\u6aa2\u8996\uff09\\n\\n### \u81ea\u52d5\u79fb\u9664\u3001\u81ea\u52d5\u91cd\u65b0\u555f\u52d5\\n\\n`--rm`\uff1aContainer\u505c\u6b62\u5f8c\u5c31\u6703\u81ea\u52d5\u79fb\u9664\\n\\n\u4f8b `docker run --rm -v C:\\\\downloads:/home ubuntu /bin/ls -l /home`\\n\\n\\n\\n`--restart`\uff1a\u8b93 Container\u5728\u4e0d\u9810\u671f\u60c5\u6cc1\u88ab\u505c\u6b62\u6642\uff0c\u4f9d\u7167 `--restart`\u7684\u8a2d\u5b9a\u65b9\u5f0f\u6c7a\u5b9a\u8981\u4e0d\u8981\u81ea\u52d5\u91cd\u65b0\u555f\u52d5 Container\uff08\u9810\u8a2d\u662f `no`\uff09\\n\\n\u8a2d\u5b9a\u503c\uff1a\\n\\n* `no`\\n* `always`\\n* `unless-stopped`\uff1a\u548c `always`\u4e00\u6a23\u6709\u670d\u52d9\u4e2d\u65b7\u81ea\u52d5\u91cd\u555f\u7684\u529f\u80fd\uff0c\u4f46\u662f\u91cd\u958b\u6a5f\u5f8c\u5c31\u4e0d\u91cd\u555f\\n* `on-failure`\uff1a\u53ea\u5728 Container\u7684\u9000\u51fa\u72c0\u614b\u4ee3\u78bc (Exit Code)\u4e0d\u662f\u96f6 (Non-Zero)\\n\\n### \u9032\u5165 Container\u64cd\u4f5c\u547d\u4ee4\u5217\\n\\n\u60f3\u8981\u900f\u904e\u6307\u4ee4\u4f86\u64cd\u4f5c Container\u7684\u8a71\uff0c\u53ea\u8981\u80fd\u555f\u52d5 Container\u88e1\u7684 Shell\u7a0b\u5f0f\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e00\u822c Linux\u4f5c\u696d\u7cfb\u7d71\u5e38\u7528\u7684 Shell\u7a0b\u5f0f\u662f bash\u9019\u4e00\u652f\u7a0b\u5f0f\\n\\n\u932f\u8aa4\u6307\u4ee4\uff1a\\n\\n`docker run --rm --name nginx-cmd nginx /bin/bash`\\n\\n\u8981\u4f7f\u7528 `-it`\uff08`-i`\u548c`-t`\u7684\u5408\u4f75\u5beb\u6cd5\uff09\u6307\u4ee4\u4f86\u9032\u5165\u80fd\u5920\u8f38\u5165\u6307\u4ee4\uff08\u53ca\u80fd\u628a\u57f7\u884c\u7d50\u679c\u9001\u51fa\u4f86\uff09\u7684\u72c0\u614b\\n\\n\u6b63\u78ba\u6307\u4ee4\uff1a\\n\\n`docker run -it --rm --name nginx-cmd nginx /bin/bash`\\n\\n\\n\\n`docker exec`\uff1a\u53ef\u4ee5\u5c0d\u5df2\u7d93\u5728\u904b\u884c\u4e2d\u7684 Container\u8981\u6c42\u57f7\u884c\u6307\u4ee4\\n\\n\u7bc4\u4f8b\\n\\n```\\ndocker run --name nginx-cmd -d nginx\\n\\ndocker exec -it nginx-cmd /bin/bash\\n```\\n\\n### Container\u7d81\u5b9a IP\\n\\n`-p`\u6307\u5b9a Container\u6240\u8981\u7d81\u5b9a\u7684 IP\u4f4d\u5740\\n\\nDocker\u9810\u8a2d\u6703\u628a Container\u7d81\u5b9a\u5230\u4e3b\u6a5f\u7684 0.0.0.0\\n\\n\u5c0d\u5916\u670d\u52d9\u7684\u5efa\u8b70\u6307\u4ee4\uff1a\\n\\n`docker run -p <\u4e3b\u6a5fIP>:<\u4e3b\u6a5fport>:<Container port> -d <Docker Image>`\\n\\n\u4f8b\\n\\n`docker run -p 192.168.1.1:80:80 -d nginx`\\n\\n### docker network\\n\\n\u50b3\u7d71\u4e0a\u6703\u628a\u4f3a\u670d\u5668\u548c\u8cc7\u6599\u5eab\u88dd\u5728\u540c\u4e00\u500b\u865b\u64ec\u6a5f\u5668\u88e1\uff0c\u5728 Container\u4e0a\u5efa\u8b70\u7684\u505a\u6cd5\u662f\u7528 `docker network`\u5efa\u7acb\u4e00\u500b Docker\u7db2\u8def\uff0c\u518d\u628a\u9019\u5169\u5957\u8edf\u9ad4\u5206\u5225\u555f\u52d5\u5404\u81ea\u7368\u7acb\u7684 Container\u5230\u540c\u4e00\u500b Docker\u7db2\u8def\u4e4b\u4e2d\\n\\n\u4f8b\\n\\n```\\ndocker network create <\u7db2\u8def\u540d\u7a31>\\n\\ndocker run --name --net=<\u7db2\u8def\u540d\u7a31>\\n```\\n\\n\u9664\u4e86\u4f7f\u7528`--net`\u65b9\u5f0f\u4f86\u9023\u63a5\u591a\u500b Container\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528 Docker Compose\u5de5\u5177\u4f86\u9054\u5230\\n\\n### Data Volume - docker run\u76f4\u63a5\u6307\u5b9a\u672c\u6a5f\u8def\u5f91\\n\\nContainer\u904b\u884c\u7522\u751f\u7684\u8cc7\u6599\u662f\u6703\u96a8\u8457 Container\u7684\u6d88\u6ec5\u800c\u6d88\u5931\uff0c\u4e26\u4e14 Docker Container\u662f\u63a1\u7528\u4e00\u7a2e\u5c64\u758a\u7684\u65b9\u5f0f\u4f86\u65b0\u589e\u8cc7\u6599\uff0c\u6240\u4ee5\u6bcf\u6b21\u6709\u65b0\u589e\u8cc7\u6599\u6642\u5c31\u6703\u7522\u751f\u4e00\u5c64\u65b0\u8cc7\u6599\u5c64\u758a\u52a0\u4e0a\u53bb\uff0c\u800c\u983b\u7e41\u7684\u5beb\u5165\u8cc7\u6599\u6703\u7522\u751f\u5927\u91cf\u7684\u8cc7\u6599\u5c64\u800c\u5feb\u901f\u7684\u5403\u6389\u786c\u789f\u7a7a\u9593\u3002\\n\\n`-v`\uff1a\u639b\u4e0a\u5916\u90e8\u7684\u786c\u789f\u7a7a\u9593\\n\\n\u6307\u4ee4\u5982\u4e0b\uff1a\\n\\n`docker run -v <\u5916\u90e8\u8cc7\u6599\u593e\u6216\u6a94\u6848\u8def\u5f91>:<Container\u5167\u90e8\u8cc7\u6599\u593e\u6216\u6a94\u6848\u8def\u5f91> -p <\u5c0d\u5916port>:<\u9810\u8a2dport> -d <Docker Image>`\\n\\n\u4f8b - \u8cc7\u6599\u593e\\n\\n`docker run -v /var/www:/usr/share/nginx/html --name nginx-store -p 8080:80 -d nginx`\\n\\n\u4f8b - \u8a2d\u5b9a\u6a94\\n\\n`docker run -v /home/ayubiz/nginx.conf:/etc/nginx/nginx.conf -v /var/www:/usr/share/ginx/html --name nginx-store -p 8080:80 -d nginx`\\n\\n### Data Volume - data volumn create\\n\\n\u4f7f\u7528 `dota volumn create`\u5efa\u7acb Data Volumn\u53ef\u4ee5\u66f4\u65b9\u4fbf\u7684\u64cd\u4f5c\u548c\u7ba1\u7406 Data Volumn\\n\\n\u4f8b\\n\\n```\\n$docker volumn create nginx-html\\n$docker volumn ls\\n\u7565\\n$docker run -v nginx-html:/usr/share/nginx/html --name nginx-vol -p 8080:80 -d nginx\\n```\\n\\n\u5982\u679c\u8981\u8b93\u53e6\u4e00\u500b Container\u4e5f\u4f7f\u7528\u76f8\u540c\u7684 Data Volumn\u7684\u8a71\uff0c\u53ea\u8981\u4f7f\u7528\u76f8\u540c\u7684 Data Volumn\u540d\u7a31\u639b\u8f09\u5373\u53ef\\n\\n```\\n$docker run -v nginx-html:/usr/share/nginx/html --name nginx-vol3 -p 8081:80 -d nginx\\n```\\n\\n\u4e0d\u904e\u591a\u500b Container\u5171\u7528\u540c\u4e00\u500b Data Volumn\u6642\u8981\u6ce8\u610f\u907f\u514d\u5171\u540c\u66f4\u65b0\u540c\u4e00\u500b\u6a94\u6848\uff0c\u4ee5\u514d\u9020\u6210\u8cc7\u6599\u7684\u6df7\u4e82\u6216\u932f\u8aa4\u3002\\n\\n\\n\\n## CH4 \u5404\u7a2e\u81ea\u88fd Docker Image\u7684\u65b9\u6cd5\\n\\n### \u5f9e\u904b\u884c\u4e2d\u7684 Container\u7522\u751f\u6620\u50cf\u6a94\\n\\n`docker commit <Container ID> <\u7522\u51fa\u7684 Docker Image\u540d\u7a31>`\\n\\n\u4f8b\\n\\n```\\ndocker pull nginx\\ndocker run --name nginx-hello -p 8080:80 -d nginx\\ndocker cp index.html nginx-hello:/usr/share/nginx/html\\ndocker commit nginx-hello nginx-commit\\n```\\n\\n\u5728\u6b64\u4f8b\u4e2d\u5373\u4f7f\u5148\u57f7\u884c\u4e86 `docker stop`\u4e2d\u6b62\u5f8c\u4ecd\u7136\u662f\u53ef\u4ee5\u57f7\u884c `docker commit`\u6307\u4ee4\u7684\uff0c\u4e0d\u904e\u639b\u8f09\u5728 Container\u4e0a\u7684\u5132\u7a7a\u9593\u662f\u4e0d\u6703\u88ab\u5b58\u9032\u5230\u65b0\u7522\u751f\u7684 Image\\n\\n### Dockerfile\u7684 Build\u6307\u4ee4\\n\\nDockerfile\u53ef\u4ee5\u628a\u4ed6\u770b\u6210\u662f\u4e00\u500b\u8173\u672c\u6a94\u4f86\u770b\uff0c\u4ed6\u88ab\u7528\u4f86\u660e\u78ba\u7684\u544a\u8a34 docker build\u6307\u4ee4\u5728\u7522\u751f\u65b0 Image\u7684\u6642\u5019\u6240\u9700\u8981\u7528\u5230\u7684\u8cc7\u8a0a\u548c\u6b65\u9a5f\\n\\n#### FROM\\n\\n\u6307\u5b9a\u8981\u4e0b\u8f09\u7684 Image\u6a94\u540d\u7a31\\n\\n\u4f8b\uff1a\\n\\n```\\nFROM node:14-alpine\\n```\\n\\n#### ENV\\n\\n\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578\\n\\n\u4f8b\uff1a\\n\\n```\\nENV NODE_ENV=$deploy_env\\n```\\n\\n#### RUN\\n\\n\u57f7\u884c\u6307\u4ee4\\n\\n#### EXPOSE\\n\\n\u6307\u5b9a Container\u555f\u7528\u7684 port\\n\\n\u4f8b\uff1a\\n\\n```\\nEXPOSE 80 443\\n```\\n\\n#### CMD\\n\\nContainer\u555f\u52d5\u5b8c\u6210\u5f8c\u8981\u57f7\u884c\u7684\u6307\u4ee4\u3002\u7576\u540c\u4e00\u500b Dockerfile\u88e1\u6709\u591a\u500b `CMD`\u6307\u4ee4\u6642\uff0c\u53ea\u6709\u6700\u5f8c\u4e00\u500b `CMD`\u6307\u4ee4\u6703\u6709\u4f5c\u7528\\n\\n\u4f8b\uff1a\\n\\n```\\nCMD [\\"nginx\\", \\"-g\\", \\"damon off;\\"]\\n```\\n\\n#### ENTRYPOINT\\n\\nContainer\u555f\u52d5\u5b8c\u6210\u5f8c\u8981\u57f7\u884c\u7684\u6307\u4ee4\uff0c\u529f\u80fd\u548c `CMD`\u985e\u4f3c\uff0c\u5dee\u7570\u5728\u65bc\u5176\u4e0d\u80fd\u5728 `docker run`\u5f8c\u9762\u52a0\u5165\u7684\u6307\u4ee4\u4f86\u84cb\u6389 `ENTRYPOINT\\t`\u6307\u4ee4\u6240\u8981\u6c42\u7684\u555f\u52d5\u65b9\u5f0f\u3002\u4e5f\u5c31\u662f\u8aaa\u4ed6\u4e00\u5b9a\u6703\u88ab\u57f7\u884c\uff0c\u4e14\u53ef\u4ee5\u5728 `docker run`\u5f8c\u651c\u5e36\u53c3\u6578\u4f7f\u7528\u3002\\n\\n\u7576\u540c\u4e00\u500b Dockerfile\u88e1\u6709\u591a\u500b `ENTRYPOINT`\u6307\u4ee4\u6642\uff0c\u53ea\u6709\u6700\u5f8c\u4e00\u500b `ENTRYPOINT`\u6307\u4ee4\u6703\u6709\u4f5c\u7528\u3002\u4ed6\u53ef\u4ee5\u548c `CMD`\u642d\u914d\u4f7f\u7528\\n\\n#### WORKDIR\\n\\n\u6307\u5b9a\u57f7\u884c\u6307\u4ee4\u7684\u8cc7\u6599\u593e\u4f4d\u7f6e\\n\\n#### COPY\\n\\n\u8907\u88fd\u6a94\u6848\u5230 Container\u7576\u4e2d\u3002\u6307\u4ee4\uff1a`COPY <\u4f86\u6e90\u6a94\u8def\u5f91\u548c\u6a94\u540d> <Container\u88e1\u7684\u5b8c\u6574\u8def\u5f91\u548c\u6a94\u540d>`\\n\\n\u53e6\u5916\u9084\u6709\u4e00\u500b\u6307\u4ee4 `ADD`\u8207 `COPY`\u76f8\u4f3c\uff0c\u4e0d\u904e `ADD`\u662f\u5c07\u6a94\u6848\u653e\u5230 Image\u88e1\uff0c\u4e3b\u8981\u7684\u5dee\u7570\u662f\u5728 `ADD`\u591a\u4e86\u53ef\u4ee5\u7528\u7db2\u5740\u6307\u5b9a\u4f86\u6e90\u6a94\u548c\u53ef\u4ee5\u81ea\u52d5\u89e3\u958b tar\u58d3\u7e2e\u6a94\u7684\u529f\u80fd\uff1b\u5b98\u65b9\u6bd4\u8f03\u5efa\u8b70\u4f7f\u7528 `COPY`\u6307\u4ee4\u3002\\n\\n#### LABEL\\n\\n\u5c07 Image\u6a94\u7684\u4f5c\u8005\u3001\u7248\u672c\u3001\u63cf\u8ff0\u53ca\u5176\u4ed6\u81ea\u8a02\u8cc7\u6599\u5132\u5b58\u5230\u65b0\u7522\u751f\u7684 Image\u6a94\uff0c\u800c\u5b58\u5165\u7684\u8cc7\u8a0a\u53ef\u900f\u904e `docker image inspect`\u6307\u4ee4\u67e5\u770b `Labels`\u6b04\u4f4d\\n\\n\u6307\u4ee4\uff1a`LABEL <\u6b04\u4f4d\u540d\u7a31>:\\"<\u6b04\u4f4d\u503c>\\" <\u6b04\u4f4d\u540d\u7a31>:\\"<\u6b04\u4f4d\u503c>\\" <\u6b04\u4f4d\u540d\u7a31>:\\"<\u6b04\u4f4d\u503c>\\" ...`\\n\\n#### USER\\n\\n\u5927\u90e8\u4efd\u7684 Image\u6a94\u90fd\u6703\u4f7f\u7528\u6700\u9ad8\u6b0a\u9650\u7684 root\u505a\u70ba\u9810\u8a2d\u7684\u4f7f\u7528\u8005\u5e33\u865f\uff0c\u5982\u679c\u4e0d\u60f3\u7528 root\u4f5c\u9810\u8a2d\u7684\u4f7f\u7528\u8005\u7684\u8a71\uff0c\u53ef\u4ee5\u7528 `USER`\u6307\u4ee4\u6307\u5b9a\u5e33\u865f\\n\\n#### VOLUME\\n\\n\u63d0\u4f9b Data Volume\u7684\u639b\u8f09\\n\\n\u6307\u4ee4 `VOLUME [\\"<\u639b\u8f09\u9ede\u7684\u8cc7\u6599\u593e\u8def\u5f91>\\", \\"<\u639b\u8f09\u9ede\u7684\u8cc7\u6599\u593e\u8def\u5f91>\\" ...]` \u6216 `VOLUME <\u639b\u8f09\u9ede\u7684\u8cc7\u6599\u593e\u8def\u5f91> <\u639b\u8f09\u9ede\u7684\u8cc7\u6599\u593e\u8def\u5f91> ...`\\n\\n#### ARG\\n\\n\u53ef\u4ee5\u8b93 `docker build`\u6307\u4ee4\u5229\u7528 `--build-arg`\u9078\u9805\u50b3\u5165\u53c3\u6578\u5230 Dockerfile\u88e1\\n\\n\u6307\u4ee4 `ARG <\u53c3\u6578\u540d\u7a31>` \u6216  `ARG <\u53c3\u6578\u540d\u7a31>=<\u9810\u8a2d\u503c>`\\n\\n\\n\\n### \u532f\u5165/\u532f\u51fa Image\u6a94\\n\\n\u532f\u51fa\u6307\u4ee4\uff1a `docker save -o <\u532f\u51fa\u7684\u6a94\u6848\u540d\u7a31.tar> <\u8981\u532f\u51fa\u7684 Image\u540d\u7a31>:<\u7248\u672c>`\\n\\n`docker save`\u532f\u51fa\u7684\u6a94\u6848\u683c\u5f0f\u70ba tar\u58d3\u7e2e\u6a94\uff0c\u540d\u7a31\u53ef\u52a0\u4e0a `.tar`\u4e5f\u53ef\u4e0d\u52a0\\n\\n\u532f\u5165\u6307\u4ee4\uff1a`docker load -i <\u4e4b\u524d\u532f\u51fa\u7684Image.tar>` \u6216`docker load < <\u4e4b\u524d\u532f\u51fa\u7684Image.tar>`\\n\\n\\n\\n### \u7528 Container\u532f\u51fa Image\\n\\n\u9019\u7a2e\u65b9\u5f0f\u4e0d\u662f\u5c07\u904b\u884c\u4e2d\u7684 Container\u6574\u500b\u532f\u51fa\uff0c\u53ea\u662f\u5c07 Container\u5167\u90e8\u4f7f\u7528\u4e2d\u7684\u6a94\u6848\u7cfb\u7d71\u532f\u51fa\\n\\n\u532f\u51fa\u6307\u4ee4 `docker export -o <\u532f\u51fa\u7684\u6a94\u6848\u540d\u7a31.tar> <Container ID>`\u6216 `docker export <Container ID> > <\u532f\u51fa\u7684\u6a94\u6848\u540d\u7a31.tar>`\\n\\n\u532f\u5165\u6307\u4ee4 `docker import <\u532f\u5165\u7684\u6a94\u6848\u540d\u7a31\u8207\u8def\u5f91> <\u6620\u50cf\u6a94\u540d\u7a31:\u7248\u672c\u6a19\u7c64>`\\n\\n\\n\\n## CH5 \u5229\u7528 Docker Compose\u7ba1\u7406\u591a\u500b Container\\n\\nDocker\u548c Docker Compose\u662f\u5169\u500b\u5404\u81ea\u7368\u7acb\u7684\u7a0b\u5f0f\uff0cDocker Compose\u9700\u8981\u984d\u5916\u5b89\u88dd\\n\\n\u4e3b\u8981\u529f\u80fd\u548c\u4f7f\u7528\u60c5\u5883\uff1a\\n\\n* \u7ba1\u7406\u591a\u500b Container\\n* \u81ea\u52d5\u5316\uff08\u900f\u904e\u5c07 docker run\u7684\u8a2d\u5b9a\u653e\u9032 docker-compose.yml\u7684\u65b9\u5f0f\u9054\u5230\u66f4\u5f48\u6027\u8207\u81ea\u52d5\u5316\u7684\u90e8\u7f72\uff09\\n\\n\\n\\n### docker-compose.yml\u6587\u4ef6\u6307\u4ee4\\n\\n\uff08\u6307\u4ee4\u592a\u591a\u4e86\u4e00\u6642\u9593\u7b46\u8a18\u4e0d\u5b8c\uff0c\u6c92\u5be6\u969b\u64cd\u4f5c\u4e5f\u5438\u6536\u4e0d\u4e86\uff0c\u6240\u4ee5\u5c31\u5148\u8df3\u904e\uff09\\n\\n\u9802\u5c64\u6307\u4ee4\uff1a\\n\\nversion\\n\\nservices\\n\\nvolumes\\n\\nnetworks\\n\\nconfigs\\n\\nscerets\\n\\n\\n\\n### \u5e38\u7528\u6307\u4ee4\\n\\n`docker-compose`\u7684\u6307\u4ee4\u5e7e\u4e4e\u662f\u548c `docker`\u7684\u6307\u4ee4\u76f8\u540c\uff0c\u4e0d\u904e `docker-compose`\u6307\u4ee4\u7684\u64cd\u4f5c\u90fd\u662f\u57fa\u65bc `docker-compose.yml`\u7684\u5167\u5bb9\uff0c\u6240\u4ee5\u4e5f\u5c31\u53ef\u4ee5\u66f4\u5bb9\u6613\u7684\u9032\u884c\u6279\u6b21\u64cd\u4f5c\u3002\u53e6\u5916\uff0c`docker-compose`\u6307\u4ee4\u591a\u662f\u4ee5  `docker-compose.yml`\u6a94\u6848\u88e1\u7684 service\u540d\u7a31\u4f86\u505a\u70ba\u53c3\u6578\u4f7f\u7528\uff0c\u4e0d\u76f4\u63a5\u7d66 Container\u7684\u540d\u7a31\\n\\n`-f` \u9078\u9805\u6307\u5b9a docker-compose.yml\u6a94\u6848\u8def\u5f91\u548c\u540d\u7a31\uff0c\u4f8b\uff1a\\n\\n```\\ndocker-compose -f ~/node-red/docker-compose.yml config -q\\n```\\n\\n`docker-compose config`\uff1a\u6aa2\u8996\u6a94\u6848\u5167\u5bb9\\n\\n`docker-compose build`\uff1a\u4f7f\u7528 Dockerfile\u7522\u751f Docker Image\\n\\n`docker-compose pull <Image>` \u6216 `docker-compose pull`\uff1a\u6307\u5b9a\u53d6\u5f97\u4e00\u500b\u6216\u591a\u500b Image\uff08 \u5982\u672a\u6307\u5b9a\u5247\u4e0b\u8f09\u6240\u6709 docker-compose.yml\u6a94\u6240\u6709\u6307\u5b9a\u7684 Image\u6a94\uff09\uff0c\u4f8b\uff1a\\n\\n```\\ndocker-compose pull node-red db\\n```\\n\\n`start`, `stop`, `restart`, `pause`, `unpause`, `kill`\uff1a\u5c0d\u6307\u5b9a\u6216\u8005\u5168\u90e8 Container\u9032\u884c\u64cd\u4f5c\\n\\n\u4f8b\uff1a\\n\\n```\\n# \u505c\u6b62\u6307\u5b9a Container\\ndocker-compose stop node-red db\\n# \u505c\u6b62\u5168\u90e8 Container\\ndocker-compose stop\\n```\\n\\n`docker-compose rm`\uff1a\u548c `docker rm`\u6307\u4ee4\u76f8\u540c\uff0c\u53ef\u4ee5\u7528\u4f86\u79fb\u9664\u5df2\u7d93\u505c\u6b62\u904b\u884c\u7684 Container\\n\\n`docker-compose run`\uff1a\u548c `docker run`\u6307\u4ee4\u76f8\u540c\uff0c\u53ef\u4ee5\u7528\u4f86\u555f\u52d5 Container\\n\\n`docker-compose up`\uff1a\u6700\u5e38\u4f7f\u7528\u7684\u6307\u4ee4\uff0c\u7528\u4f86\u555f\u52d5\u6240\u6709\u7684\u670d\u52d9\\n\\n`docker-compose up`\u7684\u5e38\u7528\u9078\u9805\uff1a\\n\\n* `-d`\uff1a \u5728\u80cc\u666f\u6a21\u5f0f\u4e0b\u57f7\u884c\\n* `--no-recreate`\uff1a \u4e0d\u9700\u8981\u91cd\u5efa\u6bcf\u500b\u670d\u52d9\u6240\u4f7f\u7528\u7684 Container\\n* `--force-recreate`\uff1a\u7121\u8ad6 docker-compose.yml\u6216 Image\u6a94\u6848\u6709\u7121\u8abf\u6574\u6216\u6539\u8b8a\uff0c\u90fd\u5f37\u8feb\u57f7\u884c\u91cd\u65b0\u5efa\u7acb\u670d\u52d9\u6240\u4f7f\u7528\u7684 Container\u7684\u52d5\u4f5c"},{"id":"2021/06/24/vue-recursive-component","metadata":{"permalink":"/blog/2021/06/24/vue-recursive-component","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-06-24-Vue Recursive Component.md","source":"@site/blog/2021/2021-06-24-Vue Recursive Component.md","title":"Vue Recursive Component","description":"\u7576 Component\u905e\u8ff4\u547c\u53eb\u81ea\u5df1\u6642 - \u4e5f\u5c31\u662f\u4f7f\u7528 slot\u4e26\u5c07\u540c\u6a23\u7684 Component\u653e\u9032\u53bb\u7684\u6642\u5019\uff0c\u5982\u679c\u6c92\u6709\u91dd\u5c0d\u9019\u7a2e\u60c5\u5f62\u8abf\u6574\u5beb\u6cd5\u5c31\u6703\u5831\u932f\uff1a","date":"2021-06-24T00:00:00.000Z","formattedDate":"June 24, 2021","tags":[{"label":"vue","permalink":"/blog/tags/vue"}],"readingTime":1.93,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2021/06/24/vue-recursive-component","title":"Vue Recursive Component","authors":"thunderboy","tags":["vue"]},"prevItem":{"title":"\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18","permalink":"/blog/2021/09/23/docker-book-note"},"nextItem":{"title":"Vue2 \u7684 Vuex\u4f7f\u7528 Typescript\u5beb\u6cd5","permalink":"/blog/2021/06/24/vuex-with-typescript-in-vue2"}},"content":"\u7576 Component\u905e\u8ff4\u547c\u53eb\u81ea\u5df1\u6642 - \u4e5f\u5c31\u662f\u4f7f\u7528 `slot`\u4e26\u5c07\u540c\u6a23\u7684 Component\u653e\u9032\u53bb\u7684\u6642\u5019\uff0c\u5982\u679c\u6c92\u6709\u91dd\u5c0d\u9019\u7a2e\u60c5\u5f62\u8abf\u6574\u5beb\u6cd5\u5c31\u6703\u5831\u932f\uff1a\\n\\n`did you register the component correctly? For recursive components, make sure to provide the \u201cname\u201d option`\\n\\n\u9019\u6a23\u5beb\u6cd5\u7a31\u4e4b\u70ba Recursive Component\uff0c\u5728\u6211\u7814\u7a76\u4e4b\u5f8c\u5206\u70ba\u4ee5\u4e0b\u5169\u7a2e\u5f62\u614b\uff1a\\n\\n1. \u7236\u5b50Component\u662f\u540c\u6a23\u7684Component\\n2. \u67d0Component\u7684\u7236\u5b50Component\u76f8\u540c\\n\\n\x3c!--truncate--\x3e\\n\\n## Case1 \u7236\u5b50Component\u662f\u540c\u6a23\u7684Component\\n\\n```js\\nApp\\n  MyComponent\\n    MyComponent\\n```\\n\\n\u7236\u5c64\u7684`MyComponent`\u9700\u8981\u6709`name`\u6b04\u4f4d\uff0c`name`\u7684 value\u548c Component\u540d\u7a31\u4e00\u6a23\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u518d\u984d\u5916 import Component\u9032\u4f86\u3002\\n\\n\\n\\n## Case2 \u67d0Component\u7684\u7236\u5b50Component\u76f8\u540c\\n\\n```js\\nApp\\n  MyComponent\\n    ADifferentComponent\\n      MyComponent\\n```\\n\\n\u53c3\u8003\u9019\u7bc7\u6587\u7ae0\\n\\nhttps://stackoverflow.com/questions/49154490/did-you-register-the-component-correctly-for-recursive-components-make-sure-to\\n\\n\u6709\u4e09\u500b\u65b9\u6cd5\\n\\n### 1.Globally register `MyComponent`\\n\\n```\\nvue.component(\\"MyComponent\\", MyComponent)\\n```\\n\\n### 2.Using `beforeCreate`\\n\\n```\\nbeforeCreate: function () {\\n  this.$options.components.MyComponent = require(\'./MyComponent.vue\').default\\n}\\n```\\n\\n### 3.Move the `import` into a lambda function within the `components` object\\n\\n```\\ncomponents: {\\n  MyComponent: () => import(\'./MyComponent.vue\')\\n}\\n```\\n\\n\u5176\u4e2d(3)\u6211\u6e2c\u8a66\u904e\u6703\u6709\u901f\u5ea6\u8b8a\u6162\u7684\u6548\u80fd\u554f\u984c\uff08\u7576Component\u6578\u91cf\u7279\u5225\u591a\u4e14\u8907\u96dc\u7684\u60c5\u6cc1\uff09\uff0c(2)\u6c92\u6709\u8a66\u904e\u6240\u4ee5\u4e0d\u78ba\u5b9a\uff0c\u4e0d\u904e\u7406\u8ad6\u4e0a\u4ed6\u4e5f\u662f run-time\u52d5\u614b\u8f09\u5165\u7684\u5beb\u6cd5\uff0c\u731c\u6e2c\u61c9\u8a72\u6703\u6709\u4e00\u6a23\u7684\u554f\u984c\\n\\n\u5f8c\u4f86\u6211\u7814\u7a76\u9084\u6709\u7b2c\u56db\u7a2e\u65b9\u6cd5\uff1a\\n\\n### 4.Dynamic Component\\n\\n\u7528`:is` (v2.x) / `v-is` (v3.x) \u65b9\u6cd5\u4f86\u52d5\u614b\u8f09\u5165 Component\uff0c\u4e26\u4e14\u907f\u958b\u4f7f\u7528 option - `components`\u4f86\u8a3b\u518a component\u3002\u7531\u65bc import\u7684\u5beb\u6cd5\u662f\u5728 build-time\u4e2d\u5f15\u5165\u7a0b\u5f0f\uff0c\u6240\u4ee5\u76f8\u8f03 (2) (3)\u7684 dynamic import\u7684\u5beb\u6cd5\u4f86\u8aaa\u4e0d\u6703\u6709\u6548\u80fd\u554f\u984c\u3002\\n\\n```js\\n<template>\\n\\t<div :is=\\"component\\"></div>\\n</template>\\n\\n<script>\\nimport MyComponent from \'./MyComponent.vue\'\\n\\nexport default {\\n  data () {\\n    return {\\n      component: MyComponent\\n    }\\n  }\\n}\\n<\/script>\\n```"},{"id":"2021/06/24/vuex-with-typescript-in-vue2","metadata":{"permalink":"/blog/2021/06/24/vuex-with-typescript-in-vue2","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-06-24-Vue2 \u7684 Vuex\u4f7f\u7528 Typescript\u5beb\u6cd5.md","source":"@site/blog/2021/2021-06-24-Vue2 \u7684 Vuex\u4f7f\u7528 Typescript\u5beb\u6cd5.md","title":"Vue2 \u7684 Vuex\u4f7f\u7528 Typescript\u5beb\u6cd5","description":"\u524d\u8a00","date":"2021-06-24T00:00:00.000Z","formattedDate":"June 24, 2021","tags":[{"label":"typescript","permalink":"/blog/tags/typescript"},{"label":"vue","permalink":"/blog/tags/vue"},{"label":"vuex","permalink":"/blog/tags/vuex"}],"readingTime":6.185,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2021/06/24/vuex-with-typescript-in-vue2","title":"Vue2 \u7684 Vuex\u4f7f\u7528 Typescript\u5beb\u6cd5","authors":"thunderboy","tags":["typescript","vue","vuex"]},"prevItem":{"title":"Vue Recursive Component","permalink":"/blog/2021/06/24/vue-recursive-component"},"nextItem":{"title":"Next.js\u4e0a\u4f7f\u7528 Redux\u56db\u5144\u5f1f","permalink":"/blog/2021/05/23/lib-of-redux-on-next"}},"content":"## \u524d\u8a00\\n\\nVuex v4.0\u7248\u672c\u4ee5\u4e0a\u5927\u5e45\u6539\u5584\u4e86\u5c0d Typescript\u7684\u652f\u63f4\u3001\u4ee5\u53ca\u5c0d composition-api\u7684\u6574\u5408\uff0c\u4f46\u662f [Vuex v4.x\u7248\u53ea\u652f\u63f4 Vue3\u4ee5\u4e0a\u7248\u672c](https://github.com/vuejs/vuex/blob/4.0/package.json#L55)\u3002\\n\\n\u4e5f\u5c31\u662f\u8aaa\u5982\u679c\u958b\u767c\u74b0\u5883\u662f Vue v2.x\u7248\u672c\u7684\u8a71\uff0cVuex\u4e5f\u5c31\u53ea\u80fd\u4f7f\u7528 v3.x\u7248\u672c\u3002\u96d6\u7136\u8aaa Vuex v3.x\u7248\u5c0d\u65bc Typescript\u7684\u652f\u63f4\u4e0a\u4e5f\u4e9b\u9650\u5236\u548c\u4e0d\u9806\u624b\uff0c\u4f46\u53ea\u8981\u505a\u597d\u8a3b\u8a18 (annotation)\u7684\u5de5\u4f5c\uff0c\u57fa\u672c\u4e0a\u6211\u89ba\u5f97\u578b\u5225\u63a8\u5c0e\u4e0a\u9084\u7b97\u883b\u5b8c\u6574\u7684\uff0c\u552f\u7368 Component\u4e2d\u8981\u5f15\u5165 Vuex\u7684\u6642\u5019\u5c31\u6703\u6709\u4e9b\u9650\u5236\uff0c\u53ea\u6709 `state`\u53ef\u4ee5\u578b\u5225\u63a8\u5c0e\uff0c\u5176\u9918 `mutation`/`action`\u7b49\u90fd\u6703\u662f `any`\u578b\u5225\u3002\u4e0d\u904e\u5c0d\u6211\u500b\u4eba\u4f86\u8aaa\u6709 `state`\u578b\u5225\u63a8\u5c0e\u5c31\u5df2\u7d93\u662f\u76f8\u7576\u5be6\u7528\uff0c\u5176\u4ed6\u7684\u5c31\u9084\u662f\u6211\u53ef\u4ee5\u5fcd\u53d7\u7684\u7bc4\u570d\u4e86\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Vuex \u4f7f\u7528 Typescript\u5beb\u6cd5\\n\\n### State\\n\\n\u8981\u5c07\u6574\u500b `state`\u8a3b\u8a18\u6210\u4e00\u500b Type\u6216 Interface\u3002\u5982\u679c Vuex\u6709\u4f7f\u7528 module\u529f\u80fd\uff0c\u5247\u6bcf\u500b\u5b50\u6a21\u7d44\u7684 `state`\u5404\u81ea\u7dad\u8b77\u81ea\u5df1\u7684 Interface/Type\u3002\\n\\n\u5982\u4e0b\u4f8b\u5b50\u662f\u540d\u7a31\u70ba `cart`\u7684\u6a21\u7d44\u7684 `state`\uff1a\\n\\n```js\\n// @/store/modules/cart/state.ts\\nexport type CartState = {\\n  added: {\\n    id: number\\n    quantity: number\\n  };\\n  checkoutStatus: \'successful\' | \'failed\' | null\\n}\\n\\nconst state: CartState = {\\n  added: [],\\n  checkoutStatus: null\\n}\\n\\nexport default state\\n```\\n\\n\u5728 Vuex\u7684 `state`\u662f\u4e00\u500b tree\u7d50\u69cb\uff0c\u6839\u7bc0\u9ede\u7684 `state`\u7a31\u4e4b\u70ba `rootState`\uff0c\u800cmodules\u7684 `state`\u6703\u662f`rootState`\u5e95\u4e0b\u7684\u4e00\u500b\u5b50\u7bc0\u9ede\uff0c\u6240\u4ee5\u5728\u6a21\u7d44\u5316Vuex\u7684`rootState`\u5728\u8a3b\u8a18\u578b\u5225\u7684\u6642\u5019\u9700\u8981\u628a modules\u7684 `state`\u578b\u5225\u653e\u5165\u3002\\n\\n\u5982\u4e0b\u7bc4\u4f8b\uff1a\\n\\n```js\\n// @/store/index.ts\\nimport Vue from \'vue\'\\nimport Vuex from \'vuex\'\\n// \u5b50\u6a21\u7d44\u7684 state\\nimport cart, { CartState } from \'./modules/cart/state\'\\n// \u6700\u5916\u5c64\u7684 state\\nimport appState, { AppState } from \'./state\'\\n\\nVue.use(Vuex)\\n\\n// \u6839\u7bc0\u9ede\u7684 state-tree\\nexport type RootState = AppState & {\\n  cart: CartState;\\n}\\n\\nexport default new Vuex.Store({\\n  modules: {\\n    cart\\n  },\\n  state: appState as RootState,\\n  // \u7565\\n})\\n```\\n\\n\\n\\n### Action\\n\\nvuex\u63d0\u4f9b `ActionContext<State, RootState>`\u63d0\u4f9b\u7d66`context`\u505a\u8a3b\u8a18\uff0c\u6cdb\u578b\u4e2d\u6709\u5169\u500b\u53c3\u6578\u5206\u5225\u662f\u8a72\u6a21\u7d44\u7684 `state`\u7684\u578b\u5225\u4ee5\u53ca `rootState`\u7684\u578b\u5225\uff0c\u5982\u4e0b\uff1a\\n\\n```js\\nimport { ActionContext } from \'vuex\'\\nimport { State } from \'./state.ts\'\\nimport { RootState } from \'../state.ts\'\\n\\nconst actions = {\\n  checkout (context: ActionContext<State, RootState>, products: CartProduct[]) {\\n    context.commit(types.CHECKOUT_REQUEST)\\n    // ...\\n  }\\n}\\n```\\n\\n\\n\u89e3\u69cb\u7684\u5beb\u6cd5\\n\\n\\n```js\\nimport { Commit } from \'vuex\'\\nimport { State } from \'./state.ts\'\\n\\nconst actions = {\\n  checkout ({ commit: Commit, state: State }, products: CartProduct[]) {\\n    context.commit(types.CHECKOUT_REQUEST)\\n    // ...\\n  }\\n}\\n```\\n\\n\\n\\n### Mutation\\n\\n\u8a3b\u8a18 payload\u7684\u578b\u5225\u4ee5\u53ca\u5728  state.ts\u4e2d\u8a3b\u8a18\u7684 state\u578b\u5225\\n\\n```js\\nimport { AddToCartPayload } from \'../index.ts\'\\nimport { State } from \'./state.ts\'\\n\\nconst mutations = {\\n  addToCart (state: State, payload: AddToCartPayload) {\\n    const product = state.all.find(p => p.id === payload.id)\\n    // ...\\n  }\\n}\\n```\\n\\n\\n\\n### Getters\\n\\n\u5404\u5225\u7684 getters\u51fd\u5f0f\u53ef\u4f7f\u7528 `Getter<State, RootState>`\uff0c getters\u6a21\u7d44\u7269\u4ef6\u9700\u4f7f\u7528`GetterTree<State, RootState>`\\n\\n```js\\n// ./src/\\nimport { GetterTree, Getter } from \'vuex\'\\nimport { State } from \'./index\'\\nimport { RootState } from \'@/store/index\'\\n\\nconst cartProducts: Getter<State, RootState> = (state: State) => {\\n  return state.cart.added.map(shape => {\\n    // ...\\n  })\\n}\\n\\nconst getterTree: GetterTree<State, RootState> = {\\n  cartProducts\\n}\\n\\nexport default getterTree\\n```\\n\\n\u7c21\u6f54\u5beb\u6cd5\uff1a\u76f4\u63a5\u4f7f\u7528 getterTree\u628a\u6240\u6709 getter\u51fd\u5f0f\u5beb\u5728\u4e00\u8d77\uff0c\u5c31\u4e0d\u7528\u5404\u5225\u8a3b\u8a18 getter\u51fd\u5f0f\u7684\u578b\u5225\uff0c\u9019\u6a23\u6703\u66f4\u65b9\u4fbf\u4e00\u4e9b\\n\\n```js\\n// ./src/\\nimport { GetterTree } from \'vuex\'\\nimport { State } from \'./index\'\\n\\nconst getterTree: GetterTree<State, any> = {\\n  cartProducts (state) => {\\n    // state\u7684\u578b\u5225 typescript\u6703\u81ea\u884c\u63a8\u65b7\u51fa\u4f86\\n    return state.cart.added.map(shape => {\\n      // ...\\n    })\\n  }\\n}\\n\\nexport default getterTree\\n```\\n\\n\\n\\n## Component\u4e2d\u4f7f\u7528 Vuex\\n\\n\u9996\u5148\uff0c\u95dc\u65bc\u5728 Vue2\u4e2d Component\u5beb Typescript\u96d6\u7136\u4e0d\u662f\u672c\u6587\u91cd\u9ede\uff0c\u4e0d\u904e\u65e2\u7136\u63d0\u5230\u4e86\u9084\u662f\u7a0d\u5fae\u8aaa\u4e00\u4e0b\uff0c\u9019\u88e1\u662f\u6975\u5ea6\u5f37\u70c8\u5efa\u8b70\u5b89\u88dd [composition-api](https://github.com/vuejs/composition-api)\uff0c\u95dc\u65bc\u4f7f\u7528\u65b9\u5f0f\u53ef\u53c3\u8003\u6211\u4e4b\u524d\u5beb\u7684\u300c[Vue2\u7684 Option-Based Component\u4e2d\u4f7f\u7528Typescript\u7684\u7c21\u6613\u65b9\u5f0f](https://upstairs0102.github.io/2021/02/09/vue-option-based-component-with-typescript/)\u300d\u3002\u4f60\u53ef\u4ee5\u4e0d\u9700\u6539\u8b8a\u539f\u672c\u7684 Option-Api\u5beb\u6cd5\uff0c\u5c31\u53ef\u4ee5\u5b8c\u5b8c\u5168\u5168\u7684\u89e3\u6c7a\u539f\u672c\u5728 Vue2\u4e2d Typescript\u4e2d\u652f\u63f4\u4e0d\u826f\u7684\u554f\u984c\uff1b\u7576\u7136\u5f8c\u65e2\u7136\u90fd\u5b89\u88dd composition-api\u4e86\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u65b0\u7684 composition-api\u4f86\u958b\u767c\u3002\\n\\n\u4ee5\u4e0b\u91dd\u5c0d\u5e7e\u7a2e\u5e38\u7528\u7684\u5f15\u5165 Vuex\u65b9\u5f0f\u4f86\u505a\u8aaa\u660e\uff1a\\n\\n### 1.mapState/mapGetters/mapActions/mapMutations\\n\\n\u9019\u500b\u5beb\u6cd5\u662f Option-Api\u7684\u5beb\u6cd5\u3002\u5f88\u986f\u7136\u4ed6\u63a8\u5c0e\u51fa\u4f86\u90fd\u6703\u662f `any`\u578b\u5225\uff0c\u6240\u4ee5\u9019\u7a2e\u5beb\u6cd5\u53ef\u4ee5\u76f4\u63a5\u653e\u68c4\u4e86\u3002\\n\\n### 2.this.$store\\n\\n\u9019\u500b\u5beb\u6cd5\u662f Option-Api\u7684\u5beb\u6cd5\u3002\u5b8c\u6210\u6587\u7ae0\u4e0a\u8ff0\u6240\u6709\u7684\u578b\u5225\u8a3b\u8a18\u4e4b\u5f8c\uff0c\u4ed6\u96d6\u7136\u63a8\u5c0e\u7684\u51fa\u4e00\u4e9b\u57fa\u672c\u7684 Vuex\u578b\u5225\uff0c\u4f46\u63a8\u5c0e\u4e0d\u51fa `state`\u7684\u578b\u5225\uff0c\u5728\u7de8\u8f2f\u5668\u4e2d\u6ed1\u9f20\u79fb\u904e `this.$store`\u4e0a\u6703\u767c\u73fe\uff0c\u4ed6\u63a8\u5c0e\u51fa\u7684\u578b\u5225\u662f `Store<any>`\u3002\u770b\u4f86\u9019\u500b\u53ef\u80fd\u9084\u9700\u8981\u984d\u5916\u7684\u4e00\u4e9b\u5de5\u4f5c\u624d\u80fd\u628a\u578b\u5225\u5ba3\u544a\u5230\u5168\u57df\u7684 `$store`\u7269\u4ef6\u4e0a\u3002\u4e0d\u904e\u6211\u89ba\u5f97\u6709\u9ede\u9ebb\u7169\uff0c\u5c31\u653e\u68c4\u5617\u8a66\u4e86\u3002\\n\\n### 3.import store\\n\\n\u9019\u500b\u662f\u6211\u89ba\u5f97\u6700\u5408\u7406\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u96d6\u7136\u4ed6\u4e5f\u53ea\u63a8\u5c0e\u7684\u51fa `state`\uff0c\u4f46\u6211\u89ba\u5f97\u9019\u5df2\u7d93\u662f\u4e00\u500b\u5f88\u5927\u7684\u5e6b\u52a9\u4e86\uff0c\u5beb\u6cd5\u5982\u4e0b\uff1a\\n\\n```js\\nimport store from \'@/store/index\'\\n\\nstore.state // \u53ef\u63a8\u65b7\u51fa\u578b\u5225\\nstore.dispatch(\'checkout\', true) // function\u53c3\u6578\u7121\u6cd5\u63a8\u65b7\u578b\u5225\\n```\\n\\n\\n\\n\u7e3d\u7d50\u4f86\u8aaa\uff0c\u4f7f\u7528 import store\u4f86\u5f15\u5165 Vuex\u662f\u6700\u5408\u7406\u4e5f\u7c21\u55ae\u7684\u65b9\u5f0f\uff0c\u81f3\u65bc `actions`\u548c `mutations`\u7121\u6cd5\u63a8\u5c0e\u51fa\u578b\u5225\u9019\u500b\u554f\u984c\uff0c\u5982\u679c\u8981\u89e3\u6c7a\u7684\u8a71\u61c9\u8a72\u53ef\u4ee5\u5617\u8a66\u5beb helper function\u4f86\u89e3\u6c7a\uff0c\u4e0d\u904e\u9019\u6a23\u5c0d\u6211\u4f86\u8aaa\u5be6\u5728\u6709\u9ede\u592a\u904e\u56c9\u5506\uff0c\u6240\u4ee5\u6211\u662f\u9078\u64c7\u5ffd\u7565\u9019\u500b\u5c0f\u554f\u984c\u4e86\u3002\\n\\n\\n\\n## \u53c3\u8003\u4f86\u6e90\\n\\nVue2.5+ Typescript \u5f15\u5165\u5168\u9762\u6307\u5357 - Vuex\u7bc7\\n\\nhttps://segmentfault.com/a/1190000011864013"},{"id":"2021/05/23/lib-of-redux-on-next","metadata":{"permalink":"/blog/2021/05/23/lib-of-redux-on-next","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-05-23-Next.js\u4e0a\u4f7f\u7528 Redux\u56db\u5144\u5f1f.md","source":"@site/blog/2021/2021-05-23-Next.js\u4e0a\u4f7f\u7528 Redux\u56db\u5144\u5f1f.md","title":"Next.js\u4e0a\u4f7f\u7528 Redux\u56db\u5144\u5f1f","description":"\u524d\u8a00","date":"2021-05-23T00:00:00.000Z","formattedDate":"May 23, 2021","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"react","permalink":"/blog/tags/react"},{"label":"next.js","permalink":"/blog/tags/next-js"},{"label":"redux","permalink":"/blog/tags/redux"}],"readingTime":11.44,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2021/05/23/lib-of-redux-on-next","title":"Next.js\u4e0a\u4f7f\u7528 Redux\u56db\u5144\u5f1f","authors":"thunderboy","tags":["javascript","react","next.js","redux"]},"prevItem":{"title":"Vue2 \u7684 Vuex\u4f7f\u7528 Typescript\u5beb\u6cd5","permalink":"/blog/2021/06/24/vuex-with-typescript-in-vue2"},"nextItem":{"title":"Vue2\u7684 Option-Based Component\u4e2d\u4f7f\u7528Typescript\u7684\u7c21\u6613\u65b9\u5f0f","permalink":"/blog/2021/02/09/vue-option-based-component-with-typescript"}},"content":"## \u524d\u8a00\\n\\n\u8eab\u70ba\u4f7f\u7528 Vue.js\u7684\u958b\u767c\u8005\uff0c\u6700\u8fd1\u5728\u7814\u7a76 React.js\u4ee5\u53ca Next.js\uff0c\u539f\u672c\u4ee5\u70ba\u6709\u4e86\u4f7f\u7528 Vuex\uff08\u548c Redux \u4e00\u6a23\u53d6\u81ea Flux\u7684\u6982\u5ff5\u767c\u5c55\u51fa\u4f86\u72c0\u614b\u7ba1\u7406\u5957\u4ef6\uff09\u7684\u7d93\u9a57\uff0c\u61c9\u8a72\u53ef\u4ee5\u7121\u75db\u8f49\u79fb\u4f7f\u7528 Redux\uff0c\u4f46\u6c92\u60f3\u5230\u4f7f\u7528\u9580\u6abb\u7adf\u7136\u6bd4\u9810\u671f\u7684\u9ad8\u4e0a\u8a31\u591a\u3002\\n\\n\u5148\u662f\u7814\u7a76\u4e86 Redux\uff0c\u6c92\u60f3\u5230\u5982\u679c\u8981\u6253 Api\u9084\u9700\u8981\u50cf\u662f `React-Thunk`\u4e4b\u985e\u7684\u5957\u4ef6\u624d\u80fd\u505a\u975e\u540c\u6b65\u7684\u64cd\u4f5c\u3002\u63a5\u8457\uff0c Redux\u672c\u8eab\u662f\u4e00\u500b\u7368\u7acb\u7684\u72c0\u614b\u7ba1\u7406\u7684\u5957\u4ef6\uff0c\u8981\u600e\u9ebc\u8ddf React\u6e9d\u901a\u4ed6\u4e5f\u4e0d\u7ba1\uff0c\u6240\u4ee5\u9084\u9700\u8981\u518d\u5b89\u88dd `React-Redux`\u624d\u80fd\u5c07 `store`\u548c Component\u505a\u7d81\u5b9a\u3002\u597d\u4e0d\u5bb9\u6613\u6574\u7406\u5230\u4e00\u500b\u6bb5\u843d\u4e86\uff0c\u5be6\u969b\u958b\u767c Next.js\u7684\u6642\u5019\u9084\u6703\u6709\u4e00\u500b\u9700\u6c42\u662f\u8981\u5728 server-side\u5f9e `context`\u4e2d\u53d6\u5f97 `store`\u53c8\u8981\u518d\u5b89\u88dd `Next-Redux-Wrapper`\u3002\u524d\u524d\u5f8c\u5f8c\u542b Redux\u672c\u8eab\u7e3d\u5171\u88dd\u4e86\u56db\u500b\u5957\u4ef6\uff0c\u624d\u7d42\u65bc\u9054\u5230\u6211\u80fd\u958b\u59cb\u958b\u767c Next.js\u7a0b\u5f0f\u7684\u6700\u4f4e\u9700\u6c42\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u5c31\u4e4b\u524d\u5b78\u7fd2 Vuex\u7684\u7d93\u9a57\uff0c\u82b1\u6bd4\u8f03\u591a\u6642\u9593\u7684\u5730\u65b9\u4e5f\u5c31\u53ea\u662f\u89c0\u5ff5\u4e0a\u7684\u5efa\u7acb\u3001\u4ee5\u53ca\u5be6\u4f5c\u4e0a\u61c9\u7528\u7684\u6280\u5de7\u9762\uff1b\u55ae\u5c31\u4f7f\u7528\u4e0a\uff0c\u4e5f\u5c31\u6700\u4e00\u958b\u59cb\u5b89\u88dd\u9032\u5c08\u6848\uff08\u5176\u5be6\u4e5f\u5c31\u662f cli\u5de5\u5177\u67b6\u7ad9\u6642\u6709\u9078\u64c7 Vuex\u800c\u5df2\uff09\u4e4b\u5f8c\uff0c\u5f04\u61c2 api\u6587\u4ef6\u5e7e\u4e4e\u5c31\u53ef\u4ee5\u958b\u59cb\u5beb\u7a0b\u5f0f\u4e86\u3002\\n\\n\u4f46\u662f\u5b78\u7fd2 Redux\u5c31\u4e0d\u592a\u4e00\u6a23\u4e86\uff08\u4e5f\u662f\u5b78 React.js\u5f88\u591a\u90e8\u4efd\u548c\u5b78 Vue.js\u7684\u5b78\u7fd2\u7d93\u9a57\u7684\u5dee\u7570\uff09\uff0c\u9996\u5148 Redux\u7684\u5beb\u6cd5\u5f88\u6709\u5f48\u6027\uff0c\u6240\u4ee5\u5fc5\u9808\u5148\u6e05\u695a\u7684\u7406\u89e3\u5176\u80cc\u5f8c\u7684\u89c0\u5ff5\u4e4b\u5f8c\uff0c\u878d\u5408\u6587\u4ef6\u4e0a\u7684\u8aaa\u660e\u642d\u914d\u7db2\u8def\u4e0a\u4e0d\u540c\u4eba\u5beb\u7684\u6587\u7ae0\uff0c\u518d\u6574\u7406\u51fa\u4e00\u500b\u9069\u5408\u81ea\u5df1\u7684\u5beb\u6cd5\uff1b\u63a5\u8457\u662f\u5982\u540c\u524d\u9762\u6240\u8aaa\u7684\uff0c\u5b78\u7fd2\u4e0b\u4e00\u500b\u5957\u4ef6\u518d\u4e0b\u4e00\u500b\u5957\u4ef6\uff0c\u6700\u5f8c\u8981\u628a\u5168\u90e8\u6574\u5408\u518d\u4e00\u8d77\u53c8\u662f\u53e6\u4e00\u56de\u4e8b\uff0c\u518d\u5168\u90e8\u6574\u7406\u51fa\u4e00\u500b\u9069\u5408\u81ea\u5df1\u7684\u5beb\u6cd5\u3002\\n\\n\uff08\u5169\u5929\u7684\u751f\u547d\u53c8\u9019\u6a23\u6c92\u4e86\u53ef\u4ee5\u958b\u59cb\u5beb code\u4e86~ QQ\uff09\\n\\n\u7e3d\u4e4b\uff0c\u53cd\u6b63\u6211\u662f\u9806\u4fbf\u505a\u4e86\u7b46\u8a18\uff0c\u96d6\u7136\u4e26\u4e0d\u662f\u5f88\u8a73\u7d30\u5b8c\u6574\uff0c\u4f46\u662f\u6211\u628a\u6bcf\u4e00\u500b\u6211\u8a8d\u70ba\u6700\u57fa\u672c\u4e14\u6700\u5c0f\u53ef\u884c\u7684\u7a0b\u5f0f\u78bc\u7d00\u9304\u4e0b\u4f86\uff0c\u5c31\u6309\u7167\u6211\u7684\u6b65\u9a5f\u505a\uff0c\u61c9\u8a72\u662f\u53ef\u4ee5\u5f88\u5feb\u5efa\u7acb\u57fa\u672c\u7684 Redux\u7a0b\u5f0f\u3002\\n\\n\\n\\n## \u6982\u5ff5\\n\\nRedux\u7684\u8cc7\u6599\u6d41\u5411\u7121\u8ad6\u540c\u6b65\u9084\u662f\u975e\u540c\u6b65\u90fd\u53ea\u6709\u4e00\u7a2e\uff08\u4e0d\u50cf Vuex\u7684 View\u53ef\u4ee5\u547c\u53eb `actions`(\u4f7f\u7528`dispatch`)\u53ca `mutations`(\u4f7f\u7528`commit`)\u5169\u7a2e\uff09\\n\\n\u8cc7\u6599\u6d41\u5411\uff1a\\n\\n`View` -> `Actions` -> `Reducer` -> `State` -> `View`\\n\\n\u96d6\u7136\u8aaa\u6982\u5ff5\u4e0a\u53ea\u4e00\u7a2e\u8cc7\u6599\u6d41\uff0c\u4f46\u5be6\u4f5c\u4e0a `Action`\u9084\u662f\u5206\u70ba\u300c**\u540c\u6b65**\u300d\u548c\u300c**\u975e\u540c\u6b65**\u300d\u5169\u7a2e\u7684\u505a\u6cd5\u3002Redux\u539f\u751f `dispatch`\u662f\u76f4\u63a5\u547c\u53eb `reducer`\uff0c\u6240\u4ee5\u7121\u6cd5\u57f7\u884c\u975e\u540c\u6b65\u7684\u64cd\u4f5c\uff08 `reducer`\u4e2d\u975e\u540c\u6b65\u64cd\u4f5c\u662f\u88ab\u7981\u6b62\u7684\uff09\uff0c\u8981\u984d\u5916\u642d\u914d Redux-Thunk\u624d\u80fd\u4f7f\u7528\u975e\u540c\u6b65\u7684\u64cd\u4f5c\\n\\n![image-20210520225845800](./_img/20210523/image-20210520225845800.png)\\n\\n\uff08\u5716\u7247\u53d6\u81ea\u5b98\u7db2\uff09\\n\\n\\n\\n\u5be6\u4f5c\u4e0a\u6240\u5fc5\u8981\u7684\u5957\u4ef6\u6709\u4ee5\u4e0b\u56db\u500b\uff1a\\n\\nRedux\uff1a\u72c0\u614b\u7ba1\u7406\u672c\u8eab\\n\\nRedux-Thunk\uff1a\u5be6\u4f5c middleware\u8655\u7406\u975e\u540c\u6b65\u884c\u70ba\uff08Redux\u672c\u8eab\u662f\u4e0d\u5141\u8a31\u8655\u7406\u975e\u540c\u6b65\u7684\uff09\\n\\nReact-Redux\uff1a\u5c07 Redux\u8ddf Component\u7d81\u5b9a\uff08\u63d0\u4f9b`Provider`\u5c07  `state`\u53ca `dispatch`\u50b3\u5165 Component\uff09\\n\\nNext-Redux-Wrapper\uff1aNext.js\u5728 server-side\u6216\u8005 static-site\u7684 build-time\u4e2d\u53d6\u5f97 `store`\\n\\n\\n\\n\u4e0d\u932f\u7684\u6587\u7ae0\uff0c\u4f46\u6587\u7ae0\u7684 `React-Redux`\u90e8\u4efd\u662f\u820a\u7248\u7684\u5beb\u6cd5\\n\\nhttps://chentsulin.github.io/redux/index.html\\n\\n\\n\\n## State & Reducer\\n\\n* State\uff1a`state` \u662f\u552f\u8b80\u7684\uff0c\u6539\u8b8a `state`\u552f\u4e00\u7684\u65b9\u5f0f\u662f\u767c\u51fa\u4e00\u500b `action`\\n* Reducer\uff1a\u53d6\u5f97\u5148\u524d\u7684`state`\u548c\u4e00\u500b `action`\uff0c\u4e26\u56de\u50b3\u4e0b\u4e00\u500b `state`\\n\\n\u6700\u7c21\u6613\u7bc4\u4f8b\uff1a\\n\\n```js\\n// state\\nconst initState = {\\n  otherState: \'otherState\',\\n  todoList: [\'first\'],\\n};\\n\\n// reducer\\nconst reducer = (state = initState, action) => {\\n  switch (action.type) {\\n    case \'ADD_TODOLIST\': {\\n      const todoList = state.todoList.map(d => d);\\n      todoList.push(action.payload.listName)\\n      return {\\n        ...state, // \u56e0\u70ba\u8981\u66f4\u65b0\u6240\u6709\u7684 state\uff0c\u6240\u4ee5\u5fc5\u9808\u5148\u5c07\u539f\u672c\u7684 state\u89e3\u69cb\\n        todoList,\\n      };\\n      /* \u6216\u8005 return\u7684\u5beb\u6cd5\u4e5f\u53ef\u9019\u6a23\\n      return Object.assign({}, state, {\\n        todoList\\n      })\\n      */\\n    }\\n    default:\\n      return state;\\n  }\\n};\\n```\\n\\n\u5176\u4e2d\u8981\u6ce8\u610f\u7684\uff1a\\n\\n1. `reducer` \u5728\u66f4\u65b0 `state`\u7684\u6642\u5019\u4e26\u4e0d\u80fd\u53ea\u66f4\u65b0\u7279\u5b9a\u6b04\u4f4d\uff0c\u5fc5\u9808\u66f4\u65b0\u6574\u500b `state tree`\uff0c\u6240\u4ee5\u8981\u6ce8\u610f return\u7684\u5beb\u6cd5\\n\\n2. `reducer` \u672c\u8eab\u4e0d\u80fd\u505a\u975e\u540c\u6b65\u7684\u64cd\u4f5c\uff0c\u5426\u5247\u6703\u5674\u932f\u8aa4\u8a0a\u606f\\n\\n\u8655\u7406\u591a\u500b `action`\u7684\u7bc4\u4f8b\uff1a\\n\\n```js\\nfunction todoApp(state = initialState, action) {\\n  switch (action.type) {\\n    case SET_VISIBILITY_FILTER:\\n      return {\\n      \\t...state, \\n        // \u7565\\n      }\\n    case ADD_TODO:\\n      return {\\n      \\t...state, \\n        // \u7565\\n      }\\n    default:\\n      return state\\n  }\\n}\\n```\\n\\n\u62c6\u5206 `Reducers`\uff1a\\n\\nRedux\u63d0\u4f9b\u4e00\u500b utility\u53eb\u505a `combineReducers()`\uff0c\u53ef\u4ee5\u7c21\u55ae\u7684\u5c07\u591a\u500b `reducer`\u5408\u4f75\\n\\n```js\\nimport { combineReducers } from \'redux\'\\n\\nconst todoApp = combineReducers({\\n  visibilityFilter,\\n  todos\\n})\\n\\nexport default todoApp\\n```\\n\\n\\n\\n## Action\\n\\n`action` \u662f\u4e00\u500b\u8981\u50b3\u905e\u8cc7\u6599\u7d66 `store`\u7684 payload\u8cc7\u8a0a\uff08\u900f\u904e`store.dispatch()`\uff09\uff0c\u5176\u5b9a\u7fa9\u4e8b\u4ef6\u8981\u505a\u7684\u4e8b\u60c5\uff0c\u683c\u5f0f\u53ef\u81ea\u884c\u5b9a\u7fa9\uff0c\u4e00\u822c\u4f86\u8aaa\u6703\u9577\u9019\u6a23\uff1a\\n\\n```js\\nexport const ADD_TODO = \'ADD_TODO\'\\n\\nconst action = {\\n  type: ADD_TODO // Reducer\u7684type\u540d\u7a31\\n  payload // \'\u8981\u50b3\u905e\u7684\u8cc7\u6599\'\\n}\\n```\\n\\n\u7576 Views\u8981\u8ddf `store`\u6e9d\u901a\uff0c\u6700\u7c21\u6613\u7684\u5beb\u6cd5\u5c31\u662f `store.dispatch(action)`\uff0c\u4f8b\u5982\uff1a\\n\\n```js\\nstore.dispatch({\\n  type: \'ADD_TODO\' // Reducer\u7684type\u540d\u7a31\\n  payload // \'\u8981\u50b3\u905e\u7684\u8cc7\u6599\'\\n})\\n```\\n\\n\\n\\n## Action Creator\\n\\n`action creator`\u548c `action`\u5f88\u5bb9\u6613\u88ab\u6df7\u70ba\u4e00\u8ac7\uff0c`action creator` \u662f\u7522\u751f `action`\u7684 function\\n\\n```js\\nexport const ADD_TODO = \'ADD_TODO\'\\n\\nexport const addTodo = (payload) => {\\n  return {\\n    type: ADD_TODO,\\n    payload\\n  }\\n}\\n```\\n\\n\\n\\n\u7531 View\u767c\u51fa `dispatch`\u6642\u7684\u5beb\u6cd5\uff1a\\n\\n```js\\ndispatch(addTodo(payload))\\n```\\n\\n\\n\\n## Async Action Creator\uff08\u4f7f\u7528Redux-Thunk\uff09\\n\\nRedux\u539f\u751f\u662f\u7981\u6b62\u975e\u540c\u6b65\u64cd\u4f5c\u7684\uff0c\u642d\u914d `Redux-Thunk` \u5957\u4ef6\u6211\u5011\u53ef\u4ee5\u7528\u4f86\u88fd\u4f5c \u300c**\u975e\u540c\u6b65\u7684 Action Creator**\u300d\u3002\u7576\u4e00\u500b `action creator`\u56de\u50b3\u7684\u4e0d\u662f\u7269\u4ef6\uff08\u4e5f\u5c31\u662f `action`\uff09\u800c\u662f\u4e00\u500b function\u6642\uff0c\u8a72 function\u5c31\u6703\u88ab  `Redux Thunk middleware`\u6240\u57f7\u884c\u3002\\n\\n\u95dc\u65bc\u9019\u500b `async action creator`\u6240\u4ee5\u56de\u50b3\u7684 function\uff1a\\n\\n* \u57f7\u884c\u5b8c\u975e\u540c\u6b65\u7684\u64cd\u4f5c\u5f8c\u8abf\u7528 `distach` \\n\\n* \u4e0d\u9700\u8981\u662f pure function\uff0c\u4e5f\u53ef\u4ee5\u505a\u5176\u4ed6\u7684\u64cd\u4f5c\uff0c\u9019\u8b93\u6211\u5011\u4e5f\u53ef\u4ee5\u7528\u4f86\u958b\u767c\u66f4\u8907\u96dc\u7684\u975e\u540c\u6b65\u63a7\u5236\u6d41\u7a0b\\n\\n\u7bc4\u4f8b\uff1a\\n\\n```js\\nconst fetchData = (data) => {\\n  return (dispatch) => {\\n    // \u4e0d\u9700\u8981\u662f pure function\uff0c\u4e5f\u53ef\u4ee5\u505a\u5176\u4ed6\u540c\u6b65\u7684\u64cd\u4f5c\\n    dispatch({\\n      type: \'ANOTHER_ACTION\'\\n    })\\n    \\n    return fetch(\'http://www.website.com/api/todolist.post\', {\\n      method: \'POST\',\\n      body: JSON.stringify(data)\\n    }).then(response => response.json())\\n      .then(response => {\\n        dispatch({\\n          type: \'ADD_TODOLIST\',\\n          payload: response\\n        })\\n      }))\\n  }\\n}\\n```\\n\\nViews\u4e2d\u767c\u51fa `dispatch`\u7684\u5beb\u6cd5\uff1a\\n\\n```js\\nstore.dispatch(fetchPosts(\'reactjs\')).then(() =>\\n  console.log(store.getState())\\n)\\n```\\n\\n\\n\\n## store\\n\\n`createStore` \u5beb\u6cd5\u7bc4\u4f8b\\n\\n```js\\nimport thunkMiddleware from \'redux-thunk\'\\nimport createLogger from \'redux-logger\'\\nimport { createStore, applyMiddleware } from \'redux\'\\nimport rootReducer from \'./reducers\'\\n\\nconst loggerMiddleware = createLogger()\\n\\nconst store = createStore(\\n  rootReducer,\\n  applyMiddleware(\\n    thunkMiddleware, // dispatch() function\\n    loggerMiddleware // log action\\n  )\\n)\\n```\\n\\n\u5e38\u7528 Methods\uff1a\\n\\n`getState()`\\n\\n`dispatch(action)`\\n\\n`subscribe(listener)`\\n\\n\\n\\n## React-Redux\\n\\nReact-Redux \u662f react\u8ddf redux\u6e9d\u901a\u7528\u7684\u5957\u4ef6\uff0c\u820a\u7248\u4e3b\u8981\u662f\u4ee5`connect` \u51fd\u5f0f\u5c07 `state`\u548c `reducer`\u6ce8\u5165Component\uff0cv7.1.0\u4e4b\u5f8c\u7684\u7248\u672c\u63d0\u4f9b `Hooks`\u8a9e\u6cd5\uff0c\u4f7f\u7528\u65b9\u5f0f\u6bd4\u4ee5\u524d\u7c21\u55ae\u5f88\u591a\\n\\n\u5b98\u7db2\u6587\u4ef6\\n\\nhttps://react-redux.js.org/api/hooks\\n\\n\u4e0d\u932f\u7684\u4ecb\u7d39\\n\\nhttps://medium.com/enjoy-life-enjoy-coding/react-redux-%E5%B0%8F%E5%AD%A9%E5%AD%90%E6%89%8D%E5%81%9A%E9%81%B8%E6%93%87-hooks-%E5%92%8C-redux-%E6%88%91%E5%85%A8%E9%83%BD%E8%A6%81-1fdd226f5d99\\n\\nProvider\u8a2d\u5b9a\\n\\n```js\\n// app.js\\nimport { createStore } from \'redux\'\\nimport { Provider } from \'react-redux\'\\nimport reducer from \'@/store/reducer.js\'\\n\\nconst store = createStore(reducer)\\n\\nconst App = () => {\\n  return (\\n    <Provider store={store}>\\n      <Main />\\n    </Provider>\\n  )\\n}\\n```\\n\\n\\n\\nReact \u548c Store \u6e9d\u901a\u4e3b\u8981\u662f `state`\u548c `action`\uff0c`React-Redux`\u63d0\u4f9b\u4e86 `useSelector`\u4ee5\u53ca `useDispatch`\uff0c\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nimport { useSelector, useDispatch } from \'react-redux\'\\n\\nconst Page = () => {\\n  const todoList = useSelector(state => state.todoList)\\n  const dispatch = useDispatch()\\n  // \u7565\\n}\\n```\\n\\n\\n\\n## next-redux-wrapper\\n\\nRedux \u4f7f\u7528\u5728 Next.js\u4e0a\u6642\uff0cserver-side \u53d6\u7528\u7db2\u7ad9\u7684 config\u6216\u8005 state\u8cc7\u6599\u90fd\u9700\u8981\u900f\u904e `context`\u4f86\u53d6\u5f97\uff0c\u4f46\u662f Redux\u7684 `store`\u662f\u6c92\u6709\u5728 `context`\u5167\u7684\uff0c\u9019\u6642\u5019\u6211\u5011\u5c31\u9700\u8981\u984d\u5916\u5b89\u88dd `next-redux-wrapper`\\n\\n\u4f9d\u8cf4 `react-redux`\u5957\u4ef6\uff0c\u4e26\u4e14\u8981\u6ce8\u610f\u7248\u672c\u5728 v7.x\u4ee5\u4e0a\\n\\n\u9996\u5148\u6709\u500b\u5c0f\u5751\u8981\u6ce8\u610f\uff0c\u4f7f\u7528 `next-redux-wrapper`\u4e4b\u5f8c\uff0c\u96d6\u7136\u4ecd\u7136\u4f7f\u7528 `react-redux`\u7684 `useSelector`\u53ca `useDispatch`\u4f86\u8ddf `Store`\u6e9d\u901a\uff0c\u4f46`react-redux`\u7684 `Provider`\u5c31\u4e0d\u9700\u8981\u52a0\u4e0a\u53bb\uff0c\u5426\u5247 `state`\u7684\u66f4\u65b0\u4e0a\u6703\u51fa\u73fe bug\u3002\\n\\n\\n\\n* store.js\\n\\n```js\\n// store.js\\nimport { createStore, AnyAction, Store } from \'redux\';\\nimport { createWrapper, Context, HYDRATE } from \'next-redux-wrapper\';\\n\\n// create your reducer\\nconst reducer = (state = {tick: \'init\'}, action) => {\\n    switch (action.type) {\\n        case HYDRATE:\\n            // Attention! This will overwrite client state! Real apps should use proper reconciliation.\\n            return {...state, ...action.payload};\\n        case \'TICK\':\\n            return {...state, tick: action.payload};\\n        default:\\n            return state;\\n    }\\n};\\n\\n// create a makeStore function\\nconst makeStore = (context) => createStore(reducer);\\n\\n// export an assembled wrapper\\nexport const wrapper = createWrapper(makeStore, {debug: true});\\n```\\n\\n`getStaticProps`\u6216 `getServerSideProps` \u767c\u51fa dispatch\u6642 type\u70ba `HYDRATE`\\n\\n\\n\\n* app.js\\n\\n```js\\nimport React from \'react\';\\nimport { wrapper } from \'../components/store\'\\n\\nconst WrappedApp = ({ Component, pageProps }) => (\\n    <Component {...pageProps} />\\n);\\n\\nWrappedApp.getInitialProps = wrapper.getInitialPageProps(store => ({ Component, ctx }) => {\\n  // \u7565\\n})\\n\\nexport default wrapper.withRedux(WrappedApp)\\n```\\n\\n\u95dc\u65bc `getInitialProps`\u3001`getStaticProps`\u3001`getServerSideProps` \u7b49\u7684\u5beb\u6cd5\u53c3\u8003\u5b98\u65b9\u6587\u4ef6\uff1a\\n\\nhttps://github.com/kirill-konshin/next-redux-wrapper#server-and-client-state-separation\\n\\n\\n\\n* reducer\\n\\nreducer\u7684\u8a2d\u5b9a\u662f\u5176\u4e2d\u6bd4\u8f03\u795e\u79d8\u7684\u90e8\u4efd\uff0c\u5fc5\u9808\u5728 reducer \u7684 function\u88e1 switch-case\u7684\u300c**\u6700\u4e0a\u65b9**\u300d\uff08\u4e5f\u5c31\u662f\u8981\u5728\u7b2c\u4e00\u500b\u505a\u5224\u65b7\uff09\u589e\u52a0\u5224\u65b7 `action.type`\u70ba `HYDRATE`\uff0c\u5c31\u6211\u7684\u7406\u89e3\u9019\u500b\u662f\u5728`getStaticProps`\u6216 `getServerSideProps`  \u57f7\u884c\u6642\u6703\u81ea\u52d5\u88ab `dispatch`\uff0c\u8981\u5728\u9019\u908a\u66f4\u65b0 server-side\uff08\u6216\u8005 static site\u7684 build-time\uff09\u4e2d\u7684 `state`\u3002\\n\\n\u6b64\u6642 `action`\u88e1\u6703\u6709\u4e00\u5305 `payload`\u7269\u4ef6\uff0c\u88e1\u9762\u662f\u66f4\u7684 `state`\uff0c\u8981\u7528\u4ed6\u4f86\u53d6\u4ee3\u8868\u820a\u7684 `state`\u3002\\n\\n\u5982\u679c `reducer`\u662f\u6700\u5916\u5c64\u7684\u8a71\uff08rootReducer\uff09\uff0c\u5beb\u6cd5\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nimport initState from \'./state.js\'\\nimport { HYDRATE } from \'next-redux-wrapper\'\\n\\nexport const reducer = (state = initState, action) => {\\n  switch (action.type) {\\n    case HYDRATE: {\\n      return {\\n        ...state, // \u539f\u672c\u7684 state\\n        ...action.payload // \u66f4\u65b0\u7684 state\\n      }\\n    }\\n    // \u7565\u2026 \u5176\u4ed6 case\\n```\\n\\n\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5373\u4f7f\u8a72 `reducer`\u4e26\u4e0d\u662f\u5c0d\u61c9\u5230 state-tree\u6700\u5e95\u5c64\uff08\u6bd4\u5982\u4f7f\u7528\u4e86 `combineReducers`\uff09\uff0c**reducer\u4e2d\u6ce8\u5165\u7684 `state`\u53ca `action.payload`\u537b\u4ecd\u7136\u662f\u6700\u5e95\u5c64\u7684 `state`**\uff0c\u6240\u4ee5\u9019\u6642\u5019\u5c31\u8981\u6ce8\u610f\u56de\u50b3 state-tree\u7684\u7bc0\u9ede\u4f4d\u7f6e\\n\\n```js\\n// store.js\\nimport { createStore } from \'redux\'\\nimport { combineReducers } from \'redux\'\\nimport { createWrapper } from \'next-redux-wrapper\'\\nimport auth from \'./auth/reducers.js\'\\n\\nconst makeStore = (context) => createStore(\\n  combineReducers({\\n    auth\\n  })\\n)\\nexport const wrapper = createWrapper(makeStore, { debug: true })\\n\\n// reducer.js\\nimport initState from \'./state.js\'\\nimport { HYDRATE } from \'next-redux-wrapper\'\\n\\nconst auth = (state = initState, action) => {\\n  switch (action.type) {\\n    case HYDRATE: {\\n      return {\\n        ...state.auth, // \u6ce8\u610f\uff01\u8981\u56de\u50b3\u6b63\u78ba\u7684 state-tree\u7684\u7bc0\u9ede\u4f4d\u7f6e\\n        ...action.payload.auth // \u6ce8\u610f\uff01\u8981\u56de\u50b3\u6b63\u78ba\u7684 state-tree\u7684\u7bc0\u9ede\u4f4d\u7f6e\\n      }\\n    }\\n    // \u7565\u2026 \u5176\u4ed6 case\\n  }\\n}\\n\\nexport default auth\\n```"},{"id":"2021/02/09/vue-option-based-component-with-typescript","metadata":{"permalink":"/blog/2021/02/09/vue-option-based-component-with-typescript","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-02-09-Vue2\u7684 Option-Based Component\u4e2d\u4f7f\u7528Typescript\u7684\u7c21\u6613\u65b9\u5f0f.md","source":"@site/blog/2021/2021-02-09-Vue2\u7684 Option-Based Component\u4e2d\u4f7f\u7528Typescript\u7684\u7c21\u6613\u65b9\u5f0f.md","title":"Vue2\u7684 Option-Based Component\u4e2d\u4f7f\u7528Typescript\u7684\u7c21\u6613\u65b9\u5f0f","description":"\u524d\u8a00","date":"2021-02-09T00:00:00.000Z","formattedDate":"February 9, 2021","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"vue","permalink":"/blog/tags/vue"}],"readingTime":7.385,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2021/02/09/vue-option-based-component-with-typescript","title":"Vue2\u7684 Option-Based Component\u4e2d\u4f7f\u7528Typescript\u7684\u7c21\u6613\u65b9\u5f0f","authors":"thunderboy","tags":["javascript","vue"]},"prevItem":{"title":"Next.js\u4e0a\u4f7f\u7528 Redux\u56db\u5144\u5f1f","permalink":"/blog/2021/05/23/lib-of-redux-on-next"},"nextItem":{"title":"\u76f8\u5bb9 Vue2\u53ca Vue3\u74b0\u5883\u7684 Component\u5beb\u6cd5","permalink":"/blog/2021/02/09/compatible-vue2-and-vue3"}},"content":"## \u524d\u8a00\\n\\n\u4e4b\u524d\u4f7f\u7528 Vue2.x\u958b\u767c\u6642\u53c8\u60f3\u4f7f\u7528 Typescript\uff0c\u7576\u6642\u9047\u5230\u7684\u56f0\u64fe\u662f\u2026 Component\u4f7f\u7528 Typescript\u6642\u6839\u672c\u5c31\u5403\u4e0d\u5230 this\u7684\u578b\u5225\uff0c\u6240\u4ee5\u57fa\u672c\u4e0a\u662f\u7121\u6cd5\u76f4\u63a5\u4f7f\u7528\u7684\uff0c\u552f\u4e00\u7684\u65b9\u5f0f\u4e5f\u53ea\u80fd\u63a1\u7528\u5b98\u65b9\u63a8\u85a6\u7684 Class Component\u5beb\u6cd5\uff0c\u6703\u5beb\u5230\u89ba\u5f97\u5f88\u751f\u6c23\uff08\uff1f\uff09\uff0c Class Component\u7684\u5beb\u6cd5\u5be6\u5728\u662f\u9817\u4e0d\u76f4\u89c0\u3002\\n\\n\u4e00\u76f4\u5230 Vue3.0\u63a8\u51fa\u4e4b\u5f8c\uff0c\u624d\u7d42\u65bc\u5fb9\u5e95\u6539\u5584\u4e86\u5c0d Typescript\u7684\u652f\u63f4\uff1b\u4f46\u6211\u7684\u5de5\u4f5c\u4e0a\u57fa\u65bc\u67d0\u4e9b\u7406\u7531\uff0c\u77ed\u6642\u9593\u5167\u7121\u6cd5\u8f49\u70ba\u4f7f\u7528 Vue3.0\uff0c\u6240\u4ee5\u6211\u5c31\u4f86\u7c21\u55ae\u7814\u7a76\u4e86\u4e00\u4e0b\uff0c\u5728 Vue2.x\u74b0\u5883\u4e0b\u662f\u5426\u6709\u4f7f\u7528 Typescript\u5408\u9069\u65b9\u5f0f\uff1f\\n\\n\x3c!--truncate--\x3e\\n\\n## \u4f7f\u7528 Composition Api\\n\\n\u90fd\u8aaa\u8981\u4f7f\u7528 Vue2.x\u7684 Option-Based Component\u4e86\uff0c\u4f55\u4f86 Composition Api\uff1f\u4f46\u672c\u7bc7\u6587\u7ae0\u8981\u63d0\u51fa\u4f86\u7684\u89e3\u6c7a\u65b9\u5f0f\u6b63\u662f Composition Api\u3002\\n\\n\u96d6\u7136 Composition Api\u662f Vue3.0\u7684\u7522\u7269\uff0c\u4f46\u5b98\u65b9\u4e5f\u63d0\u4f9b\u4e86 [Composition Api for Vue2.x\u7684\u5957\u4ef6](https://github.com/vuejs/composition-api)\uff0c\u5728 Vue2.x\u7684\u74b0\u5883\u4e2d\u5b89\u88dd\u4e4b\u5f8c\u5c31\u53ef\u4ee5\u4f7f\u7528 Composition Api\u3002\\n\\n\u7136\u5f8c\u91cd\u9ede\u4f86\u4e86\uff0c\u4f7f\u7528 Composition Api\u4ecd\u7136\u662f\u76f8\u5bb9 Option\u7684\u5beb\u6cd5\u4e86\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u4e0d\u6539\u8b8a\u539f\u672c\u5beb\u6cd5\u7684\u60c5\u6cc1\u4e0b\uff0c\u5f97\u5230\u5dee\u4e0d\u591a\u65bc Vue3.x\u5c0d\u65bc Typescript\u7684\u652f\u63f4\u5ea6\uff08\u61c9\u8a72\u662f\u5427\uff09\u3002\u6700\u7c21\u7684\u4f7f\u7528\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nimport { defineComponent } from \'@vue/composition-api\'\\n\\nexport default defineComponent({\\n  // \u53ef\u7dad\u6301\u539f\u672c Option\u7684\u5beb\u6cd5\\n  props: {\\n  },\\n  data () {\\n    return {}\\n  },\\n  // \u7565\u2026\\n})\\n```\\n\\n\u7136\u800c\u5728\u6211\u7684\u5be6\u6e2c\u4e2d\u767c\u73fe\u6703\u6709\u4e9b\u5c0f\u7d30\u7bc0\u662f\u548c Vue3.0\u74b0\u5883\u4e2d\u6703\u6709\u4e9b\u5dee\u7570\uff0c\u9019\u500b\u5728\u5f8c\u9762\u6703\u518d\u505a\u8aaa\u660e\u3002\\n\\n\\n\\n## Props\u7684\u578b\u5225\\n\\nVue \u539f\u751f\u5c31\u6709\u5b9a\u7fa9 Props\u578b\u5225\u7684\u529f\u80fd\uff08`type`\u6b04\u4f4d\uff09\uff0c\u4f46\u662f `type`\u6b04\u4f4d\u53ea\u9650\u65bc javascript\u7684\u539f\u751f\u578b\u5225\uff0c\u5982\u679c\u60f3\u8981\u5ba3\u544a\u70ba Typescript\u7684\u578b\u5225\u7684\u8a71\u6709\u4ee5\u4e0b\u5169\u7a2e\u65b9\u5f0f\uff1a\\n\\n### \u65b9\u6cd51 - \u4f7f\u7528 `PropType`\\n\\n```typescript\\nimport { defineComponent, PropType } from \'@vue/composition-api\'\\n\\ntype Value {\\n  label: string;\\n  value: string;\\n}\\n\\nexport default defineComponent({\\n  props: {\\n    value: {\\n      type: Object as PropType<Value>\\n    }\\n  }\\n})\\n```\\n\\n### \u65b9\u6cd52 - \u4f7f\u7528 function return Type/Interface\uff1a\\n\\n```typescript\\nimport { defineComponent, PropType } from \'@vue/composition-api\'\\n\\ntype MyValue = {\\n  label: string;\\n  value: string;\\n}\\n\\nexport default defineComponent({\\n  props: {\\n    value: {\\n      type: Object as () => MyValue\\n      // \u6ce8\u610f\uff01\u4ee5\u4e0b\u5beb\u6cd5\u662f\u932f\u7684\u5594\uff01\\n      // type: Object as Value\\n    }\\n  }\\n})\\n```\\n\\n\\n\\n## Option\u4e0a\u300cdata\u300d\u6b04\u4f4d\u7684\u578b\u5225\\n\\nComponent\u7684 `data`\u6b04\u4f4d\u672c\u8eab\u5c31\u662f\u4e00\u500b function\uff0c\u6240\u4ee5\u5728\u5ba3\u544a\u578b\u5225\u4e0a\u4e5f\u662f\u5f88\u7c21\u55ae\u7684\uff0c\u6709\u4ee5\u4e0b\u5169\u7a2e\u65b9\u5f0f\uff1a\\n\\n### \u65b9\u6cd51 - \u4f7f\u7528\u8a3b\u8a18 (Annotation)\u7684\u65b9\u5f0f\\n\\n```typescript\\nimport { defineComponent } from \'@vue/composition-api\'\\n\\ntype MyValue = {\\n  label: string;\\n  value: string;\\n}\\n\\nexport default defineComponent({\\n  data () {\\n    const value: MyValue = {\\n      label: \'default\',\\n      value: \'default\'\\n    }\\n    return {\\n      value\\n    }\\n  }\\n})\\n```\\n\\n### \u65b9\u6cd51 - \u4f7f\u7528\u63a8\u8ad6 (Inference)\u7684\u65b9\u5f0f\\n\\n```typescript\\nimport { defineComponent } from \'@vue/composition-api\'\\n\\ntype MyValue = {\\n  label: string;\\n  value: string;\\n}\\n\\nexport default defineComponent({\\n  data () {\\n    return {\\n      value: {\\n        label: \'default\',\\n        value: \'default\'\\n      } as MyValue\\n    }\\n  }\\n})\\n```\\n\\n\\n\\n## Vue2.x Composition Api\u548c Vue3.0\u7684\u90e8\u4efd\u5dee\u7570\\n\\n\u65e2\u7136\u90fd\u4f7f\u7528 Composition Api\u4e86\uff0c\u81ea\u7136\u4e5f\u4e0d\u6703\u60f3\u6b7b\u5b88\u8457\u820a\u7684 Option\u7684\u5beb\u6cd5\uff0c\u60f3\u5617\u8a66\u770b\u770b Composition Api\u7684\u5a01\u529b\u3002\\n\\n\u4e0d\u904e\u6211\u5be6\u969b\u5728\u4f7f\u7528\u7684\u6642\u5019\uff0c\u9084\u662f\u8e29\u4e86\u4e00\u4e9b\u5751\uff0c\u767c\u73fe\u7531\u65bc Vue2.x\u548c Vue3.0\u5728\u5e95\u5c64\u4e0a\u6709\u4e00\u4e9b\u57fa\u672c\u7684\u5dee\u7570\uff0c\u6240\u4ee5\u5beb\u6cd5\u4e26\u4e0d\u6703 100%\u4e00\u6a21\u4e00\u6a23\u7684\uff1b\u4ee5\u4e0b\u662f\u6211\u76ee\u524d\u70ba\u6b62\u9047\u5230\u7684\u554f\u984c\uff1a\\n\\n### 1. \u4f7f\u7528 set\u65b0\u589e\u7269\u4ef6\u6b04\u4f4d\\n\\n\u5f9e Vue2.x\u958b\u59cb\u5b78\u8d77\u7684\u958b\u767c\u8005\u61c9\u8a72\u90fd\u77e5\u9053 `$set`\u7684\u5beb\u6cd5\u4ee5\u53ca\u539f\u7406\uff0c\u9019\u500b\u662f\u4e00\u500b\u883b\u5927\u7684\u4e3b\u984c\u6240\u4ee5\u5728\u9019\u88e1\u5c31\u4e0d\u6df1\u5165\u53bb\u63a2\u8a0e\u4e86\uff08\u8981\u89e3\u91cb\u6e05\u695a\u9700\u8981\u4e00\u6574\u7bc7\u6587\u7ae0\u4f86\u89e3\u91cb\uff0c\u7db2\u8def\u4e0a\u4e5f\u6709\u76f8\u7576\u591a\u7684\u6587\u7ae0\u4e86\uff09\u3002\\n\\n\u7c21\u55ae\u8b1b\u5462\u2026 Vue3.0 \u7684\u5e95\u5c64\u6539\u4f7f\u7528 proxy\u53d6\u4ee3 Vue2.x\u7684 definedObject\u4f86\u5be6\u505a\u8cc7\u6599\u7684\u96d9\u5411\u7d81\u5b9a\uff0c\u6240\u4ee5 Vue3.0\u7684 Component\u4e2d `data`\u4e2d\u5ba3\u544a\u7269\u4ef6\u6642\uff0c\u7269\u4ef6\u8981\u65b0\u589e\u6b04\u4f4d\u4e0d\u9700\u8981\u4f7f\u7528 `$set`\u4e5f\u80fd\u76e3\u807d\u5230\u8cc7\u6599\u7684\u7570\u52d5\u3002\\n\\n\u4f46 Vue2.x\u5373\u4f7f\u662f\u88dd\u4e86 Composition Api\uff0c\u4ecd\u7136\u53d7\u5230\u5e95\u5c64\u7684\u9650\u5236\uff0c\u5beb\u6cd5\u4e0a\u81ea\u7136\u548c Vue3.0\u6709\u4e9b\u5dee\u7570\u3002\\n\\n\u5728 Composition Api\u7684 `setup`\u7576\u4e2d\u7531\u65bc\u4e0d\u80fd\u7528 `this`\u4f86\u4f7f\u7528 Vue\u5be6\u4f8b\u4e0a\u7684 `$set`\uff0c\u6240\u4ee5\u5fc5\u9808\u984d\u5916 import Composition Api\u63d0\u4f9b\u7684 `set`\u3002\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```typescript\\nimport { defineComponent, reactive, set, SetupContext, Data } from \'@vue/composition-api\'\\n\\nexport default defineComponent({\\n  setup (props: Data, context: SetupContext) {\\n    \\n    const data: any = reactive({\\n      selectedValueArr: []\\n    })\\n    \\n    const selectDropdown = (key: string, item: { label: string; value: any; }) => {\\n      const index = props.dropdowns\\n        .map(d => d.name)\\n        .indexOf(key)\\n\\t\\t\\t// \u4f7f\u7528set\u52a0\u5165\u65b0\u7684\u6b04\u4f4d\u8cc7\u6599\\n      set(data.selectedValueArr, index, item.value)\\n      // \u4ee5\u4e0b\u5beb\u6cd5\u7121\u6cd5\u96d9\u5411\u7d81\u5b9a\u8cc7\u6599\\n      // data.selectedValueArr[index] = item.value\\n    }\\n\\n    return {\\n      selectDropdown\\n    }\\n  }\\n})\\n```\\n\\n\\n\\n### 2. \u67d0\u4e9b\u80fd import\u9032\u4f86\u7684\u6771\u897f\u300c\u53ef\u80fd\u300d\u4e0d\u4e00\u6a23\\n\\n\u4ee5\u6211\u6709\u9650\u7684\u4f7f\u7528\u7d93\u9a57\uff0c\u9084\u4e0d\u66c9\u5f97\u6240\u6709\u53ef\u80fd\u7684\u5dee\u7570\uff0c\u5c31\u6211\u76ee\u524d\u6240\u9047\u5230\u7684\u662f Vue2.x Composition Api\u6709\u4e00\u500b\u53eb\u505a`Data`\u7684 type\uff0c\u5728 Vue3.0\u4e2d\u662f\u6c92\u6709\u7684\uff0c\u4f9d\u7167\u6211\u627e\u5230\u7684\u8cc7\u6599\u8aaa\u660e`Data`\u662f\u7528\u5728`setup`\u4e2d\u6ce8\u5165`props`\u6240\u4f7f\u7528\u9810\u8a2d\u578b\u5225\u3002\\n\\n\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```typescript\\n// vue2.x composition-api\\nimport { defineComponent, SetupContext, Data } from \'@vue/composition-api\'\\n// vue3.0 \u4ee5\u4e0b\u5beb\u6cd5\u6703\u627e\u4e0d\u5230 Data \u6240\u4ee5\u6703\u51fa\u932f\\n// import { defineComponent, SetupContext, Data } from \'vue\'\\n\\nexport default defineComponent({\\n  props: [\'value\'],\\n  setup (props: Data, context: SetupContext) {\\n\\n  }\\n})\\n```\\n\\n\u4e0d\u904e\u5462\u2026\\n\\n`Data`\u9019\u500b\u6771\u897f\u6211\u611f\u89ba\u4ed6\u6c92\u6709\u4ec0\u9ebc\u5be6\u7528\u6027\uff0c\u6aa2\u8996\u4ed6\u7684\u578b\u5225\u5176\u5be6\u662f\u9019\u6a23\u5b50\u3002\\n\\n```ts\\ntype Data = {\\n  [key: string]: unknown;\\n}\\n```\\n\\n\u518d\u4f86\uff0c\u5982\u679c\u4f60\u6709\u6309\u7167\u524d\u4e00\u500b\u7ae0\u7bc0\u6240\u4ecb\u7d39\u7684\u65b9\u5f0f\u53bb\u8a3b\u8a18`props`\u7684\u578b\u5225\uff0c\u5728`setup`\u4e2d\u6240\u6ce8\u5165\u7684`props`\u662f\u5b8c\u5168\u4e0d\u9700\u8981\u518d\u8a3b\u8a18\u7684\uff0cTypescript\u4ed6\u81ea\u5df1\u5c31\u53ef\u4ee5\u63a8\u8ad6\u51fa\u4f86\u3002\\n\\n\u6240\u4ee5\u9019\u88e1\u6211\u552f\u4e00\u8981\u89e3\u91cb\u7684\uff0c\u53ea\u662f\u8aaa`@vue/composition-api`\u548c Vue3.0\u80fd import\u53ef\u80fd\u6703\u6709\u6240\u4e0d\u540c\uff0c\u9019\u88e1\u50c5\u662f\u4f5c\u70ba\u7bc4\u4f8b\u4f86\u8aaa\u660e\u3002\\n\\n\u81f3\u65bc\u662f\u5426\u6709\u5176\u4ed6\u5be6\u969b\u5f71\u97ff\u4f7f\u7528\u7684\u5dee\u7570\uff0c\u56e0\u70ba\u7684\u7d93\u9a57\u6709\u9650\u6240\u4ee5\u9084\u4e0d\u66c9\u5f97\u4e86\uff08\u6211\u5f88\u62b1\u6b49 XD\uff09\u3002\\n\\n\\n\\n## \u7d50\u8ad6\\n\\n\u65e2\u7136 Class Component\u5728 Vue3.0\u4e4b\u5f8c\u5df2\u7d93\u88ab\u5b98\u65b9\u6240\u68c4\u7528\uff0c\u6240\u4ee5\u6211\u4e5f\u89ba\u5f97\u6c92\u6709\u4efb\u4f55\u7406\u7531\u8981\u518d\u63a1\u7528 Class Component\u3002\\n\\n\u672c\u7bc7\u6587\u7ae0\u6211\u4f9d\u7167\u6211\u81ea\u5df1\u5728\u5de5\u4f5c\u4e0a\u7684\u7d93\u9a57\u6240\u6574\u7406\u51fa\u4f86\u7684\uff0c\u80fd\u5920\u5728 Vue2.x\u7684\u74b0\u5883\u4e0b\u4e5f\u80fd\u65b9\u4fbf\u7684\u7d50\u5408 Typescript\uff0c\u5e0c\u671b\u5c0d\u5927\u5bb6\u6709\u5e6b\u52a9\u3002"},{"id":"2021/02/09/compatible-vue2-and-vue3","metadata":{"permalink":"/blog/2021/02/09/compatible-vue2-and-vue3","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-02-09-\u76f8\u5bb9 Vue2\u53ca Vue3\u74b0\u5883\u7684 Component\u5beb\u6cd5.md","source":"@site/blog/2021/2021-02-09-\u76f8\u5bb9 Vue2\u53ca Vue3\u74b0\u5883\u7684 Component\u5beb\u6cd5.md","title":"\u76f8\u5bb9 Vue2\u53ca Vue3\u74b0\u5883\u7684 Component\u5beb\u6cd5","description":"\u524d\u8a00","date":"2021-02-09T00:00:00.000Z","formattedDate":"February 9, 2021","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"vue","permalink":"/blog/tags/vue"}],"readingTime":3.64,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2021/02/09/compatible-vue2-and-vue3","title":"\u76f8\u5bb9 Vue2\u53ca Vue3\u74b0\u5883\u7684 Component\u5beb\u6cd5","authors":"thunderboy","tags":["javascript","vue"]},"prevItem":{"title":"Vue2\u7684 Option-Based Component\u4e2d\u4f7f\u7528Typescript\u7684\u7c21\u6613\u65b9\u5f0f","permalink":"/blog/2021/02/09/vue-option-based-component-with-typescript"},"nextItem":{"title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e","permalink":"/blog/2020/05/09/vue-component-dataflow-1"}},"content":"## \u524d\u8a00\\n\\n\u7406\u8ad6\u4e0a Vue3.x\u5927\u591a\u6578\u7684\u5beb\u6cd5\u662f\u6709\u5411\u4e0b\u76f8\u5bb9 Vue2.x\u7684\u5beb\u6cd5\uff0c\u6240\u4ee5\u7406\u8ad6\u4e0a`.vue`\u6a94Component\u7684\u5beb\u6cd5\u53ea\u8981\u540c\u6642\u7b26\u5408 Vue3.x\u548c Vue2.x\u7684\u5beb\u6cd5\uff0c\u662f\u80fd\u5920\u5c07\u540c\u4e00\u500b\u6a94\u6848\u5171\u7528\u65bc\u5169\u8005\u4e0d\u540c\u74b0\u5883\u7576\u4e2d\u3002\\n\\n\u4ee5\u4e0b\u6703\u91dd\u5c0d\u5e7e\u7a2e\u6211\u9047\u904e\u5728\u9019\u5169\u500b\u74b0\u5883\u4e2d\u8f03\u5927\u5dee\u7570\u7684\u90e8\u4efd\u4ee5\u53ca\u89e3\u6c7a\u65b9\u5f0f\u505a\u500b\u8aaa\u660e\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## v-model\\n\\nVue2.x\u548c Vue3.x Component\u96d9\u5411\u7d81\u5b9a\u4e3b\u8981\u6709\u5169\u500b\u5dee\u7570\uff1a\\n\\n1. Vue3.x\u79fb\u9664\u4e86 `.sync`\u5beb\u6cd5\uff0c\u4e26\u4e14\u55ae\u4e00 Component\u4e2d\u53ef\u6709\u591a\u500b `v-model`\u3002\\n2. `v-model`\u5c0d\u61c9\u7684 `prop`\u548c `event`\u9810\u8a2d\u540d\u7a31\u4e0d\u540c\u3002\\n\\n\u5728 Vue2.x\u7684\u74b0\u5883\u7576\u4e2d\uff0c`v-model`\u9810\u8a2d\u5c0d\u61c9 `v-bind:value`\u548c `@input`\uff0c\u4f8b\u5982\uff1a\\n\\n```vue\\n<input :value=\\"syncValue\\" @input=\\"handleInput\\"/>\\n\x3c!-- \u7b49\u540c\u65bc --\x3e\\n<input v-model=\\"syncValue\\"/>\\n```\\n\\n\u5728 Vue3.x\u7684\u74b0\u5883\u7576\u4e2d\uff0c`v-model`\u9810\u8a2d\u5c0d\u61c9 `v-bind:modelValue`\u548c `@update:modelValue`\\n\\n```vue\\n<input :modelValue=\\"syncValue\\" @update:modelValue=\\"handleInput\\"/>\\n\x3c!-- \u7b49\u540c\u65bc --\x3e\\n<input v-model=\\"syncValue\\"/>\\n```\\n\\n\u7d9c\u5408\u4ee5\u4e0a\u5373\u53ef\u5f97\u51fa\u4e00\u500b\u7d50\u8ad6\uff0c\u53ea\u8981\u4f7f\u7528 `model`\u6b04\u4f4d\u8a2d\u5b9a\u9810\u8a2d\u7684`prop`\u548c`event`\u70ba\u548c Vue3.x\u9810\u8a2d\u503c\u76f8\u540c\uff0c\u90a3\u9ebc\u5c31\u53ef\u4ee5\u8b93\u9019\u500b Component\u7684`v-model`\u540c\u6642\u76f8\u5bb9\u65bc Vue2.x\u548c Vue3.x\u3002\\n\\n\u4e5f\u5c31\u662f\u53ea\u8981\u5728 option\u7576\u4e2d\u52a0\u5165\u9019\u500b\u5373\u53ef\uff1a\\n\\n```js\\nmodel: {\\n  prop: \'modelValue\',\\n  event: \'update:modelValue\'\\n}\\n```\\n\\n\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```vue\\n<template>\\n  <input v-model=\\"syncValue\\"/>\\n</template>\\n\\n<script>\\nexport default {\\n  // \u4f7f\u7528 model\u8a2d\u5b9a\u9810\u8a2d\u7684 prop\u53ca event\u540d\u7a31\\n  model: {\\n    prop: \'modelValue\',\\n    event: \'update:modelValue\'\\n  },\\n  props: [\'modelValue\'],\\n  computed: {\\n    syncValue: {\\n      get () {\\n        return this.modelValue\\n      },\\n      set (v) {\\n        this.$emit(\'update:modelValue\', v)\\n      }\\n    }\\n  }\\n<\/script>\\n```\\n\\n\\n\\n## \u5075\u6e2c\u74b0\u5883\\n\\n\u5728\u67d0\u4e00\u4e9b\u66f4\u8907\u96dc\u7684\u60c5\u6cc1\uff0c\u5df2\u7d93\u6c92\u6709\u8fa6\u6cd5\u5728\u540c\u4e00\u652f\u7a0b\u5f0f\u5165\u540c\u6642\u76f8\u5bb9\u65bc Vue2.x\u548c Vue3.x\u5169\u500b\u74b0\u5883\uff0c\u5fc5\u9700\u8981\u5206\u6210\u5169\u652f\u7a0b\u5f0f\u624d\u884c\uff0c\u9019\u6642\u5019\u6211\u5011\u53ef\u80fd\u5c31\u6703\u9700\u8981\u7528\u7a0b\u5f0f\u4f86\u5224\u65b7\u76ee\u524d\u7684\u74b0\u5883\u662f Vue2.x\u9084\u662f Vue3.x\uff0c\u518d**\u300c\u52d5\u614bimport\u300d**\u9032\u4f86\u6240\u5c0d\u61c9\u7684\u7a0b\u5f0f**\uff08\u9700\u6ce8\u610f\uff0c\u5982\u679c\u662f\u63a1\u7528\u4e00\u822c\u7684 import\u65b9\u5f0f\u53ef\u80fd\u6703\u5728 webpack\u6253\u5305\u6642\u5c31\u4f9d\u8cf4\u6240\u6709\u7a0b\u5f0f\u9020\u6210\u51fa\u932f\uff09**\u3002\\n\\nVue\u5be6\u4f8b\u5728\u9019\u5169\u8005\u74b0\u5883\u5e95\u4e0b\u6703\u6709\u4e0d\u540c\u6771\u897f\uff0c\u6211\u81ea\u5df1\u63a1\u7528\u7684\u5224\u65b7\u4f9d\u64da\u662f\u5224\u65b7 Vue\u5be6\u4f8b\u5e95\u4e0b\u662f\u5426\u6709`_isVue`\uff0c\u5982\u679c\u6709\u7684\u8a71\u5c31\u662f Vue2.x\u3001\u6c92\u6709\u7684\u8a71\u5c31\u662f Vue3.x\uff0c\u4f8b\uff1a\\n\\n```js\\nif (this._isVue) {\\n  // vue2.x  \\n} else {\\n  // vue3.x\\n}\\n```\\n\\n\u5b8c\u6574\u7bc4\u4f8b\uff1a\\n\\n```vue\\n<template>\\n  <component\\n    :is=\\"dynamicComponent\\">\\n  </component>\\n</template>\\n\\n<script>\\nexport default {\\n  data () {\\n    return {\\n      dynamicComponent: undefined\\n    }\\n  },\\n  created () {\\n    if (this._isVue) {\\n      // dynamic component (vue2.x)\\n      this.dynamicComponent = () => import(\'./ComponentV2.vue\')\\n      return\\n    }\\n    // dynamic component (vue3.x)\\n    import(\'./ComponentV3.vue\')\\n      .then(d => this.dynamicComponent = d.default)\\n  }\\n}\\n<\/script>\\n```\\n\\n\\n\\n## Functional Component\\n\\nFunction Component\u5728 Vue2.x\u548c Vue3.x\u7576\u4e2d\u6709\u975e\u5e38\u5927\u5e45\u5ea6\u7684 breaking change\uff0c\u6240\u4ee5\u57fa\u672c\u4e0a\u5982\u679c\u8981\u76f8\u5bb9\u7684\u8a71\u80af\u5b9a\u662f\u8981\u5206\u5225\u5beb\u6210\u4e0d\u540c\u7684\u7a0b\u5f0f\u7684\u3002\\n\\n\u5c31\u6211\u7684\u7d93\u9a57\u7576\u4e2d\u9019\u500b\u90e8\u4efd\u662f\u6700\u82b1\u6642\u9593\uff0c\u800c\u4e14\u632b\u6298\u611f\u6700\u91cd\u7684\u5730\u65b9\uff0c\u5efa\u8b70\u5148\u5c07\u5b98\u7db2\u6587\u4ef6\u5b8c\u6574\u770b\u904e\u4e00\u904d\uff0c\u518d\u958b\u59cb\u5f9e\u7c21\u55ae\u7684 Component\u5be6\u4f5c\u4e2d\u7df4\u7fd2\u8d77\uff1a\\n\\nhttps://v3.vuejs.org/guide/migration/functional-components.html#overview\\n\\n\\n\\n## \u7d50\u8ad6\\n\\n\u61c9\u8a72\u9084\u6703\u6709\u5f88\u591a\u6211\u6c92\u6709\u5be6\u4f5c\u904e\u7684\u4e0d\u540c\u60c5\u6cc1\uff0c\u4ee5\u4e0a\u5c31\u4ee5\u6211\u81ea\u5df1\u7684\u7d93\u9a57\u6240\u9047\u904e\u7684\u60c5\u6cc1\u8ddf\u5927\u5bb6\u5206\u4eab\u56c9\u3002"},{"id":"2020/05/09/vue-component-dataflow-1","metadata":{"permalink":"/blog/2020/05/09/vue-component-dataflow-1","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/2020-05-09-Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e.md","source":"@site/blog/2020/2020-05-09-Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e.md","title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e","description":"\u843d\u843d\u9577\u7684\u524d\u8a00","date":"2020-05-09T00:00:00.000Z","formattedDate":"May 9, 2020","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"vue","permalink":"/blog/tags/vue"}],"readingTime":23.64,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2020/05/09/vue-component-dataflow-1","title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e","authors":"thunderboy","tags":["javascript","vue"]},"prevItem":{"title":"\u76f8\u5bb9 Vue2\u53ca Vue3\u74b0\u5883\u7684 Component\u5beb\u6cd5","permalink":"/blog/2021/02/09/compatible-vue2-and-vue3"},"nextItem":{"title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6","permalink":"/blog/2020/05/09/vue-component-dataflow-2"}},"content":"## \u843d\u843d\u9577\u7684\u524d\u8a00\\n\\n\u96d6\u7136\u8aaaVue\u4e0a\u624b\u5bb9\u6613\uff0c\u5c31\u4ee5\u6211\u4f86\u8aaa\u6211\u525b\u958b\u59cb\u5b78\u7fd2\u7684\u6642\u5019\u5e7e\u4e4e\u662f\u7db2\u8def\u4e0a\u770b\u4e86\u5e7e\u7bc7\u6587\u7ae0\u5c31\u958b\u59cb\u5beb\u4e86\uff0c\u4f46\u662f\u5f8c\u4f86\u5c31\u5403\u4e86\u5f88\u591a\u60b6\u8667\uff0c\u6162\u6162\u5728\u5404\u5c08\u6848\u4e2d\u7d2f\u7a4d\u5be6\u6230\u7d93\u9a57\u4e4b\u5f8c\u624d\u77e5\u9053\u6709\u66f4\u597d\u7684\u505a\u6cd5\uff0c\u4e26\u4e14\u6bcf\u7a2e\u505a\u6cd5\u7684\u5dee\u7570\u4ee5\u53ca\u9069\u7528\u7684\u60c5\u5883\u2026\\n\\n\u95dc\u65bc\u7d44\u4ef6(Component)\u7684\u8a2d\u8a08\u7576\u4e2d\uff0c\u8cc7\u6599\u50b3\u905e\u7684\u8a2d\u8a08\u5e7e\u4e4e\u662f\u6574\u500bVue\u7684\u7a0b\u5f0f\u958b\u767c\u4e2d\u6700\u91cd\u8981\u7684\u4e00\u4ef6\u4e8b\u60c5\u2026\uff08\u500b\u4eba\u898b\u89e3 XD\uff09\uff0c\u5c24\u5176\u662f\u7576\u5718\u968a\uff08\u6216\u8005\u5c08\u6848\u4e2d\uff09\u958b\u59cb\u8003\u91cf\u7d44\u4ef6\u7684\u8907\u7528\u6027\u3001\u958b\u59cb\u91cd\u8996\u7d44\u4ef6\u7684\u958b\u767c\uff0c\u9019\u4ef6\u4e8b\u60c5\u5c24\u5176\u91cd\u8981\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u4ee5\u4e0b\u5c31\u4e0d\u5ee2\u8a71\u4e86\u3002\\n\\n\u5982\u540c\u6a19\u984c\uff0c\u9019\u4e00\u7cfb\u5217\u6587\u7ae0\u6703\u805a\u7126\u5728Vue\u7236\u5b50\u7d44\u4ef6(Component)\u50b3\u905e\u8cc7\u6599\u7684\u8a2d\u8a08\uff0c\u800c\u4e4b\u6240\u4ee5\u6703\u9078\u7528\u300c\u8cc7\u6599\u6d41\u300d\u9019\u500b\u8a5e\u7684\u539f\u56e0\u662f\u5728\u65bc\uff0c\u95dc\u65bc\u50b3\u905e\u8cc7\u6599\u9664\u4e86\u300c\u7236\u50b3\u5b50\u300d\u548c\u300c\u5b50\u50b3\u7236\u300d\u4e4b\u5916\uff0c\u5be6\u4f5c\u5c64\u9762\u4e0a\u727d\u626f\u5230\u5f88\u591a\u9762\u5411\u53ca\u7d30\u7bc0\uff0c\u6211\u60f3\u8981\u4e00\u4f75\u4f86\u505a\u8a0e\u8ad6\u3002\\n\\n\u8209\u4f8b\u4f86\u8aaa\uff0c\u7576\u6211\u5011\u8981\u88fd\u505a\u4e00\u500bVue Component\u6642\uff0c\u9664\u4e86\u8981\u601d\u8003prop\u53c3\u6578\u8a72\u5982\u4f55\u8a2d\u8a08\u3001\u8a72\u7528\u55ae\u5411\u7d81\u5b9a\u9084\u662f\u96d9\u5411\u7d81\u5b9a\uff1f\u5b50\u7d44\u4ef6\u662f\u5426\u61c9\u8a72\u8907\u88fdprop\u8cc7\u6599\u7d00\u9304\u5728\u5b50\u7d44\u4ef6\u4e2d\uff1f\u2026\u7b49\u7b49\u3002\u4e0d\u540c\u7684Component\u548c\u4ed6\u7684\u4f7f\u7528\u76ee\u7684\u5c31\u6703\u6709\u4e0d\u540c\u7684\u5408\u9069\u7684\u5beb\u6cd5\u3002\\n\\n\u800c\u672c\u7cfb\u5217\u6587\u7ae0\u7684\u64b0\u5beb\u65b9\u5f0f\u6703\u5148\u5c07\u5404\u7a2e\u7684\u5beb\u6cd5\u5206\u985e\u4e4b\u5f8c\uff0c\u5404\u5225\u8209\u4f8b\u8aaa\u660e\u4e26\u8a0e\u8ad6\u4ec0\u9ebc\u6a23\u7684\u60c5\u6cc1\u9069\u5408\u7528\u9019\u500b\u65b9\u5f0f\u4f86\u5beb\u3002\\n\\n \u672c\u7cfb\u5217\u6587\u7ae0\u5982\u4e0b\uff1a\\n\\n* Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e\\n* Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6\\n* Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (3) \u96d9\u5411\u7d81\u5b9a\u2013\u5927\u7d44\u4ef6\\n\\n\\n\\n## \u4e00\u3001Props down, Events up\\n\\n\u7576\u5169\u500b\u7d44\u4ef6(Component)\u70ba\u7236\u5b50\u95dc\u4fc2(parent-child relationship)\u7684\u6642\u5019\uff0c\u5169\u500b\u7d44\u4ef6\u5c31\u662f\u900f\u904e**Props down, Events up**\u7684\u65b9\u5f0f\u5728\u9032\u884c\u6e9d\u901a\u3002\u4e0b\u5716\u5c31\u662fVue\u5b98\u65b9\u7528\u4f86\u89e3\u91cb\u9019\u500b\u6e9d\u901a\u6a21\u5f0f\u7684\u5716\uff0c\u7236\u5c64\u900f\u904e`Props`\u5c07\u6578\u503c\u50b3\u905e\u7d66\u5b50\u5c64\uff0c\u800c\u5b50\u5c64\u900f\u904e\u4e8b\u4ef6\u7684\u65b9\u5f0f\u5c07\u6578\u503c\u50b3\u905e\u7d66\u7236\u5c64\u3002\\n\\n\u8981\u6ce8\u610f\u7684\u662f\uff0c\u9019\u500b\u8cc7\u6599\u50b3\u905e\u662f\u6709\u65b9\u5411\u6027\u7684\uff0c\u5728\u9019\u500b\u898f\u5247\u5e95\u4e0b\u5b50\u5c64\u4e26\u4e0d\u80fd\u4e3b\u52d5\u8ddf\u7236\u5c64\u62ff\u53d6\u65b0\u7684\u8cc7\u6599\uff08props\u7684\u8b8a\u66f4\u53ea\u80fd\u7531\u7236\u5c64\u6c7a\u5b9a\uff09\uff0c\u800c\u7236\u5c64\u4e5f\u4e0d\u80fd\u4e3b\u52d5\u8ddf\u5b50\u5c64\u62ff\u53d6\u8cc7\u6599\u3001\u6216\u8005\u547c\u53eb\u5b50\u5c64\u7684\u51fd\u5f0f\uff08\u7236\u5c64\u53ea\u80fd\u76e3\u807d\u5b50\u5c64\u4e8b\u4ef6\u7684\u89f8\u767c\uff09\u3002\\n\\n\\n\\n![](./_img/20200509/20107673f0zb0ZxRz9.png)\\n\\n\u4ee5\u4e0b\u7528\u4e00\u500b\u7bc4\u4f8b\u4f86\u8aaa\u660e\u9019\u500b\u8cc7\u6599\u50b3\u905e\u7684\u6d41\u7a0b\uff08\u907f\u514d\u6d6a\u8cbb\u592a\u591a\u8b80\u8005\u7684\u6642\u9593\uff0c\u672c\u6587\u5f8c\u7e8c\u6240\u6709\u7bc4\u4f8b\u90fd\u5c07\u7528\u6b64\u7a0b\u5f0f\u78bc\u7a0d\u4f5c\u4fee\u6539\uff09\u3002\\n\\n\u6b64\u7bc4\u4f8b\u5982\u4e0b\uff0c\u9996\u5148\u7db2\u9801\u4e0a\u5448\u73fe\u4e00\u7b46\u5b57\u4e32\u8cc7\u6599`Text`\uff0c\u4e26\u6709\u4e00\u500b\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff1a\\n\\n\\n\\n![image-20200426205112559](./_img/20200509/image-20200426205112559.png)\\n\\n\u9ede\u4e86\u300c\u7de8\u8f2f\u300d\u6309\u9215\u5f8c\u6703\u51fa\u73fe\u4e00\u500b\u5f48\u51fa\u8996\u7a97\uff0c\u6b64\u6642\u9032\u5165\u4e86\u8cc7\u6599\u7684\u7de8\u8f2f\u6a21\u5f0f\uff0c\u6709\u4e00\u500b\u8f38\u5165\u6846\u53ef\u4ee5\u4fee\u6539\u9019\u7b46\u8cc7\u6599\u7684\u6587\u5b57\u3002\u800c\u4e0b\u65b9\u6709\u5169\u500b\u6309\u9215\uff0c\u9ede\u64ca\u5f8c\u7684\u884c\u70ba\u8aaa\u660e\u5982\u4e0b\uff1a\\n\\n* \u9ede\u64ca\u300c\u53d6\u6d88\u300d\u6309\u9215\u6703\u95dc\u9589\u5f48\u51fa\u8996\u7a97\uff0c\u7121\u8ad6\u525b\u624d\u8f38\u5165\u6846\u4fee\u6539\u70ba\u4ec0\u9ebc\u6587\u5b57\uff0c\u6b64\u6642\u7db2\u9801\u4e0a\u7684\u5b57\u4e32\u4ecd\u7136\u70ba\u539f\u672c\u7684`text`\uff1b\u518d\u6b21\u958b\u59cb\u5f48\u51fa\u8996\u7a97\u5b57\u4e32\u5247\u8f38\u5165\u6846\u4e5f\u662f\u539f\u672c\u7684`text`\u3002\\n* \u9ede\u64ca\u300c\u5b8c\u6210\u300d\uff0c\u5247\u6703\u5c07\u525b\u624d\u4fee\u6539\u7684\u6587\u5b57\u6703\u7d00\u9304\u8d77\u4f86\u4e26\u5448\u73fe\u5728\u7db2\u9801\u4e0a\u3002\\n\\n![image-20200426205139781](./_img/20200509/image-20200426205139781.png)\\n\\nhtml\u7d50\u69cb\u5982\u4e0b\uff0c\u5f48\u51fa\u8996\u7a97\u5305\u88dd\u6210Component\u540d\u70ba`lightbox`\uff1a\\n\\n```html\\n<div id=\\"app\\">\\n  <div>\\n    \u7236\u7d44\u4ef6\u8cc7\u6599: {{value}}\\n  </div>\\n  <div>\\n    <button @click=\\"openLightbox\\">\u7de8\u8f2f</button>\\n  </div>\\n  <lightbox\\n    :active.sync=\\"isLightboxActive\\"\\n    :value=\\"value\\"\\n    @submit=\\"updateValue\\">\\n  </lightbox>\\n</div>\\n```\\n\\nVue\u7684\u4e3b\u7a0b\u5f0f\u4e2d\u5ba3\u544a\u7236\u5c64\u7684\u884c\u70ba\uff1a\\n\\n```js\\nnew Vue({\\n  el: \'#app\',\\n  components: [\'lightbox\'],\\n  data: {\\n    value: \'Text\',\\n    isLightboxActive: false\\n  },\\n  methods: {\\n    openLightbox () {\\n      this.isLightboxActive = true\\n    },\\n    updateValue (d) {\\n      this.value = d\\n    }\\n  }\\n})\\n```\\n\\n\u5ba3\u544a\u5b50\u7d44\u4ef6\uff08\u5f48\u51fa\u8996\u7a97\uff09\u7684\u884c\u70ba\uff1a\\n\\n```js\\nVue.component(\'lightbox\', {\\n  template: `\\n  <transition name=\\"fade\\">\\n    <div class=\\"lightbox\\" v-if=\\"active\\">\\n      <div class=\\"content\\">\\n        <div>\\n          \u5b50\u7d44\u4ef6\u8cc7\u6599 <input type=\\"label\\" v-model=\\"value\\"></input>\\n        </div>\\n        <div>  \\n          <button @click=\\"close\\">\u53d6\u6d88</button>\\n          <button @click=\\"submit\\">\u5b8c\u6210</button>\\n        </div>\\n      </div>\\n      <div class=\\"bg\\" @click=\\"close\\"></div>\\n    </div>\\n  </transition>\\n  `,\\n  props: [\'active\', \'value\'],\\n  methods: {\\n    close () {\\n      this.$emit(\'update:active\', !this.active)\\n    },\\n    submit () {\\n      this.$emit(\'submit\', this.value)\\n      this.close()\\n    }\\n  }\\n})\\n```\\n\\n\u4ee5\u4e0a\u70ba\u5168\u90e8\u7684\u7a0b\u5f0f\u78bc\u4e86\u3002\\n\\n\u89c0\u5bdf\u9019\u500b\u7bc4\u4f8b\u7684\u8cc7\u6599\u6d41\uff0c\u5373\u662f\u4f9d\u7167\u300cProps down, Events up\u300d\u4f86\u9032\u884c\u55ae\u5411\u8cc7\u6599\u6d41\u7684\u50b3\u905e\u7684\uff1a\\n\\n* Props down\uff1a\u7236\u5c64\u5c07\u8cc7\u6599v-bind\u55ae\u5411\u7d81\u5b9a`lightbox`\u7d44\u4ef6\u7684prop `value`\u3002\\n* Events up\uff1a\u7576\u9ede\u64ca\u300c\u78ba\u8a8d\u300d\u6309\u9215\u6642\uff0c\u6703\u900f\u904eemit\u518d\u5c07`value`\u503c\u50b3\u905e\u7d66\u7236\u5c64\u3002\\n\\n\u5373\u4f7f\u6211\u5011\u4e0d\u770bComponent\u5167\u7a0b\u5f0f\uff0c\u53ea\u8981\u89c0\u5bdf\u7d44\u4ef6`lightbox`\u7684\u5c6c\u6027\u5c31\u5927\u6982\u53ef\u4ee5\u77e5\u9053\u5176\u8cc7\u6599\u6d41\u4e86\uff1a\\n\\n```html\\n  <lightbox\\n    :active.sync=\\"isLightboxActive\\"\\n    :value=\\"value\\"\\n    @submit=\\"updateValue\\">\\n  </lightbox>\\n```\\n\\n\u9019\u500b\u7bc4\u4f8b\u5728\u64cd\u4f5c\u4e0a\u6c92\u6709\u4ec0\u9ebc\u554f\u984c\uff0c\u4f46\u662f\u5c31\u7a0b\u5f0f\u78bc\u65b9\u9762\u5176\u5be6\u662f\u6709\u4e00\u4e9b\u7455\u75b5\u7684\u2026\uff08\u4f46\u4e0d\u5f71\u97ff\u672c\u7ae0\u7bc0\u8981\u8aaa\u660e\u7684\u5167\u5bb9\uff09\uff0c\u6240\u4ee5\u63a5\u4e0b\u4f86\u6703\u7e7c\u7e8c\u8aaa\u660e\u6709\u54ea\u4e9b\u5730\u65b9\u61c9\u8a72\u8981\u4fee\u6b63\u7684\u3002\\n\\n[Codepen\u7bc4\u4f8b\u5b8c\u6574\u7a0b\u5f0f\u5728\u6b64](https://codepen.io/cdpqdnvr/pen/yLYbJqw)\\n\\n\\n\\n\\n\\n## \u4e8c\u3001\u57fa\u672c\u539f\u5247\u2013\u52ff\u76f4\u63a5\u4fee\u6539prop\\n\\n\u524d\u4e00\u500b\u7bc4\u4f8b\u53ef\u4ee5\u7576\u4f5c\u662f\u4e00\u500b\u932f\u8aa4\u7684\u793a\u7bc4\uff0c\u5728\u672c\u7ae0\u7bc0\u8981\u5f88\u614e\u91cd\u7684\u4f86\u63a2\u8a0e\u9019\u4ef6\u4e8b\u60c5\uff1a**\u300c\u52ff\u76f4\u63a5\u4fee\u6539prop\uff01\u300d**\\n\\n\u5728\u8aaa\u660e\u9019\u500b\u898f\u5247\u4e4b\u524d\u5148\u56de\u982d\u4f86\u770b\u4e00\u4e0b\u524d\u9762\u7684\u7bc4\u4f8b\uff0c\u9019\u628a\u524d\u4f8b\u7684\u64cd\u4f5c\u8aaa\u660e\u3001\u7236\u7d44\u4ef6\u503c\u3001\u5b50\u7d44\u4ef6\u503c\u6574\u7406\u6210\u4e0b\u8868\uff1a\\n\\n| \u64cd\u4f5c\u8aaa\u660e                                     | [\u7236\u5c64] value | [\u5b50\u7d44\u4ef6] value |\\n| -------------------------------------------- | ------------ | -------------- |\\n| Step1.\u521d\u59cb\u5316                                 | \'Text\'       | \'Text\'         |\\n| Step2.\u9ede\u64ca\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff0c\u5f48\u51fa\u8996\u7a97             | \'Text\'       | \'Text\'         |\\n| Step3.\u4fee\u6539\u6587\u5b57\u70ba\u300cNew Text\u300d                 | \'Text\'       | \'New Text\'     |\\n| Step4.\u9ede\u64ca\u300c\u53d6\u6d88\u300d\u6309\u9215\uff0c\u95dc\u9589\u8996\u7a97             | \'Text\'       | \'Text\'         |\\n| Step5.\u9ede\u64ca\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff0c\u5f48\u51fa\u8996\u7a97             | \'Text\'       | \'Text\'         |\\n| Step6.\u4fee\u6539\u6587\u5b57\u70ba\u300cNew Text\u300d                 | \'Text\'       | \'New Text\'     |\\n| Step7.\u9ede\u64ca\u300c\u78ba\u5b9a\u300d\u6309\u9215\uff08emit\u50b3\u503c\uff09\uff0c\u95dc\u9589\u8996\u7a97 | \'NewText\'    | \'NewText\'      |\\n\\n\u900f\u904e\u4e0a\u8868\uff0c\u6211\u5011\u53ef\u4ee5\u89c0\u5bdf\u5230\u5e7e\u500b\u91cd\u8981\u7684\u5730\u65b9\uff1a\\n\\n1. Step3\uff1a\u4fee\u6539\u5b50\u7d44\u4ef6\u7684`value`\u6642\u4e26\u4e0d\u6703\u5f71\u97ff\u5230\u7236\u5c64\u7684`value`\u3002\\n2. Step4\uff1a\u9019\u500b\u5730\u65b9\u4e4d\u770b\u4e0b\u6709\u4e9b\u8a6d\u7570\u4e14\u4e0d\u53d7\u63a7\u5236\uff0c\u95dc\u9589\u5f48\u51fa\u8996\u7a97\u5f8c\uff0c\u5b50\u7d44\u4ef6\u7684`value`\u7531\u539f\u672c\u7684\'New Text\'\u56de\u5fa9\u5230\u539f\u4f86\u7684\'Text\'\u3002\u539f\u56e0\u662f\u56e0\u70ba\u5b50\u7d44\u4ef6\u7684`value`\u5be6\u969b\u4e0a\u9084\u662f\u6703\u53d7\u5230\u7236\u5b50\u7d44\u4f7f\u7528`v-bind`\u55ae\u5411\u7d81\u5b9a\u7684\u5f71\u97ff\uff0c\u800c\u5b50\u7d44\u4ef6\u7684`value`\u53c8\u4f7f\u7528\u4e86`v-model`\u96d9\u5411\u7d81\u5b9a\u5728input\u8f38\u5165\u6846\u4e0a\u9762\uff1b\u95dc\u9375\u5c31\u5728\u65bc\u5b50\u7d44\u4ef6\u95dc\u9589\u8996\u7a97\u662f\u4f7f\u7528`v-if`\u5c07\u5305\u542b\u4e86input\u8f38\u5165\u6846\u5728\u5167\u7684\u6574\u500b\u5340\u584a\u7d66\u79fb\u9664\u6389\uff0c\u6240\u4ee5\u63a7\u5236\u6b0a\u53c8\u79fb\u4ea4\u7d66\u4e86\u7236\u7d44\u4ef6\u7684\u624b\u4e0a\u3002\\n3. Step6\uff1a\u4fee\u6539\u5b50\u7d44\u4ef6\u7684`value`\u6642\u4e26\u4e0d\u6703\u5f71\u97ff\u5230\u7236\u5c64\u7684`value`\u3002\\n4. Step7\uff1acomponent\u4e2d\u4f7f\u7528`emit`\u5c07\u8cc7\u6599\u50b3\u905e\u7d66\u7236\u5c64\uff0c\u7236\u5c64\u7684\u8cc7\u6599\u624d\u540c\u6b65\u904e\u4f86\u3002\\n\\n\u7576\u4e2d`step3`\u548c`step6`\u4fee\u6539prop\u4e0d\u6703\u5f71\u97ff\u5230\u7236\u5c64\u7684\u95dc\u9375\u5728\u65bc\uff0c\u6b64\u8cc7\u6599\u662f\u4f7f\u7528`v-bind` \u7d81\u5b9a\u8cc7\u6599\u7684\uff0c\u800c**v-bind\u662f\u55ae\u5411\u7d81\u5b9a\u6240\u4ee5\u53ea\u6709\u7576\u7236\u5c64\u8b8a\u66f4\u8cc7\u6599\u6642\u624d\u6703\u50b3\u905e\u7d66\u5b50\u5c64\uff0c\u5b50\u5c64\u8b8a\u66f4\u8cc7\u6599\u6642\u662f\u4e0d\u6703\u56de\u50b3\u56de\u53bb\u7684**\u3002\\n\\n\u9019\u500b\u7bc4\u4f8b\u6211\u653e\u5728Codepen\u4e0a\uff0c\u900f\u904econsole\u770b\u4e0d\u5230Vue\u50b3\u905e\u51fa\u4f86\u7684error log\uff08\u6211\u662f\u4f7f\u7528Chrome\u700f\u89bd\u5668\uff09\u3002\u5982\u679c\u662f\u5728\u81ea\u5df1\u7684\u958b\u767c\u74b0\u5883\u4e0b\u6e2c\u8a66\uff0c\u53ef\u4ee5\u770b\u5230\u985e\u4f3c\u4e0b\u5716\u7684error log\uff1a\\n\\n![](./_img/20200509/70.png)\\n\\n\u90a3\u2026 \u8b1b\u90a3\u9ebc\u591a\uff0c\u65e2\u7136\u4e0d\u6703\u5f71\u97ff\u5230\u5916\u5c64\uff0c\u90a3\u300c\u76f4\u63a5\u4fee\u6539prop\u300d\u7684\u539f\u56e0\u662f\u4ec0\u9ebc\u5462\u2026\\n\\n\u6211\u8a8d\u70ba\u539f\u56e0\u6709\uff1a\\n\\n1. \u4e0d\u5f71\u97ff\u5916\u5c64\u7684\u898f\u5247\u6709\u500b\u300c\u4f8b\u5916\u300d\uff0c\u5c31\u662f**\u7576\u8cc7\u6599\u578b\u5225\u662f\u300c\u50b3\u53c3\u8003(call by reference/pass by reference)\u300d\u6642\u9084\u662f\u6703\u5f71\u97ff\u5230\u7684**\uff08\u9019\u908a\u5728\u672c\u6587\u7b2c\u4e94\u7ae0\u3001\u4ee5\u53ca\u7cfb\u5217\u6587\u7ae0\u7b2c\u4e09\u7bc7\u300c\u96d9\u5411\u7d81\u5b9a-\u7531\u7236\u7d44\u4ef6\u4f86\u7d00\u9304\u8cc7\u6599\u300d\u4e2d\u90fd\u6703\u518d\u8a73\u7d30\u8aaa\u660e\u3002\\n2. \u96d6\u7136\u8aaa\u4fee\u6539prop\u9084\u662f\u6709\u6548\u7684\uff0c\u4f46\u5be6\u969b\u4e0aprop\u9084\u662f\u6709\u53ef\u80fd\u5728\u67d0\u4e9b\u6642\u5019\u53d7\u5230\u7236\u7d44\u4ef6\u4f7f\u7528v-bind\u55ae\u5411\u7d81\u5b9a\u7684\u5f71\u97ff\uff08\u5982\u672c\u4f8b\u7684`step4`\uff09\uff0c\u5f88\u660e\u986f\u7684\u6709\u53ef\u80fd\u6703\u5728\u67d0\u4e9b\u5f88\u96e3\u9810\u671f\u7684\u60c5\u6cc1\u4e0b\u51fa\u73febug\uff08\u800c\u4e14\u5f88\u96e3\u9664\u932f\uff09\u3002\\n3. \u7a0b\u5f0f\u53ef\u8b80\u6027\u4e0a\u7684\u8003\u91cf\uff0c\u67d0\u4e9b\u60c5\u5f62\u4e0b\u4f7f\u7528\u76f8\u540c\u7684\u540d\u7a31\u6703\u9020\u6210\u6df7\u6dc6\uff0c\u4f7f\u7528\u4e0d\u540c\u7684\u547d\u540d\u4ee5\u5340\u5225\u4e0d\u540c\u7684\u64cd\u4f5c\u6d41\u7a0b\u4e2d\u7d00\u9304\u5728\u4e0d\u540c\u7684\u8b8a\u6578\u88e1\u3002\\n\\n\\n\\n## \u4e09\u3001\u5b50\u7d44\u4ef6\u5728created/mounted\u8907\u88fdprop\\n\\n\u5728\u524d\u9762\u7ae0\u7bc0\u63d0\u5230\u4e00\u500b\u91cd\u8981\u7684\u898f\u5247\u300c\u52ff\u76f4\u63a5\u4fee\u6539prop\u300d\uff0c\u8981\u6eff\u8db3\u9019\u500b\u898f\u5247\uff0c\u5b50\u7d44\u4ef6\u4e2d\u9700\u8981\u518d\u5ba3\u544a\u4e00\u500b\u65b0\u7684\u8b8a\u6578\u4f86\u8907\u88fdprop\u7684\u503c\u3002\\n\\n\u9019\u88e1\u6211\u5011\u5728Component `lightbox`\u7684`data`\u4e2d\u52a0\u5165\u65b0\u7684\u8b8a\u6578`childValue`\u3002\u7136\u5f8c\uff0c\u5728`created`\u4e2d\u5c07`value`\u8907\u88fd\u7d66`childValue`\u3002\u7a0b\u5f0f\u78bc\u5982\u4e0b\uff1a\\n\\n```js\\ndata () {\\n  return {\\n    childValue: \'\'\\n  }\\n},\\ncreated () {\\n  this.childValue = this.value\\n}\\n```\\n\\n\u63a5\u8457\uff0c\u628a\u539f\u672cComponent `lightbox`\u4e2d\u7684\u8f38\u5165\u6846\u7528v-model\u7d81\u5b9a\u7684\u8b8a\u6578\u4e5f\u6539\u6210`childValue`\uff1a\\n\\n```html\\n<input type=\\"label\\" v-model=\\"childValue\\"></input>\\n```\\n\\n\u9019\u6a23\u5c31\u5927\u81f4\u5b8c\u6210\u4e86\u3002\\n\\n\u63a5\u4e0b\u4f86\u6211\u5011\u518d\u4ed4\u7d30\u4f86\u770b\u4e00\u4e0b\u9019\u500b\u7bc4\u4f8b\u7684\u4e00\u4e9b\u7d30\u7bc0\u2026 \u6211\u5011\u7528\u548c\u524d\u4f8b\u540c\u6a23\u7684\u300c\u64cd\u4f5c\u8aaa\u660e\u3001\u7236\u7d44\u4ef6\u503c\u3001\u5b50\u7d44\u4ef6\u503c\u300d\u5c0d\u61c9\u8868\u770b\u4e00\u4e0b\u9019\u6709\u6c92\u6709\u4ec0\u9ebc\u5dee\u7570\uff1a\\n\\n| \u64cd\u4f5c\u8aaa\u660e                                     | [\u7236\u5c64] value   | [\u5b50\u7d44\u4ef6] value | [\u5b50\u7d44\u4ef6] childValue |\\n| -------------------------------------------- | -------------- | -------------- | ------------------- |\\n| Step1.\u521d\u59cb\u5316                                 | \'Text\'         | \'Text\'         | \'Text\'              |\\n| Step2.\u9ede\u64ca\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff0c\u5f48\u51fa\u8996\u7a97             | \'Text\'         | \'Text\'         | \'Text\'              |\\n| Step3.\u4fee\u6539\u6587\u5b57\u70ba\u300cNew Text\u300d                 | \'Text\'         | \'Text\'         | \'New Text\'          |\\n| Step4.\u9ede\u64ca\u300c\u53d6\u6d88\u300d\u6309\u9215\uff0c\u95dc\u9589\u8996\u7a97             | \'Text\'         | \'Text\'         | \'New Text\'          |\\n| Step5.\u9ede\u64ca\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff0c\u5f48\u51fa\u8996\u7a97             | \'Text\'         | \'Text\'         | \'New Text\'          |\\n| Step6.\u4fee\u6539\u6587\u5b57\u70ba\u300cNew New Text\u300d             | \'Text\'         | \'Text\'         | \'New New Text\'      |\\n| Step7.\u9ede\u64ca\u300c\u78ba\u5b9a\u300d\u6309\u9215\uff08emit\u50b3\u503c\uff09\uff0c\u95dc\u9589\u8996\u7a97 | \'New New Text\' | \'New New Text\' | \'New New Text\'      |\\n\\n\u9019\u6642\u5019\u6703\u767c\u73fe\u4e00\u500b\u5f88\u660e\u986f\u7684\u5dee\u7570\uff1a\\n\\n\u5f9e`step1`\u5230`step6`\u7121\u8ad6\u662f\u7236\u7d44\u4ef6\u7684`value`\u548c\u5b50\u7d44\u4ef6\u7684`value`\u90fd\u4e0d\u5728\u53d7\u5230\u5b50\u7d44\u4ef6\u4fee\u6539\u8cc7\u6599\u7684\u5f71\u97ff\uff0c\u53ea\u6709\u5230\u6700\u5f8c`step7`\u6700\u7d42\u9ede\u4e0b\u300c\u78ba\u5b9a\u300d\u6309\u7d10\u6642\u624d\u6703\u5c07\u7236\u5c64\u7684`value`\u66f4\u65b0\u70ba\u4f7f\u7528\u8005\u78ba\u8a8d\u4fee\u6539\u5b8c\u6210\u7684\u8cc7\u6599\u3002\\n\\nBut\uff01\\n\\n\u53c8\u51fa\u73fe\u4e86\u4e00\u500bBut\uff01\\n\\n`step4`\u6309\u9ede\u300c\u53d6\u6d88\u300d\u6309\u9215\u6642\uff0c\u5b50\u7d44\u4ef6\u7684`childValue`\u537b\u9084\u662f\u505c\u7559\u5728\u7b2c\u4e00\u6b21\u6539\u904e\u7684\u503c\'New Text\'\u3002\u4e5f\u662f\u8aaa\u7576`step5`\u518d\u6b21\u9ede\u958b\u5f48\u51fa\u8996\u7a97\u6642\uff0c\u8f38\u5165\u6846\u4e2d\u7684\u503c\u6703\u662f\'New Text\'\u800c\u4e0d\u662f\u539f\u4f86\u7684\'Text\'\uff0c\u70ba\u4ec0\u9ebc\u6703\u548c\u524d\u4e00\u500b\u7ae0\u7bc0\u7684\u7d50\u679c\u4e0d\u540c\u5462\uff1f\\n\\n\u539f\u56e0\u5f88\u7c21\u55ae\uff0c\u96d6\u7136\u5f48\u51fa\u8996\u7a97\u95dc\u9589\u4e86\uff0c\u4f46\u9019\u500b\u5b50\u7d44\u4ef6\u5f9e\u6700\u5f8c\u958b\u59cb\u5230\u7d50\u675f\u90fd\u5728\u90a3\u88e1\uff0c\u53ea\u662f\u756b\u9762\u4e0a\u770b\u4e0d\u5230\u800c\u5df2\uff0c\u6240\u4ee5\u88e1\u9762\u7684\u503c\u9084\u4fdd\u7559\u518d\u6b63\u5e38\u4e0d\u904e\u4e86\u3002\\n\\n\u90a3\u5982\u679c\u60f3\u8981\u4fee\u6539\u70ba\u6211\u5011\u539f\u4f86\u8a2d\u8a08\u7684\u6d41\u7a0b\uff0c\u6bcf\u6b21\u9ede\u958b\u5f48\u51fa\u8996\u7a97\u8f38\u5165\u6846\u7684\u503c\u90fd\u662f\u7236\u5c64\u50b3\u5165\u7684`value`\u8981\u600e\u9ebc\u505a\u5462\uff1f\u5728\u4e0d\u4fee\u6539\u8cc7\u6599\u6d41\u7684\u50b3\u905e\u65b9\u5f0f\u4e0b\uff0c\u6211\u5011\u53ef\u4ee5\u7c21\u55ae\u4fee\u6539\u4e00\u500b\u6771\u897f\u2026\\n\\n```html\\n<lightbox\\n  v-if=\\"isLightboxActive\\"\\n  :active.sync=\\"isLightboxActive\\"\\n  :value=\\"value\\"\\n  @submit=\\"updateValue\\">\\n```\\n\\n\u7b54\u6848\u5c31\u662f\u5728Component\u6a19\u7c64\u4e0a\u52a0\u4e0a\u4e00\u500b`v-if`\u5c31\u53ef\u4ee5\u4e86\uff01\\n\\n\u96d6\u7136\u6211\u5011\u6c92\u6709\u66f4\u6539\u4efb\u4f55Component\u5167\u7684\u7a0b\u5f0f\u78bc\uff0c\u4f46\u662fComponent\u5728\u6574\u500b\u9801\u9762\u4e0a\u7684\u751f\u547d\u9031\u671f\u5c31\u88ab\u6539\u8b8a\u4e86\u2013\u7576\u5f48\u51fa\u8996\u7a97\u95dc\u9589\u6642\uff0c\u7236\u7d44\u4ef6\u7684\u503c`isLightboxActive`\u8b8a\u6210`false`\uff0c\u9019\u6642`v-if`\u70ba`false`\uff0c\u5c31\u5c07\u9019\u500bComponent\u6574\u500b\u79fb\u9664\u6389\u3002\u4e0b\u4e00\u6b21\u518d\u9ede\u958b\u5f48\u51fa\u8996\u7a97\uff08\u5982\u672c\u4f8b\u7684`step5` \uff09\u4ed6\u5c31\u6703\u6574\u500b\u91cd\u982d\u4f86\u904e\u4e86\uff01\\n\\n\u540c\u6a23\u7684\u8868\u9019\u6642\u5019\u5c31\u6703\u9577\u9019\u6a23\u4e86\uff1a\\n\\n| \u64cd\u4f5c\u8aaa\u660e                                     | [\u7236\u5c64] value | [\u5b50\u7d44\u4ef6] value | [\u5b50\u7d44\u4ef6] childValue |\\n| -------------------------------------------- | ------------ | -------------- | ------------------- |\\n| Step1.\u521d\u59cb\u5316                                 | \'Text\'       | \u7121             | \u7121                  |\\n| Step2.\u9ede\u64ca\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff0c\u5f48\u51fa\u8996\u7a97             | \'Text\'       | \'Text\'         | \'Text\'              |\\n| Step3.\u4fee\u6539\u6587\u5b57\u70ba\u300cNew Text\u300d                 | \'Text\'       | \'Text\'         | \'New Text\'          |\\n| Step4.\u9ede\u64ca\u300c\u53d6\u6d88\u300d\u6309\u9215\uff0c\u95dc\u9589\u8996\u7a97             | \'Text\'       | \u7121             | \u7121                  |\\n| Step5.\u9ede\u64ca\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff0c\u5f48\u51fa\u8996\u7a97             | \'Text\'       | \'Text\'         | \'Text\'              |\\n| Step6.\u4fee\u6539\u6587\u5b57\u70ba\u300cNew Text\u300d                 | \'Text\'       | \'Text\'         | \'New Text\'          |\\n| Step7.\u9ede\u64ca\u300c\u78ba\u5b9a\u300d\u6309\u9215\uff08emit\u50b3\u503c\uff09\uff0c\u95dc\u9589\u8996\u7a97 | \'New Text\'   | \u7121             | \u7121                  |\\n\\n\u7576\u4e2d`step1`\u3001`step4`\u3001`step7`\u5b50\u7d44\u4ef6\u7531\u65bc`v-if`\u70bafalse\u7684\u95dc\u9589\u6240\u4ee5\u6839\u672c\u5c31\u4e0d\u5b58\u5728\uff0c\u6240\u4ee5\u5c31\u88ab\u6a19\u793a\u70ba\u300c\u7121\u300d\uff0c\u6211\u4e5f\u5011\u4e0d\u9700\u8981\u64d4\u5fc3\u8cc7\u6599\u6b98\u7559\u7684\u554f\u984c\u4e86\u3002\\n\\n[Codepen\u7bc4\u4f8b\u5b8c\u6574\u7a0b\u5f0f\u5728\u6b64](https://codepen.io/cdpqdnvr/pen/NWGjpeW)\\n\\n\\n\\n\\n\\n## \u56db\u3001\u5b50\u7d44\u4ef6\u5728watch\u4e2d\u8907\u88fdprop\\n\\n\u672c\u7ae0\u7bc0\u4e2d\u540c\u6a23\u7684\u6703\u5728\u5b50\u7d44\u4ef6\u4e2d\u5c07prop\u7684\u503c\u8907\u88fd\u4e00\u4efd\u5b58\u5728\u5b50\u7d44\u4ef6\u7576\u4e2d\uff0c\u4e0d\u904e\u548c\u524d\u4f8b\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u8981\u6539\u6210\u5728Vue\u7684Option `watch`\u4e2d\u4f86\u8907\u88fd\u3002\\n\\n\u7a0b\u5f0f\u78bc\u548c\u524d\u4f8b\u53ea\u6709\u4e00\u500b\u5730\u65b9\u4e0d\u540c\uff0c\u5c07\u539f\u4f86\u5b50\u7d44\u4ef6\u4e2d\u7684`created`\u79fb\u9664\u6389\u63db\u6210\u5982\u4e0b\u7a0b\u5f0f\u78bc\uff1a\\n\\n```js\\nwatch: {\\n  active: {\\n    handler (d) {\\n      if (d === true) {\\n        this.childValue = this.value\\n      }\\n    },\\n    immediate: true // \u5275\u5efa\u7d44\u4ef6\u6642\u4e5f\u6703\u9032\u4f86\\n  }\\n}\\n```\\n\\n\u5728`watch`\u7576\u4e2d\u6211\u5011\u76e3\u807d\u7684\u5c0d\u8c61\u662f`active`\uff0c\u7576`active`\u70ba`true`\u6642\u5f48\u51fa\u8996\u7a97\u5c31\u6703\u958b\u555f\uff0c\u70ba`false`\u6642\u5f48\u51fa\u8996\u7a97\u5c31\u6703\u95dc\u9589\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u6bcf\u4e00\u6b21\u7576\u6211\u5011\u628a\u8996\u7a97\u958b\u555f\u5f8c\u5c31\u6703\u91cd\u65b0\u5c07\u7236\u7d44\u4ef6\u50b3\u5165\u9032\u4f86\u7684`value`\u8907\u88fd\u7d66\u5b50\u7d44\u4ef6\u7684`childValue`\u3002\\n\\n| \u64cd\u4f5c\u8aaa\u660e                                     | [\u7236\u5c64] value | [\u5b50\u7d44\u4ef6] value | [\u5b50\u7d44\u4ef6] childValue |\\n| -------------------------------------------- | ------------ | -------------- | ------------------- |\\n| Step1.\u521d\u59cb\u5316                                 | \'Text\'       | \'Text\'         | \'Text\'              |\\n| Step2.\u9ede\u64ca\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff0c\u5f48\u51fa\u8996\u7a97             | \'Text\'       | \'Text\'         | \'Text\'              |\\n| Step3.\u4fee\u6539\u6587\u5b57\u70ba\u300cNew Text\u300d                 | \'Text\'       | \'Text\'         | \'New Text\'          |\\n| Step4.\u9ede\u64ca\u300c\u53d6\u6d88\u300d\u6309\u9215\uff0c\u95dc\u9589\u8996\u7a97             | \'Text\'       | \'Text\'         | \'New Text\'          |\\n| Step5.\u9ede\u64ca\u300c\u7de8\u8f2f\u300d\u6309\u9215\uff0c\u5f48\u51fa\u8996\u7a97             | \'Text\'       | \'Text\'         | \'Text\'              |\\n| Step6.\u4fee\u6539\u6587\u5b57\u70ba\u300cNew Text\u300d                 | \'Text\'       | \'Text\'         | \'New Text\'          |\\n| Step7.\u9ede\u64ca\u300c\u78ba\u5b9a\u300d\u6309\u9215\uff08emit\u50b3\u503c\uff09\uff0c\u95dc\u9589\u8996\u7a97 | \'New Text\'   | \'New Text\'     | \'New Text\'          |\\n\\n\u7531`created`\u548c`watch`\u9019\u5169\u500b\u5730\u65b9\u8907\u88fdprop\u7684\u9019\u5169\u500b\u7bc4\u4f8b\u4f86\u770b\uff0c\u96d6\u7136\u90fd\u53ef\u4ee5\u9054\u540c\u6a23\u7684\u76ee\u7684\uff0c\u4f46\u6709\u500b\u5c0f\u5c0f\u7684\u5dee\u5225\u3002\\n\\n\u4f7f\u7528`watch`\u4f86\u76e3\u807d`active`\u8b8a\u6210\u5c07\u8907\u88fdprop\u7684\u4e3b\u63a7\u6b0a\u4ea4\u7d66\u4e86\u5b50\u7d44\u4ef6\uff0c\u4e5f\u5c31\u662f\u8aaa\u5373\u4f7f\u7236\u7d44\u4ef6\u4e0d\u52a0\u4e0a`v-if`\uff08\u5982\u524d\u4e00\u500b\u7ae0\u7bc0\u7bc4\u4f8b\uff09\uff0c\u4e5f\u53ef\u4ee5\u78ba\u4fdd\u6bcf\u6b21\u6253\u958b\u5f48\u51fa\u8996\u7a97\u90fd\u6703\u57f7\u884c\u8907\u88fdprop\u9019\u500b\u52d5\u4f5c\u3002\\n\\n\u6b64\u5916\u5c0f\u5c0f\u88dc\u5145\u500b\u5c0f\u7d30\u7bc0\u3002\\n\\n\u7bc4\u4f8b\u4e2d\u6211\u5011\u6709\u5728`watch`\u7684option\u7576\u4e2d\u52a0\u4e0a`immediate: true`\uff0c\u9019\u4ee3\u8868\u4e86\u7b2c\u4e00\u6b21\u5c07Component\u5275\u5efa\u8d77\u4f86\u7684\u6642\u5019\u4e5f\u6703\u9032\u5165\u51fd\u5f0f\uff0c\u5982\u679c\u6c92\u6709\u52a0\u5165\u7684\u8a71\u8981\u5c07\u7a0b\u5f0f\u78bc\u4fee\u6539\u5982\u4e0b\uff1a\\n\\n```js\\nwatch: {\\n  active: {\\n    handler (d) {\\n      if (d === true) {\\n        this.childValue = this.value\\n      }\\n    }\\n  }\\n},\\ncreated () {\\n  if (this.active === true) {\\n    this.childValue = this.value\\n  }\\n}\\n```\\n\\n\u9019\u6642\u5c31\u8981\u6539\u6210`watch`\u548c`created`\u90fd\u5fc5\u9808\u8907\u88fdprop\u3002\\n\\n\u6709\u6642\u5019\u6211\u5011\u5e0c\u671b\u5728`watch`\u548c`created`\u7576\u4e2d\u8981\u505a\u4e0d\u540c\u7684\u4e8b\u60c5\uff0c\u5c31\u6703\u5c07\u4ed6\u5011\u5206\u958b\u4f86\u5beb\uff0c\u9019\u4e5f\u662f\u4e00\u500b\u5f88\u5e38\u7528\u7684\u6280\u5de7\u3002\\n\\n[Codepen\u7bc4\u4f8b\u5b8c\u6574\u7a0b\u5f0f\u5728\u6b64](https://codepen.io/cdpqdnvr/pen/JjYNWpr)\\n\\n\\n\\n\\n\\n## \u4e94\u3001\u6ce8\u610f\u50b3\u503c\u53ca\u50b3\u53c3\u8003\\n\\nJavascript\u7684\u300c\u50b3\u503c\u300d\u548c\u300c\u50b3\u53c3\u8003\u300d(call by value/call by reference\uff0c\u6216\u8005pass by value/pass by reference) \uff0c\u6211\u5148\u524d\u6709\u5beb\u4e86\u4e00\u7bc7\u6587\u7ae0\u6709\u7a0d\u7a0d\u5fae\u7684\u8a73\u7d30\u8a0e\u8ad6\u904e\u53ef\u53c3\u8003\uff1a\\n\\n[\u7c21\u55ae\u770bJavascript\u7684\u50b3\u503c\u4ee5\u53ca\u50b3\u53c3\u8003](https://upstairs0102.github.io/2020/02/28/js-call-by-reference/)\\n\\n\u95dc\u65bc\u50b3\u53c3\u8003\u9577\u8a71\u77ed\u8aaa\u53ef\u4ee5\u53c3\u8003\u5982\u4e0b\u7a0b\u5f0f\u78bc\u7bc4\u4f8b\uff1a\\n\\n```js\\nlet obj = { number: 100 }\\nfunction add(newObj){\\n  newObj.number = newObj.number + 1\\n}\\nadd(obj)\\nconsole.log(obj.number) // \u5370\u51fa101\\n```\\n\\n\u5728\u9019\u500b\u4f8b\u5b50\u4e2d\u4fee\u6539\u8cc7\u6599\u7684\u662f`newObj.number`\uff0c\u53ef\u662f\u5728\u6700\u5f8c\u5370\u51fa`obj.number`\u7684\u6642\u5019\u767c\u73fe\u4ed6\u4e5f\u8ddf\u8457\u8b8a\u4e86\uff0c\u9019\u500b\u5c31\u662f\u50b3\u8aaa\u4e2d\u7684\u50b3\u53c3\u8003\u2026\\n\\n\u5728Javascript\u4e2d\uff0c`string`\u3001`number`\u3001`boolean`\u3001`null`\u3001`undefined`\u90fd\u662f\u300c\u50b3\u503c\u300d\uff0c\u800c\u300c\u7269\u4ef6\u300d\u578b\u5225\u7684\u90fd\u662f\u300c\u50b3\u53c3\u8003\u300d\uff08\u5305\u542b\u9663\u5217\u4e5f\u662f\u7269\u4ef6\u7684\u4e00\u7a2e\u6240\u4ee5\u4e5f\u662f\u50b3\u53c3\u8003\u2026\uff09\u3002\u82e5\u5728\u7269\u4ef6\u8907\u88fd\u7684\u6642\u5019\u6c92\u6709\u7559\u610f\u4f7f\u7528\u7684\u8907\u88fd\u65b9\u5f0f\uff08\u662f\u55ae\u7d14\u7684\u50b3\u53c3\u8003\u9084\u662f\u6df1\u62f7\u8c9d\uff09\uff0c\u6709\u6642\u5019\u4e00\u4e0d\u5c0f\u5fc3\u6703\u56e0\u70ba\u8cc7\u6599\u6e32\u67d3\u7684\u554f\u984c\u800c\u9020\u6210bug\uff0c\u9019\u7a2ebug\u975e\u5e38\u96e3\u6293\u9084\u9700\u8981\u4e00\u4e9b\u7d93\u9a57\u2026\uff1b\u5c24\u5176\u662f\u6211\u5728\u5bebVue\u7684\u6642\u5019\u975e\u5e38\u5e38\u6703\u9047\u5230\u3002\\n\\n\u4ee5\u525b\u624d\u7684\u7a0b\u5f0f\u78bc\u4e2d\uff0cfunction\u66ff\u63db\u6210Vue\u7684Component\uff08\u8acb\u7528\u60f3\u8c61\u7684\uff09\uff0c\u5c31\u662f\u5728Vue\u7684\u958b\u767c\u4e2d\u6700\u5e38\u9047\u5230\u7684\u554f\u984c\u4e86\u3002\\n\\n\u4e5f\u5c31\u662f\u8aaa\u5982\u679cprop\u7684\u503c\u662f\u7269\u4ef6\uff08\u5305\u542b\u9663\u5217\uff09\uff0c\u5373\u4f7f\u6211\u5011\u5728\u5b50\u7d44\u4ef6\u4e2d\u628a\u4ed6\u8907\u88fd\u4e00\u4efd\u4e26\u5b58\u5728\u5b50\u7d44\u4ef6\u7684\u8b8a\u6578\u7576\u4e2d\uff0c\u5982\u679c\u6211\u5011\u8907\u88fd\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u300c\u50b3\u53c3\u8003\u300d\uff0c\u7236\u5c64\u7684\u503c\u662f\u6703\u6709\u53ef\u80fd\u88ab\u6e32\u67d3\u7684\u3002\\n\\n\u9019\u88e1\u4ee5\u672c\u6587\u4e2d\u4e00\u76f4\u4f7f\u7528\u7684\u5f48\u51fa\u8996\u7a97\u5305\u88dd\u6210\u7684Component `lightbox`\u505a\u70ba\u7bc4\u4f8b\u3002\\n\\n\u7576prop\u7684\u683c\u5f0f\u70ba\u5982\u4e0b\uff1a\\n\\n```js\\nvalue: {\\n  name: \'\u963f\u8c93\',\\n  id: \'T001\' \\n}\\n```\\n\\nComponent `lightbox`\u4e2d\u5132\u5b58\u7684\u8b8a\u6578\u5982\u4e0b\uff1a\\n\\n```js\\nchildValue: {\\n  name: \'\',\\n  id: \'\' \\n}\\n```\\n\\n\u4e26\u4e14\u5728Component`lightbox`\u4e2d\u7684`watch`\u8907\u88fdprop\u5982\u4e0b\uff1a\\n\\n```js\\nwatch: {\\n  active: {\\n    handler (d) {\\n      if (d === true) {\\n        this.childValue = this.value\\n      }\\n    },\\n    immediate: true\\n  }\\n}\\n```\\n\\n\u76f4\u63a5\u4f86\u770b\u5982\u679c\u662f\u9019\u6a23\u5c07`value`\u8907\u88fd\u7d66`childValue`\uff0c\u64cd\u4f5c\u4e0a\u6703\u767c\u751f\u4ec0\u9ebc\u4e8b\u5462\uff1f\\n\\n![image-20200501113622148](./_img/20200509/image-20200501113622148.png)\\n\\n\u6211\u5011\u53ef\u4ee5\u770b\u5230\u5728\u5f48\u51fa\u8996\u7a97\u4e2d\u4fee\u6539\u6587\u5b57\u7684\u300c\u540c\u6642\u300d\uff0c\u80cc\u666f\u4e2d\u7684\u6587\u5b57\u4e5f\u5c31\u99ac\u4e0a\u8ddf\u8457\u6539\u8b8a\u4e86\u3002\\n\\n\u8981\u89e3\u6c7a\u9019\u500b\u554f\u984c\uff0c\u5c31\u662f\u8981\u6539\u6210\u7528\u300c\u6df1\u62f7\u8c9d\u300d\u7684\u65b9\u5f0f\uff0c\u6211\u5011\u53ef\u4ee5\u7528\u4ee5\u4e0b\u5e7e\u7a2e\u65b9\u5f0f\u4f86\u4fee\u6539\u7a0b\u5f0f\u78bc\u3002\\n\\n\u65b9\u6cd5\u4e00\uff1a\\n\\n```js\\nwatch: {\\n  active: {\\n    handler (d) {\\n      if (d === true) {\\n        this.childValue = {\\n          name: d.name,\\n          id: d.id\\n        }\\n      }\\n    },\\n    immediate: true\\n  }\\n}\\n```\\n\\n\u65b9\u6cd5\u4e8c\uff1a\\n\\n```js\\nwatch: {\\n  active: {\\n    handler (d) {\\n      if (d === true) {\\n        this.childValue = JSON.parse(JSON.stringify(d))\\n      }\\n    },\\n    immediate: true\\n  }\\n}\\n```\\n\\n\u4e0d\u540c\u7684\u8cc7\u6599\u683c\u5f0f\u6709\u4e0d\u540c\u7684\u6df1\u62f7\u8c9d\u5beb\u6cd5\uff0c\u5c31\u6211\u81ea\u5df1\u7684\u7fd2\u6163\u5e38\u7528\u65b9\u6cd5\u4e8c `JSON.parse(JSON.stringify(value))`\uff0c\u5e7e\u4e4e\u662f\u9069\u7528\u6240\u6709\u683c\u5f0f\u7684\u8cc7\u6599\uff08\u9664\u4e86\u4e00\u4e9b\u7279\u6b8a\u7684\u7269\u4ef6\u4e0d\u9069\u7528\u2013\u6bd4\u5982\u8aaafunction\u6216Date\u7b49\uff09\u3002\\n\\n[Codepen\u7bc4\u4f8b\u5b8c\u6574\u7a0b\u5f0f\u5728\u6b64](https://codepen.io/cdpqdnvr/pen/jObmmPr)\\n\\n\\n\\n## \u516d\u3001\u5c0f\u7d50\\n\\n\u672c\u6587\u4e2d\u6240\u4f7f\u7528\u7684\u95dc\u65bcVue\u7684\u77e5\u8b58\u5176\u5be6\u90fd\u662f\u76f8\u7576\u57fa\u790e\u7684\uff0c\u5927\u90e8\u4efd\u7684\u7a0b\u5f0f\u90fd\u662f\u521d\u5b78Vue\u4e0d\u7528\u592a\u4e45\u90fd\u77e5\u9053\u7684\u57fa\u672c\u7684\u7528\u6cd5\uff1b\u6216\u8a31\u5c31\u662f\u592a\u7c21\u55ae\uff0c\u6211\u81ea\u5df1\u672c\u8eab\u4e5f\u6c92\u770b\u904e\u7db2\u8def\u4e0a\u6709\u76f8\u95dc\u8a0e\u8ad6\u7684\u6587\u7ae0\uff08\u4e5f\u53ef\u80fd\u662f\u6211\u6c92\u770b\u5230\u800c\u5df2\uff09\uff0c\u4f46\u662f\u5176\u5be6\u4f5c\u4e0a\u5176\u5be6\u6709\u975e\u5e38\u591a\u7684\u7d30\u7bc0\uff0c\u4e0d\u540c\u7684\u60c5\u5883\u4e0a\u5176\u5be6\u90fd\u5404\u6709\u5de7\u5999\u4e4b\u8655\u3002\u5c31\u6211\u81ea\u5df1\u81ea\u5b78\u7684\u6b77\u7a0b\u4f86\u8aaa\uff0c\u4e5f\u662f\u5beb\u4e86\u4e00\u5806\u721bcode\u5f8c\uff0c\u624d\u6574\u7406\u6162\u6162\u51fa\u4e00\u4e9b\u6211\u81ea\u5df1\u7684\u7d93\u9a57\u6cd5\u5247\uff1b\u9019\u4e5f\u662f\u6211\u6703\u60f3\u5beb\u9019\u500b\u7cfb\u5217\u6587\u5f88\u5927\u7684\u4e00\u500b\u52d5\u6a5f\u3002\\n\\n\u4ee5\u672c\u6587\u7684\u300c\u55ae\u5411\u50b3\u905e\u300d\u9019\u500b\u4e3b\u984c\u4f86\u8aaa\uff0c\u5c07\u7236\u5c64\u50b3\u5165\u5b50\u7d44\u4ef6\u5167\u7684\u8cc7\u6599\uff0c\u5728\u5167\u90e8\u9032\u884c\u7ba1\u7406\u548c\u7236\u5c64\u5340\u9694\u958b\u4f86\u5c31\u662f\u55ae\u76f8\u5411\u8cc7\u6599\u6d41\u7684\u4e00\u500b\u95dc\u9375\uff0c\u9019\u500b\u4e5f\u5ef6\u4f38\u51fa\u5b50\u7d44\u4ef6\u4e0d\u80fd\u76f4\u63a5\u4fee\u6539prop\u9019\u500b\u898f\u5247\uff0c\u4e26\u4e14\u9019\u500b\u898f\u5247\u662f\u6709\u7406\u7531\u7684\uff0c\u672c\u6587\u4e2d\u4e5f\u5c0d\u65bc\u6b64\u4e3b\u984c\u7528\u7bc4\u4f8b\u505a\u4e86\u4e00\u4e9b\u8a0e\u8ad6\u548c\u8aaa\u660e\u3002\\n\\n\u7b2c\u4e8c\u500b\u91cd\u9ede\u662f\u5b50\u7d44\u4ef6\u5167\u8907\u88fd\u7236\u5c64\u50b3\u5165\u503c\u7684\u6642\u6a5f\u9ede\uff0c\u4e0d\u540c\u7684\u8a2d\u8a08\u4e5f\u662f\u6703\u6709\u4e0d\u540c\u7684\u7406\u7531\u4ee5\u53ca\u5f71\u97ff\uff0c\u672c\u6587\u4e2d\u7528created/mounted\u4ee5\u53cawatch\u5169\u7a2e\u7bc4\u4f8b\u4f86\u505a\u8aaa\u660e\u3002\\n\\n\u672c\u6587\u8f03\u8457\u91cd\u65bc\u7bc4\u4f8b\u7684\u89e3\u8aaa\uff0c\u4e0d\u66c9\u5f97\u6211\u7684\u6587\u5b57\u5920\u4e0d\u5920\u6e05\u6670\uff0c\u5e0c\u671b\u5c0d\u5927\u5bb6\u6709\u5e6b\u52a9\u3002"},{"id":"2020/05/09/vue-component-dataflow-2","metadata":{"permalink":"/blog/2020/05/09/vue-component-dataflow-2","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/2020-05-09-Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6.md","source":"@site/blog/2020/2020-05-09-Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6.md","title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6","description":"\u4e00\u3001\u55ae\u5411/\u96d9\u5411\u8cc7\u6599\u6d41\u4e4b\u5dee\u7570\u53ca\u9069\u7528\u5834\u666f","date":"2020-05-09T00:00:00.000Z","formattedDate":"May 9, 2020","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"vue","permalink":"/blog/tags/vue"}],"readingTime":19.085,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2020/05/09/vue-component-dataflow-2","title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6","authors":"thunderboy","tags":["javascript","vue"]},"prevItem":{"title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e","permalink":"/blog/2020/05/09/vue-component-dataflow-1"},"nextItem":{"title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (3) \u96d9\u5411\u7d81\u5b9a\u2013\u5927\u7d44\u4ef6","permalink":"/blog/2020/05/09/vue-component-dataflow-3"}},"content":"## \u4e00\u3001\u55ae\u5411/\u96d9\u5411\u8cc7\u6599\u6d41\u4e4b\u5dee\u7570\u53ca\u9069\u7528\u5834\u666f\\n\\n\u524d\u4e00\u7bc7\u6587\u7ae0\u300c\u55ae\u5411\u50b3\u905e\u300d\u4e2d\u6211\u6709\u63d0\u5230\u904e\uff0c\u6211\u81ea\u5df1\u300c\u9ad4\u611f\u300d\u81ea\u88fd\u7684Component\u5927\u7d04\u53ea\u6709\u767e\u5206\u4e4b20\u662f\u4f7f\u7528\u55ae\u5411\u8cc7\u6599\u6d41\u50b3\u905e\u7684\u3002\u4e0d\u904e\u5728Vue\u4e2d\u7684\u300c\u96d9\u5411\u7d81\u5b9a\u300d\u662f\u4e00\u5927\u7279\u8272\uff08\u96d6\u7136\u7576\u521d\u4e5f\u662f ~~\u6284\u8972~~ \u53c3\u8003Angular\u7684\uff09\uff0c\u7576\u4e2d\u7684\u8b8a\u5316\u4ee5\u53ca\u5b78\u554f\u53ef\u591a\u4e86\u3002\\n\\n\u5c31\u6211\u81ea\u5df1\u500b\u4eba\u7684\u7d93\u9a57\uff0c\u525b\u958b\u59cb\u5b78Vue\u6642\u958b\u767c\u81ea\u88fdComponent\u5927\u591a\u90fd\u662f\u4f7f\u7528\u55ae\u5411\u7d81\u5b9a\uff0c\u5c0d\u65bc\u81ea\u88fd\u7684\u96d9\u5411\u7d81\u5b9a\u7684\u7528\u6cd5\u6709\u4e9b\u56f0\u60d1\uff0c\u96a8\u8457\u7d93\u9a57\u7684\u7d2f\u7a4d\u624d\u958b\u59cb\u6162\u6162\u638c\u63e1\u6280\u5de7\u4ee5\u53ca\u5408\u9069\u7684\u7528\u6cd5\u3002\u4f9d\u7167\u6211\u81ea\u5df1\u500b\u4eba\u7684\u7d93\u9a57\uff0c\u6211\u6703\u628a\u9019\u767e\u5206\u4e4b20\u4e2d\u6240\u9069\u7528\u7684\u60c5\u5883\u5206\u70ba\u5169\u7a2e\uff1a\\n\\n1. \u5305\u88ddresuse\uff08\u53ef\u8907\u7528\uff09\u7684\u57fa\u672c\u5143\u7d20\\n2. \u56e0\u7a0b\u5f0f\u7ba1\u7406\u9700\u6c42\u9700\u62bd\u96e2\u51fa\u4f86\u7684\u5927\u5340\u584a\\n\\n\x3c!--truncate--\x3e\\n\\n\u70ba\u65b9\u4fbf\u8aaa\u660e\u6211\u5c31\u7c21\u55ae\u5c07\u9019\u5169\u7a2e\u7d44\u4ef6\u5206\u5225\u4f30\u4e14\u547d\u540d\u70ba\u300c\u901a\u7528\u7d44\u4ef6\u300d\u2013\u5c0d\u61c9\u7b2c\u4e00\u7a2e\uff08\u5c07\u5728\u672c\u6587\u4e2d\u8a0e\u8ad6\uff09\uff0c\u4ee5\u53ca\u300c\u5927\u7d44\u4ef6\u300d\u2013\u5c0d\u61c9\u7b2c\u4e8c\u7a2e\uff08\u5c07\u5728\u4e0b\u4e00\u7bc7\u7cfb\u5217\u6587\u4e2d\u8a0e\u8ad6\uff09\u3002\\n\\n\u5206\u5225\u8aaa\u660e\u5982\u4e0b\uff1a\\n\\n### Case1. \u901a\u7528\u7d44\u4ef6\\n\\n\u6703\u770b\u672c\u7cfb\u5217\u6587\u7ae0\u7684\u4eba\u61c9\u8a72\u90fd\u662f\u6709\u4e00\u4e9bVue\u958b\u767c\u7d93\u9a57\u7684\u4eba\uff0c\u5927\u5bb6\u61c9\u8a72\u90fd\u77e5\u9053html\u539f\u751f\u5143\u7d20\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528`v-model`\u4f86\u505a\u96d9\u5411\u7d81\u5b9a\uff0c\u5305\u62ec\uff1a\\n\\n* Input\\n\\n* Textarea\\n\\n* Radiobutton\\n\\n* Checkbox\\n\\n* Select/Option\\n\\n\u9019\u985e\u5143\u7d20\u90fd\u6709\u4e00\u500b\u5171\u901a\u6027\uff0c\u5c31\u662f\u90fd\u662f\u5c6c\u65bc\u300c\u901a\u7528\u6027\u8cea\u300d\u7684\u5143\u7d20\uff0c\u539f\u5247\u4e0a\u4ed6\u5167\u90e8\u600e\u9ebc\u904b\u4f5c\u7684\u5c0d\u7528\u7684\u4eba\u4e5f\u4e0d\u9700\u8981\u4e86\u89e3\uff0c\u6c92\u6709\u4f9d\u8cf4\u5176\u4ed6\u7684\u7a0b\u5f0f\u53ef\u4ee5\u9069\u7528\u5728\u6bcf\u4e00\u500b\u5730\u65b9\u7684\u3002\\n\\n\u548c\u9019\u985e\u5143\u7d20\u540c\u6a23\u6027\u8cea\u7684Component\u6211\u4f30\u4e14\u628a\u4ed6\u7a31\u4e4b\u70ba\u300c\u901a\u7528\u7d44\u4ef6\u300d\uff0c\u53ef\u4ee5\u662f\u6211\u5011\u81ea\u88fd\u7684\u8868\u55ae\u5143\u7d20\u3001\u6216\u8005\u662f\u4e00\u6a23\u5c0f\u578b\u7684\u7d44\u4ef6\u3002\\n\\n\u9019\u985e\u578b\u7684\u300c\u901a\u7528\u7d44\u4ef6\u300d\u5982\u679c\u9084\u662f\u4f7f\u7528\u300c\u55ae\u5411\u8cc7\u6599\u6d41\u300d\uff0c\u5c31\u986f\u5f97\u6709\u9ede\u812b\u8932\u5b50\u653e\u5c41\u3001\u592a\u904e\u9ebb\u7169\u4e86\u3002\\n\\n\\n\\n### Case2. \u5927\u7d44\u4ef6\\n\\n\u53e6\u4e00\u7a2e\u60c5\u6cc1\u662f\uff0c\u6211\u5011\u88fd\u4f5cComponent\u6700\u4e3b\u8981\u7684\u539f\u56e0\u4e0d\u662f\u70ba\u4e86reuse\uff08\u53ef\u8907\u7528\uff09\u7684\u7406\u7531\uff0c\u55ae\u7d14\u662f\u7a0b\u5f0f\u592a\u9577\u4e86\u3002\\n\\n\u5047\u8a2d\u6709\u4e00\u500b\u975e\u5e38\u5de8\u5927\u7684\u8868\u55ae\uff0c\u4e26\u4e14\u6709\u4e94\u500b\u5206\u9801\uff0c\u6709500\u500b\u6b04\u4f4d\u597d\u4e86\uff0c\u5728Vue\u5be6\u4f8b\u7684`data` \u53ef\u80fd\u662f\u9577\u9019\u6a23\uff1a\\n\\n```js\\ndata () {\\n  return {\\n    tableBody: {\\n      value1: \'\',\\n      value2: \'\',\\n      value3: \'\',\\n      // ...\u4ee5\u6b64\u985e\u63a8\u5171\u5169\u767e\u500b\\n    }\\n  }\\n}\\n```\\n\\nwireframe\u4f86\u770b\u5927\u6982\u662f\u9577\u9019\u6a23\uff1a\\n\\n![](./_img/20200509/component_data_stream_1.png)\\n\\n\u53ef\u60f3\u800c\u77e5\u9019\u652f\u7a0b\u5f0f\u9435\u5b9a\u662f\u975e\u5e38\u80a5\u5927\uff0c\u4e09\u4e94\u5343\u884c\u90fd\u662f\u6709\u53ef\u80fd\u7684\uff0c\u70ba\u4e86\u53ef\u7dad\u8b77\u6027\u5927\u591a\u5de5\u7a0b\u5e2b\u90fd\u6703\u60f3\u628a\u7a0b\u5f0f\u80fd\u62bd\u51fa\u4f86\u5c31\u62bd\u51fa\u4f86\u3002\\n\\n\u5728\u9019\u500b\u6211\u80e1\u4e82\u63b0\u7684\u4f8b\u5b50\u7576\u4e2d\uff0c\u9019\u4e94\u500b\u9801\u7c64\u57fa\u672c\u4e0a\u88e1\u9762\u7684\u5167\u5bb9\u90fd\u662f\u5404\u81ea\u7368\u7acb\u4e0d\u4e92\u76f8\u5f71\u97ff\u7684\uff0c\u6240\u4ee5\u4ee5\u6211\u4f86\u8aaa\u53ef\u80fd\u5c31\u6703\u518d\u628a\u9019\u4e94\u500b\u9801\u7c64\u518d\u62c6\u6210\u4e94\u500bComponent\uff0c\u5982\u4e0b\u5716\uff1a\\n\\n![](./_img/20200509/component_data_stream_2.png)\\n\\n\u96d6\u7136\u8aaa\u4e94\u500b\u9801\u7c64\u5404\u81ea\u7368\u7acb\uff0c\u4f46\u662f\u7576\u4f7f\u7528\u8005\u9ede\u4e0b\u300c\u5132\u5b58\u6309\u9215\u300d\u6642\u9084\u662f\u9700\u8981\u5c07\u5168\u90e8200\u500b\u6b04\u4f4d\u7684\u8cc7\u6599\u4e00\u8d77\u9001\u51fa\u7d66\u5f8c\u7aef\uff0c\u56e0\u6b64\u9019\u5169\u767e\u7b46\u8b8a\u6578\u9084\u662f\u9700\u8981\u7d00\u9304\u5728\u7236\u5c64\u7576\u4e2d\u624d\u6703\u6bd4\u8f03\u597d\u8655\u7406\u3002\\n\\n\u63db\u53e5\u8a71\u8aaa\uff0c`methods`\u3001`computed`\u3001`watch`\u7b49\u7b49\u7684\u7a0b\u5f0f\u78bc\u53ef\u4ee5\u62bd\u51fa\u4f86\u653e\u5230\u9019\u5404\u81ea\u4e94\u500bComponent\uff0c\u4f46\u662f`data`\u7684\u8b8a\u6578\u4e3b\u63a7\u6b0a\u5fc5\u9808\u653e\u5728\u7236\u5c64\uff0c\u4e26\u4f7f\u7528\u96d9\u5411\u7d81\u5b9a\u4f86\u540c\u6b65\u5e95\u4e0b\u7684\u4e94\u500b\u5b50\u7d44\u4ef6\u8cc7\u6599\u3002\\n\\n\u6211\u8209\u7684\u9019\u500b\u4f8b\u5b50\u5c31\u662f\u9069\u7528\u96d9\u5411\u7d81\u5b9a\u7684\u7b2c\u4e8c\u7a2e\u60c5\u5883\u3002\\n\\n\u7576\u7136\uff0c\u6bd4\u9019\u66f4\u8907\u96dc\u7684\u60c5\u5883\u9084\u662f\u6709\u7684\uff0c\u6bd4\u5982\u8aaa\u7236\u5b50\u968e\u5c64\u4e0d\u6b62\u5169\u5c64\u3001\u6216\u8005\u662f\u4e0d\u4f46\u7d44\u4ef6\u5927\u53c8\u540c\u6642\u6709reuse\u7684\u9700\u6c42\uff0c\u9019\u6642\u5019\u5c31\u6709\u53ef\u80fd\u518d\u5c0b\u6c42\u5176\u4ed6\u7684\u65b9\u5f0f\uff0c\u9019\u4e9b\u6703\u5728\u4e0b\u4e00\u7bc7\u6587\u7ae0\u518d\u505a\u9032\u4e00\u6b65\u7684\u8a0e\u8ad6\u3002\\n\\n\\n\\n## \u4e8c\u3001\u5728\u5b50\u7d44\u4ef6\u4e2d\u540c\u6b65prop\u53ca\u7236\u7d44\u4ef6\u7684\u7d81\u5b9avalue\\n\\n\u5982\u540c\u672c\u6587\u7b2c\u4e00\u500b\u7ae0\u7bc0\u6240\u8aaa\u7684\uff0c\u539f\u751f\u7684Html\u8868\u55ae\u5143\u7d20\u9810\u8a2d\u5c31\u53ef\u4ee5\u4f7f\u7528`v-model`\uff0c\u4f46\u9664\u4e86\u539f\u751f\u7684Html\u8868\u55ae\u5143\u7d20\u4e4b\u5916\uff0c\u958b\u767c\u8005\u4e5f\u662f\u53ef\u4ee5\u5728\u81ea\u5df1\u958b\u767c\u7684Component\u4e0a\u81ea\u8a02\u7fa9`v-model`\u3002\\n\\n\u5176\u539f\u7406\u76f8\u7576\u7c21\u55ae\uff0c`v-model`\u9810\u8a2d\u6703\u5c0d\u61c9\u300c\u4e00\u7d44\u300d\u540d\u7a31\u70ba`value`\u7684\u300cprop\u300d\u4ee5\u53ca`input`\u300c\u4e8b\u4ef6\u300d\uff08\u6216\u8005\u8aaa`emit`\uff09\u3002\\n\\n\u8209\u4f8b\u4f86\u8aaa\uff0c\u539f\u751f\u7684Html\u8868\u55ae\u5143\u7d20`input`\u53ef\u4ee5\u9019\u6a23\u5beb\uff1a\\n\\n```html\\n<input :value=\\"inputValue\\" @input=\\"onInput\\"/>\\n```\\n\\n\u4e5f\u53ef\u4ee5\u6539\u6210`v-model`\u7684\u5beb\u6cd5\uff1a\\n\\n```html\\n<input v-model=\\"inputValue\\"/>\\n```\\n\\n\u5dee\u5225\u5728\u65bc\u524d\u8005\u662f\u300c\u55ae\u5411\u7d81\u5b9a\u300d\uff0c\u800c\u5f8c\u8005\u662f\u300c\u96d9\u5411\u7d81\u5b9a\u300d\u3002\u901a\u5e38\u6703\u63a1\u7528\u524d\u8005\u662f\u56e0\u70ba\u5e0c\u671b\u81ea\u8a02\u5b9a\u76e3\u807d\u4e8b\u4ef6\uff0c\u4e26\u4e14\u9700\u8981\u638c\u63a7\u5728\u76e3\u807d\u4e8b\u4ef6\u7576\u4e2d\u518d\u8981\u505a\u4e00\u4e9b\u52a0\u5de5\u8655\u7406\uff08\u53ef\u53c3\u8003\u672c\u7cfb\u5217\u6587\u524d\u4e00\u7bc7\u7684\u55ae\u5411\u50b3\u905e\u8cc7\u6599\u6d41\uff09\u3002\\n\\n\u4ee5\u4e0b\u5c07\u6703\u7528\u4e00\u500b\u7bc4\u4f8b\u5be6\u4f5c\u4f86\u8a0e\u8ad6\u76f8\u95dc\u61c9\u7528\u7684\u7d30\u7bc0\u3002\\n\\n\u9019\u88e1\u5be6\u4f5c\u4e86\u4e00\u500b\u5e36\u6709\u6587\u5b57\u63d0\u793a\u7684\u6587\u5b57\u8f38\u5165\u6846\u7d44\u4ef6\uff0cComponent\u547d\u540d\u70ba`autocomplete-input`\uff0c\u70ba\u65b9\u4fbf\u89e3\u8aaa\u6240\u4ee5\u5176\u5be6\u4e26\u6c92\u6709\u5c07\u529f\u80fd\u5be6\u4f5c\u7684\u975e\u5e38\u5b8c\u6574\u3002\\n\\n\u6210\u679c\u5982\u4e0b\u5716\uff1a\\n\\n![image-20200509145612340](./_img/20200509/image-20200509145612340.png)\\n\\nhtml\u5982\u4e0b\uff1a\\n\\n```html\\n<div id=\\"app\\">\\n  \u8acb\u8f38\u5165\u82f1\u6587\u5b57\u6bcd\uff1a\\n  <autocomplete-input\\n    v-model=\\"inputText\\"\\n    :data=\\"recoData\\">\\n  </autocomplete-input>\\n</div>\\n```\\n\\nVue\u7684\u4e3b\u7a0b\u5f0f\u4e2d\u5ba3\u544a\u7236\u5c64\u7684\u884c\u70ba\uff1a\\n\\n```js\\nconst vm = new Vue({\\n  el: \'#app\',\\n  component: \'autocomplete-input\',\\n  data: {\\n    recoData: [\'candy\',\'car\',\'card\',\'can\',\'bakery\',\'boring\',\'band\',\'country\',\'drink\',\'eye\',\'fork\',\'game\',\'hospital\',\'orange\',\'restroom\',\'sleep\',\'talk\',\'tree\',\'yesterday\',\'weather\',\'zoo\'],\\n    inputText: \'\'\\n  }\\n})\\n```\\n\\n\u4ee5\u4e0a\u7684\u7a0b\u5f0f\u6211\u5011\u53ef\u4ee5\u770b\u5230\u7d44\u4ef6\u6709\u4e00\u500b`v-model`\u53ca\u4e00\u500b`v-bind`\u7684\u7d81\u5b9a\u8cc7\u6599\u3002`v-model`\u96d9\u5411\u7d81\u5b9a\u7684`inputText`\u662f\u8f38\u5165\u6846\u7684\u8f38\u5165\u6587\u5b57\uff0c\u800c`v-bind`\u55ae\u5411\u7d81\u5b9a\u7684`recoData`\u662f\u63d0\u793a\u6587\u5b57\u7684\u6240\u6709\u82f1\u6587\u55ae\u5b57\u7d44\u5408\uff0c\u7576\u8f38\u5165\u6846\u8f38\u5165\u6587\u5b57\u7684\u6642\u5019\u7d44\u4ef6\u5c31\u6703\u4f7f\u7528`inputText`\u5728`recoData`\u9663\u5217\u4e2d\u9032\u884c\u7be9\u9078\u7b26\u5408\u7684\u82f1\u6587\u55ae\u5b50\u3002\\n\\n\u5c0d\u65bc\u8981\u4f7f\u7528\u9019\u500bComponent\u7684\u4eba\u4f86\u8aaa\uff0c\u53ea\u9700\u8981\u628a\u9019\u5e7e\u884c\u7a0b\u5f0f\u770b\u61c2\u5373\u53ef\u4f7f\u7528\uff0c\u4e0d\u904e\u7531\u65bc\u672c\u6587\u8aaa\u660e\u9700\u8981\u6211\u5011\u9084\u662f\u8981\u628aComponent\u5167\u90e8\u7684\u7a0b\u5f0f\u78bc\u6524\u51fa\u4f86\u770b\u770b\uff08\u6c92\u6709\u8010\u5fc3\u7684\u4eba\u4ee5\u4e0b\u53ef\u4ee5\u5148\u8df3\u904e\uff0c\u6709\u9700\u8981\u7684\u8a71\u518d\u56de\u982d\u904e\u4f86\u5c0d\u7167\u8457\u770b\u5373\u53ef\uff09\u3002\\n\\n`autocomplete-input`\u7d44\u4ef6\u7a0b\u5f0f\uff1a\\n\\n```js\\nVue.component(\'autocomplete-input\',  {\\n  template: `\\n  <div class=\\"autocomplete-input\\">\\n    <input\\n      type=\\"text\\"\\n      v-model=\\"syncValue\\">\\n    <div\\n      class=\\"list\\"\\n      v-show=\\"isShowRecoList\\">\\n      <div\\n        class=\\"item\\"\\n        v-for=\\"item in recoList\\"\\n        @click=\\"selectRecoText(item)\\">\\n        {{item}}\\n      </div>\\n    </div>\\n  </div>\\n  `,\\n  props: [\'data\', \'value\'],\\n  computed: {\\n    // \u5b50\u7d44\u4ef6\u4e2d\u540c\u6b65value\u7684\u503c\\n    syncValue: {\\n      get () {\\n        return this.value\\n      },\\n      set (v) {\\n        this.$emit(\'input\', v)\\n      }\\n    },\\n    // \u662f\u5426\u986f\u793a\u63d0\u793a\u9078\u9805\\n    isShowRecoList () {\\n      if (this.syncValue && this.recoList.length > 0) {\\n        return true\\n      } else {\\n        return false\\n      }\\n    },\\n    // \u63d0\u793a\u9078\u9805\\n    recoList () {\\n      return this.data.filter(d => {\\n        return d.indexOf(this.syncValue) >= 0\\n      })\\n    }\\n  },\\n  methods: {\\n    // \u9078\u64c7\u63d0\u793a\u9078\u9805\u66f4\u65b0\u8f38\u5165\u6587\u5b57\\n    selectRecoText (text) {\\n      this.syncValue = text\\n    }\\n  }\\n})\\n```\\n\\n\u4ee5\u4e0a\u70ba\u5168\u90e8\u7684\u7a0b\u5f0f\u78bc\u4e86\u3002\\n\\n\u89c0\u5bdf\u9019\u500b\u7bc4\u4f8b\u7684\u8cc7\u6599\u6d41\uff0c\u5b50\u7d44\u4ef6`computed`\u4e2d\u7684`syncValue`\u662f\u7528\u4f86\u300c\u540c\u6b65\u300d`props`\u4e2d\u7684`value`\u3002\\n\\n\u9019\u88e1\u6211\u6240\u8aaa\u7684\u300c\u540c\u6b65\u300d\u8a73\u7d30\u4e00\u9ede\u7684\u89e3\u91cb\uff1a\u5b50\u7d44\u4ef6`syncValue`\u7684\u503c\u548c\u7236\u7d44\u4ef6\u7684`value`\u662f\u96d9\u5411\u7d81\u5b9a\u7684\u95dc\u4fc2\u7684\uff0c\u7576\u7236\u7d44\u4ef6\u7684`value`\u8b8a\u52d5\u6642\uff0c\u6703\u900f\u904e`prop`\u50b3\u5165\u5b50\u7d44\u4ef6\uff0c\u800c\u5b50\u7d44\u4ef6\u7684`syncValue`\u8b8a\u52d5\u6642\u5c31\u6703\u5c07\u503c\u4f7f\u7528`emit`\u50b3\u905e\u4e8b\u4ef6\u7d66\u7236\u7d44\u4ef6\u3002\\n\\n\u5be6\u4f5c\u7684\u65b9\u5f0f\u5c31\u662f\u7528`computed`\u7684`getter`\u3001`setter`\uff1a\\n\\n```js\\ncomputed: {\\n  // \u5b50\u7d44\u4ef6\u4e2d\u540c\u6b65value\u7684\u503c\\n  syncValue: {\\n    get () {\\n      return this.value\\n    },\\n    set (v) {\\n      this.$emit(\'input\', v)\\n    }\\n  },\\n  // ..\u7565..\\n}\\n```\\n\\n\u64cd\u4f5c\u8aaa\u660e\u3001\u7236\u7d44\u4ef6\u503c\u3001\u5b50\u7d44\u4ef6\u503c\u6574\u7406\u6210\u4e0b\u8868\uff1a\\n\\n| \u64cd\u4f5c\u8aaa\u660e              | [\u7236\u5c64] value | [\u5b50\u7d44\u4ef6] syncValue |\\n| --------------------- | ------------ | ------------------ |\\n| Step1.\u521d\u59cb\u5316          | \'\'           | \'\'                 |\\n| Step2.\u8f38\u5165\u6587\u5b57\'a\'     | \'a\'          | \'a\'                |\\n| Step3.\u9ede\u9078\u63d0\u793a\u6846\'car\' | \'car\'        | \'car\'              |\\n\\n\u986f\u800c\u6613\u898b\u7684\uff0c\u7236\u5b50\u7d44\u4ef6\u7684\u503c\u662f\u5b8c\u5168\u540c\u6b65\u7684\uff0c\u4e5f\u5c31\u662f\u6211\u5011\u671f\u5f85\u96d9\u5411\u7d81\u5b9a\u7684\u7d50\u679c\u3002\\n\\n[Codepen\u7bc4\u4f8b\u5b8c\u6574\u7a0b\u5f0f\u5728\u6b64](https://codepen.io/cdpqdnvr/pen/wvKPgEG)\\n\\n\\n\\n**---- \u76f8\u95dc\u88dc\u5145\u5206\u9694\u7dda ----**\\n\\n1. \u81ea\u8a02\u7fa9v-model\\n\\n\u6709\u500b\u8ddf\u672c\u6587\u4e3b\u984c\u95dc\u4fc2\u4e0d\u5927\u4f46\u662f\u4e5f\u662f\u883b\u91cd\u8981\u7684\u4e00\u4ef6\u4e8b\uff0c\u5c31\u662f\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\u540d\u7a31\u70ba`value`\u7684prop\u642d\u914d`input`\u4e8b\u4ef6\u7684\u8a71\uff0cVue\u6709\u63d0\u4f9b\u4e00\u500b\u53eb\u505a`model`\u7684option\u53ef\u4ee5\u4f7f\u7528\uff0c\u66f4\u591a\u8a0a\u606f\u8acb\u53c3\u8003\u5b98\u7db2\u6587\u4ef6\uff1a\\n\\n[Vue\u5b98\u7db2\u6587\u4ef6-\u81ea\u5b9a\u7fa9\u7d44\u4ef6\u7684v-model](https://cn.vuejs.org/v2/guide/components-custom-events.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E7%9A%84-v-model)\\n\\n1. `.sync`\\n\\n\u622a\u81f3\u6211\u5beb\u9019\u7bc7\u6587\u7ae0\uff082020/5/9\uff09\uff0cVue3.0\u9084\u662f\u8655\u65bcbeta\u7248\u672c\uff0c\u9810\u8a08\u5e74\u4e2d\u4e4b\u5f8c\u624d\u6703\u63a8\u51fa\u6b63\u5f0f\u7248\u3002\u5c31\u76ee\u524d\u6240\u77e5Vue3.0\u5c07\u6703\u628a`.sync`\u7d66\u79fb\u9664\u6389\uff0c\u6703\u7528`v-model`\u4f86\u505a\u53d6\u4ee3\u3002\u7531\u65bc\u6211\u4e5f\u9084\u6c92\u7814\u7a76\u5230\u9019\u90e8\u4efd\uff08\u4e0d\u904e\u6211\u731c\u5be6\u4f5c\u7684\u908f\u8f2f\u61c9\u8a72\u9084\u662f\u4e00\u6a23\u7684\u53ea\u662f\u8a9e\u6cd5\u6709\u8abf\u6574\u800c\u5df2\uff09\uff0c\u6240\u4ee5\u53ef\u80fd\u5230\u6642\u5019\u518d\u56de\u982d\u904e\u4f86\u4fee\u6539\u672c\u6587\u3002\\n\\n\\n\\n## \u4e09\u3001\u96d9\u5411\u7d81\u5b9a\u52a0\u55ae\u5411\u8cc7\u6599\u6d41\\n\\n\u9019\u500b\u6a19\u984c\u4e0b\u7684\u770b\u4f3c\u6709\u4e9b\u77db\u76fe\uff0c\u4e0d\u904e\u9019\u500b\u60c5\u5883\u5728\u5be6\u4f5c\u4e0a\u662f\u975e\u5e38\u5e38\u898b\u7684\u3002\u96d6\u7136\u8aaa\u7236\u5c64\u4f7f\u7528`v-model`\u96d9\u5411\u7d81\u5b9a\uff0c\u4f46\u662f\u7d44\u4ef6\u4e2d\u5be6\u969b\u4e0a\u662f\u55ae\u5411\u8cc7\u6599\u6d41\uff1b\u4e5f\u5c31\u662f\u8aaa\u548c\u672c\u7cfb\u5217\u6587\u524d\u4e00\u7bc7\u6587\u7ae0\u4e2d\u4ecb\u7d39\u7684\u55ae\u5411\u8cc7\u6599\u6d41\u985e\u4f3c\uff0c\u7d44\u4ef6\u5167\u81ea\u5df1\u672c\u8eab\u4e5f\u7ba1\u7406\u4e86\u5167\u90e8\u7684\u72c0\u614b\uff0c\u53ea\u6709\u5728\u7279\u5b9a\u7684\u4e8b\u4ef6\u5c07\u4e2d\u624d\u6703\u5c07\u503c\u50b3\u905e\u7d66\u7236\u5c64\u3002\\n\\n\u76f4\u63a5\u4f7f\u7528\u7bc4\u4f8b\u4f86\u505a\u8aaa\u660e\u3002\\n\\n\u524d\u4e00\u500b\u7ae0\u7bc0\u7684\u7bc4\u4f8b\u4f86\u505a\u4e00\u9ede\u5c0f\u5c0f\u7684\u4fee\u6539\uff1b\u6709\u4e00\u7a2e\u548c\u9019\u7a2e\u6587\u5b57\u8f38\u5165\u63d0\u793a\u6846\u975e\u5e38\u76f8\u8fd1\u7684\u4e00\u7a2eUI\uff0c\u4ed6\u540c\u6a23\u6709\u6587\u5b57\u7be9\u9078\u7684\u529f\u80fd\uff0c\u4f46\u4ed6\u7be9\u9078\u7684\u76ee\u7684\u4e0d\u662f\u505a\u70ba\u6587\u5b57\u8f38\u5165\u7684\u63d0\u793a\uff0c\u800c\u662f\u9019\u7a2eUI\u672c\u8eab\u5c31\u662f\u4e0b\u62c9\u9078\u55ae\uff0c\u6587\u5b57\u7be9\u9078\u7684\u76ee\u7684\u53ea\u662f\u7528\u4f86\u300c\u67e5\u8a62\u9078\u55ae\u4e2d\u65e2\u6709\u7684\u9078\u9805\u300d\u3002\u63db\u53e5\u8a71\u8aaa\uff0c\u9019\u500b\u7d44\u4ef6\u6240\u7d81\u5b9a\u7684\u503c\u53ea\u6709\u5728\u300c\u9ede\u9078\u9078\u9805\u300d\u4e4b\u5f8c\u624d\u6703\u628a\u9078\u9805\u4e2d\u7684\u503c\u5e36\u5165\uff0c\u5982\u679c\u6c92\u6709\u300c\u9ede\u9078\u9078\u9805\u300d\u9019\u500b\u52d5\u4f5c\u7684\u8a71\uff0c\u8f38\u5165\u6587\u5b57\u7684\u503c\u662f\u6703\u88ab\u6368\u68c4\u6389\u7684\u3002\\n\\n\u64cd\u4f5c\u756b\u9762\u5982\u4e0b\uff0c\u521d\u59cb\u5316\u9762\u53ef\u770b\u5230\u9019\u500bUI\u985e\u4f3c\u65bc\u4e00\u822c\u7684\u6587\u5b57\u8f38\u5165\u6846\uff0c\u4f46\u4e5f\u6709\u4e0b\u62c9\u9078\u55ae\u7684\u7bad\u982dicon\uff1a\\n\\n![image-20200509161722966](./_img/20200509/image-20200509161722966.png)\\n\\n\u4f7f\u7528\u8005\u53ef\u4ee5\u9ede\u9078\u7bad\u982d\u5c07\u9078\u55ae\u5c55\u958b\u3001\u4e5f\u53ef\u4ee5\u9ede\u64ca\u8f38\u5165\u6846\u8f38\u5165\u6587\u5b57\u4ee5\u7be9\u9078\u9078\u55ae\u3002\\n\\n![image-20200509161759261](./_img/20200509/image-20200509161759261.png)\\n\\n\u9ede\u9078\u9078\u9805\u4e4b\u5f8c\uff0c\u9078\u9805\u7684\u503c\u5c31\u6703\u88ab\u5e36\u5165\uff0c\u5982\u679c\u6c92\u6709\u9ede\u9078\u9078\u9805\u5247\u64cd\u4f5c\u662f\u7121\u6cd5\u5b8c\u6210\u3001\u4e26\u4e14\u6587\u5b57\u4e5f\u4e0d\u6703\u5e36\u5165\u4e0a\u65b9\u7684\u6587\u5b57\u63d0\u793a\uff08\u60a8\u9078\u64c7\u7684\u662f\u300cxx\u300d\uff09\u3002\\n\\n![image-20200509162014784](./_img/20200509/image-20200509162014784.png)\\n\\n\u6211\u5011\u5c07\u9019\u500b\u7d44\u4ef6\u547d\u540d\u70ba`selector`\uff0c\u7a0b\u5f0f\u548c\u524d\u4e00\u500b\u4f8b\u5b50\u5927\u540c\u5c0f\u7570\uff0c\u4e0d\u904e\u9019\u908a\u70ba\u65b9\u4fbf\u8aaa\u660e\u9084\u662f\u5c07\u5168\u90e8\u7a0b\u5f0f\u78bc\u90fd\u8cbc\u4e0a\uff0c\u5982\u6c92\u8010\u5fc3\u53ef\u4ee5\u5148\u8df3\u904e\u9019\u90e8\u4efd\u5f8c\u9762\u518d\u5c0d\u7167\u8457\u770b\u5373\u53ef\u3002\\n\\nhtml\uff1a\\n\\n```html\\n<div id=\\"app\\">\\n  <div v-if=\\"inputText\\">\\n    \u60a8\u9078\u64c7\u7684\u662f\u300c{{inputText}}\u300d\\n  </div>\\n  <div v-else>\\n    \u8acb\u9078\u64c7\uff1a\\n  </div>\\n  <selector\\n    v-model=\\"inputText\\"\\n    :data=\\"recoData\\">\\n  </selector>\\n</div>\\n```\\n\\n\u7236\u5c64\u7684\u7a0b\u5f0f\u662f\u4e00\u6a21\u4e00\u6a23\u7684\uff1a\\n\\n```js\\nconst vm = new Vue({\\n  el: \'#app\',\\n  component: \'selector\',\\n  data: {\\n    recoData: [\'candy\',\'car\',\'card\',\'can\',\'bakery\',\'boring\',\'band\',\'country\',\'drink\',\'eye\',\'fork\',\'game\',\'hospital\',\'orange\',\'restroom\',\'sleep\',\'talk\',\'tree\',\'yesterday\',\'weather\',\'zoo\'],\\n    inputText: \'\'\\n  }\\n})\\n```\\n\\n\u7d44\u4ef6`selector`\u7684\u7a0b\u5f0f\u5c31\u6bd4\u8f03\u9577\u4e00\u9ede\u4e86\uff0c\u540c\u6a23\u7684\u6c92\u8010\u5fc3\u7684\u8a71\u53ef\u4ee5\u5148\u8df3\u904e\u5f8c\u9762\u518d\u56de\u982d\u4f86\u5c0d\u7167\u8457\u770b\uff1a\\n\\n```js\\nVue.component(\'selector\',  {\\n  template: `\\n  <div class=\\"autocomplete-input\\">\\n    <input\\n      type=\\"text\\"\\n      placeholder=\\"\u53ef\u8f38\u5165\u82f1\u6587\u5b57\u6bcd\u67e5\u8a62\\"\\n      v-model=\\"childValue\\"\\n      @click=\\"active\\">\\n    <div\\n      class=\\"list\\"\\n      v-show=\\"isShowRecoList\\">\\n      <div\\n        class=\\"item\\"\\n        v-for=\\"item in recoList\\"\\n        @click=\\"selectRecoText(item)\\">\\n        {{item}}\\n      </div>\\n    </div>\\n    <div\\n      class=\\"triangle\\"\\n      @click=\\"active\\">\\n    </div>\\n  </div>\\n  `,\\n  props: [\'data\', \'value\'],\\n  data () {\\n    return {\\n      childValue: \'\', // \u5b50\u7d44\u4ef6\u4e2d\u7684\u8f38\u5165\u6587\u5b57\\n      isActive: false // \u662f\u5426\u555f\u7528\u63d0\u793a\u6587\u5b57\\n    }\\n  },\\n  computed: {\\n    // \u5b50\u7d44\u4ef6\u4e2d\u540c\u6b65value\u7684\u503c\\n    syncValue: {\\n      get () {\\n        return this.value\\n      },\\n      set (v) {\\n        this.$emit(\'input\', v)\\n      }\\n    },\\n    // \u662f\u5426\u986f\u793a\u63d0\u793a\u9078\u9805\\n    isShowRecoList () {\\n      if (this.isActive && this.recoList.length > 0) {\\n        return true\\n      } else {\\n        return false\\n      }\\n    },\\n    // \u63d0\u793a\u9078\u9805\\n    recoList () {\\n      return this.data.filter(d => {\\n        return d.indexOf(this.childValue) >= 0\\n      })\\n    }\\n  },\\n  methods: {\\n    // \u9078\u64c7\u9078\u9805\\n    selectRecoText (text) {\\n      this.childValue = text\\n      // \u9078\u5b9a\u5f8c\u624d\u5c07\u503c\u66f4\u65b0\u56de\u7236\u5c64\\n      this.syncValue = this.childValue\\n      // \u95dc\u9589\u63d0\u793a\u9078\u9805\\n      this.isActive = false\\n    },\\n    // \u555f\u7528\u63d0\u793a\u9078\u55ae\\n    active () {\\n      if (this.isActive === false) {\\n        this.isActive = true\\n        this.childValue = \'\'\\n      }\\n    }\\n  }\\n})\\n```\\n\\n\u4ee5\u4e0a\u70ba\u5168\u90e8\u7684\u7a0b\u5f0f\u78bc\u4e86\u3002\\n\\n\u9019\u908a\u662f\u91cd\u9ede\u4e86\uff0c\u89c0\u5bdf\u9019\u500b\u7bc4\u4f8b\u7684\u8cc7\u6599\u6d41\uff0c\u6211\u5011\u8981\u95dc\u6ce8\u7684\u662f\u7d44\u4ef6\u5167\u4e2d\u7684\u5169\u500b\u503c\uff1a\\n\\n1. `computed`\u4e2d\u7684`syncValue`\\n2. `data`\u4e2d\u7684`childValue`\u3002\\n\\n\u9996\u5148\u662f`syncValue`\uff0c\u9019\u500b\u503c\u548c\u524d\u4e00\u500b\u7ae0\u7bc0\u4e2d\u7684\u5beb\u6cd5\u662f\u4e00\u6a21\u4e00\u6a23\u7684\uff0c\u4ed6\u7684\u529f\u7528\u5c31\u662f\u7528\u4f86\u540c\u6b65\u7236\u7d44\u4ef6\u6240\u7d81\u5b9a\u7684`value`\uff1a\\n\\n```js\\ncomputed: {\\n  // \u5b50\u7d44\u4ef6\u4e2d\u540c\u6b65value\u7684\u503c\\n  syncValue: {\\n    get () {\\n      return this.value\\n    },\\n    set (v) {\\n      this.$emit(\'input\', v)\\n    }\\n  },\\n  // ..\u7565..\\n}\\n```\\n\\n\u4f46\u662f\u9019\u88e1\u6709\u500b\u95dc\u9375\u7684\u5dee\u7570\uff0c\u5728\u524d\u4e00\u500b\u7bc4\u4f8b\u7576\u4e2d`syncValue`\u662f\u76f4\u63a5\u7d81\u5b9a\u5728`input`\u8f38\u5165\u6846\u4e0a\uff0c\u6240\u4ee5\u7576\u8f38\u5165\u6846\u8f38\u5165\u6587\u5b57\u7684\u540c\u6642\u5c31\u6703\u628a\u8f38\u5165\u6846\u7684\u503c\u56de\u50b3\u7d66\u7236\u5c64\u3002\\n\\n\u4f46\u9019\u500b\u7bc4\u4f8b\u7d81\u5b9a`input`\u7684\u503c\u662f\u63a5\u4e0b\u4f86\u8981\u4ecb\u7d39\u7684`childValue`\uff1a\\n\\n```html\\n<input\\n  type=\\"text\\"\\n  placeholder=\\"\u53ef\u8f38\u5165\u82f1\u6587\u5b57\u6bcd\u67e5\u8a62\\"\\n  v-model=\\"childValue\\"\\n  @click=\\"active\\">\\n```\\n\\n\u6703\u505a\u9019\u6a23\u8a2d\u8a08\u7684\u539f\u56e0\uff0c\u5c31\u662f\u56e0\u70ba\u9019\u500bUI\u7684\u8a2d\u8a08\u662f\u5728\u4f7f\u7528\u8005\u300c\u9ede\u9078\u9078\u55ae\u300d\u7684\u6642\u5019\u624d\u6703\u628a\u503c\u56de\u50b3\u7d66\u7236\u5c64\uff0c\u5728\u300c\u9ede\u9078\u9078\u55ae\u300d\u4e4b\u524d\u8f38\u5165\u6846\u88e1\u9762\u7684\u503c\u90fd\u4e0d\u7b97\u6578\uff0c\u4ed6\u53ea\u6703\u5b58\u5728\u7d44\u4ef6\u7576\u4e2d\uff08\u4e5f\u5c31\u662f\u9019\u500b\u7bc4\u4f8b\u4e2d\u7684`childValue`\uff09\uff0c\u800c\u7236\u7d44\u4ef6\u662f\u4e0d\u6703\u77e5\u9053\u4f7f\u7528\u8005\u5012\u5e95\u5728\u8f38\u5165\u6846\u4e2d\u8f38\u5165\u4e86\u4ec0\u9ebc\u6587\u5b57\u3002\\n\\n\u4ee5\u7a0b\u5f0f\u4e0a\u9762\u4f86\u8aaa\u660e\uff0c\u9996\u5148\uff0c`childValue`\u9810\u8a2d\u5fc5\u5b9a\u70ba\u7a7a\u503c\uff0c\u6240\u4ee5\u76f4\u63a5\u5c07\u4ed6\u653e\u5728`data`\u4e4b\u4e2d\u5373\u53ef\uff1a\\n\\n```js\\ndata () {\\n  return {\\n    childValue: \'\', // \u5b50\u7d44\u4ef6\u4e2d\u7684\u8f38\u5165\u6587\u5b57\\n    // ... \u7565 ...\\n  }\\n},\\n```\\n\\n\u63a5\u8457\uff0c\u6839\u64da\u9019\u500bUI\u7684\u8a2d\u8a08\uff0c\u7576\u9ede\u9078\u9078\u55ae\u4e2d\u7684\u9078\u9805\u6642\uff0c\u8981\u628a\u8f38\u5165\u6846\u7684\u6587\u5b57\u56de\u50b3\u7d66\u7236\u5c64\u3002\u5728\u9019\u500b\u7d44\u4ef6\u4e2d\u6211\u5011\u5df2\u7d93\u5be6\u4f5c\u4e86\u540c\u6b65\u7236\u5c64\u7684`syncValue`\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u5c07`childValue`\u7684\u503c\u8907\u88fd\u7d66`syncValue`\u5c31\u5b8c\u6210\u4e86\uff1a\\n\\n```js\\nmethods: {\\n  // \u9078\u64c7\u9078\u9805\\n  selectRecoText (text) {\\n    this.childValue = text\\n    // \u9078\u5b9a\u5f8c\u624d\u5c07\u503c\u66f4\u65b0\u56de\u7236\u5c64\\n    this.syncValue = this.childValue\\n    // \u95dc\u9589\u63d0\u793a\u9078\u9805\\n    this.isActive = false\\n  },\\n  // ... \u7565 ...\\n}\\n```\\n\\n\u5982\u679c\u4e0a\u8ff0\u7684\u8aaa\u660e\u9084\u770b\u7684\u4e0d\u592a\u6e05\u695a\u7684\u8a71\uff0c\u9019\u88e1\u540c\u6a23\u7528\u672c\u7cfb\u5217\u6587\u7576\u4e2d\u4e0d\u65b7\u51fa\u73fe\u7684\u8868\u683c\u8aaa\u660e\uff0c\u76f8\u4fe1\u9019\u908a\u770b\u4e86\u5c31\u4e00\u76ee\u4e86\u7136\u4e86\uff1a\\n\\n| \u64cd\u4f5c\u8aaa\u660e            | [\u7236\u5c64] value | [\u5b50\u7d44\u4ef6] syncValue | [\u5b50\u7d44\u4ef6] childValue |\\n| ------------------- | ------------ | ------------------ | ------------------- |\\n| Step1.\u521d\u59cb\u5316        | \'\'           | \'\'                 | \'\'                  |\\n| Step2.\u8f38\u5165\u6587\u5b57\'a\'   | \'\'           | \'\'                 | \'a\'                 |\\n| Step3.\u9ede\u9078\u9078\u9805\'car\' | \'car\'        | \'car\'              | \'car\'               |\\n\\n\u672c\u7bc4\u4f8b\u7684\u8cc7\u6599\u6d41\u8a2d\u8a08\u548c\u524d\u4e00\u7bc7\u6587\u7ae0\u300cVue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e\u300d\u7684\u7bc4\u4f8b\u975e\u5e38\u76f8\u50cf\uff0c\u672c\u8cea\u4e0a\u90fd\u662f\u300c\u55ae\u5411\u8cc7\u6599\u6d41\u300d\u3002\u5dee\u7570\u53ea\u5728\u65bc\u70ba\u4e86\u5be6\u4f5c\u96d9\u5411\u7d81\u5b9a\uff0c\u5728\u5b50\u7d44\u4ef6\u4e2d\u591a\u4e86\u4e00\u500b\u4f7f\u7528computed getter/setter\u5be6\u4f5c\u7684`syncValue`\uff0c\u7528\u4f86\u540c\u6b65\u7236\u7d44\u4ef6\u7684\u503c\u3002\\n\\n[Codepen\u7bc4\u4f8b\u5b8c\u6574\u7a0b\u5f0f\u5728\u6b64](https://codepen.io/cdpqdnvr/pen/OJyOmGq)\\n\\n\\n\\n## \u56db\u3001\u5c0f\u7d50\\n\\n\u4f9d\u7167\u6211\u81ea\u5df1\u7684\u5b78\u7fd2\u6b77\u7a0b\uff0c\u958b\u767cComponent\u6642\u662f\u5148\u5b78\u7fd2\u55ae\u5411\u7d81\u5b9a\uff0c\u63a5\u8457\u53c8\u5bebcode\u4e86\u4e00\u6bb5\u6642\u9593\uff0c\u56e0\u5de5\u4f5c\u9700\u6c42\u4e0a\u9664\u4e86\u4f7f\u7528\u73fe\u6210\u5957\u4ef6\u4e4b\u5916\uff0c\u6709\u66f4\u8fd1\u4e00\u6b65\u7684\u9700\u6c42\u9700\u8981\u81ea\u5df1\u958b\u767c\u4e00\u4e9b\u57fa\u790e\u7684\u901a\u7528\u7d44\u4ef6\uff0c\u958b\u59cb\u8a66\u8457\u5b78\u7fd2\u4f7f\u7528`.sync`\uff08v2.x\u8a9e\u6cd5\uff09\u4ee5\u53ca`v-model`\uff0c\u4f46\u662f\u4e00\u958b\u59cb\u662f\u571f\u6cd5\u934a\u92fc\uff0c\u6240\u4ee5\u5beb\u51fa\u4f86\u4e00\u4e9b\u5f88\u5947\u602a\u53c8\u5f88\u591abug\u7684\u7a0b\u5f0f\uff0c\u7136\u5f8c\u624d\u6162\u6162\u638c\u63e1\u4e86\u4e00\u4e9b\u6bd4\u8f03\u826f\u597d\u7684\u7a0b\u5f0f\u5beb\u6cd5\uff08\u6bd4\u5982\u8aaa\u672c\u6587\u7528\u4f7f\u7528\u7684computed getter/setter\u5c31\u662f\u4e00\u500b\u5f88\u597d\u7684\u65b9\u5f0f\uff09\u3002\\n\\n\u5373\u4f7f\u662f\u719f\u6089\u4e86\u7a0b\u5f0f\u548c\u76f8\u95dc\u6280\u5de7\uff0c\u4f46\u662f\u4e5f\u662f\u7d2f\u7a4d\u4e86\u4e00\u4e9b\u7d93\u9a57\u624d\u53c8\u628a\u300c\u55ae\u5411\u8cc7\u6599\u6d41\u300d\u4ee5\u53ca\u300c\u96d9\u5411\u8cc7\u6599\u6d41\u300d\u9019\u5169\u8005\u7684\u6982\u5ff5\u5728\u8166\u4e2d\u6709\u6e05\u695a\u7684\u5206\u5225\u3002\\n\\n\u6211\u81ea\u8a8d\u70ba\u524d\u4e00\u7bc7\u6587\u7ae0\u548c\u672c\u6587\u6e96\u5099\u7684\u7bc4\u4f8b\u7a0b\u5f0f\u61c9\u8a72\u90fd\u9084\u4e0d\u932f\uff08\u81ea\u6211\u611f\u89ba\u826f\u597d\uff09\uff0c\u53ea\u662f\u56e0\u70ba\u7a0b\u5f0f\u4e5f\u6c92\u8fa6\u6cd5\u6fc3\u7e2e\u7684\u5f88\u77ed\uff0c\u5beb\u5f97\u6709\u9ede\u843d\u843d\u9577\uff0c\u5e0c\u671b\u4e0d\u6703\u8b93\u5927\u5bb6\u592a\u96e3\u95b1\u8b80\u3002"},{"id":"2020/05/09/vue-component-dataflow-3","metadata":{"permalink":"/blog/2020/05/09/vue-component-dataflow-3","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/2020-05-09-Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (3) \u96d9\u5411\u7d81\u5b9a\u2013\u5927\u7d44\u4ef6.md","source":"@site/blog/2020/2020-05-09-Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (3) \u96d9\u5411\u7d81\u5b9a\u2013\u5927\u7d44\u4ef6.md","title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (3) \u96d9\u5411\u7d81\u5b9a\u2013\u5927\u7d44\u4ef6","description":"\u4e00\u3001\u7bc4\u4f8b\u8aaa\u660e","date":"2020-05-09T00:00:00.000Z","formattedDate":"May 9, 2020","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"vue","permalink":"/blog/tags/vue"}],"readingTime":19.775,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2020/05/09/vue-component-dataflow-3","title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (3) \u96d9\u5411\u7d81\u5b9a\u2013\u5927\u7d44\u4ef6","authors":"thunderboy","tags":["javascript","vue"]},"prevItem":{"title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6","permalink":"/blog/2020/05/09/vue-component-dataflow-2"},"nextItem":{"title":"\u7c21\u55ae\u770bJavascript\u7684\u50b3\u503c\u4ee5\u53ca\u50b3\u53c3\u8003","permalink":"/blog/2020/02/28/js-call-by-reference"}},"content":"## \u4e00\u3001\u7bc4\u4f8b\u8aaa\u660e\\n\\n\u672c\u6587\u662f\u7cfb\u5217\u6587\u7576\u4e2d\u8a0e\u8ad6\u300c\u96d9\u5411\u7d81\u5b9a\u300d\u7684\u7b2c\u4e8c\u7bc7\u6587\u7ae0\uff0c\u5728\u524d\u4e00\u7bc7\u6587\u7ae0\u300cVue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6\u300d\u7576\u4e2d\u6709\u4ecb\u7d39\u4e86\u5169\u7a2e\uff08\u6211\u81ea\u5df1\u7684\u7d93\u9a57\u6cd5\u5247\u5206\u985e\uff09\u6703\u4f7f\u7528\u96d9\u5411\u7d81\u5b9a\u7684\u7d44\u4ef6\u985e\u578b\uff1a\\n\\n1. \u901a\u7528\u7d44\u4ef6\\n2. \u5927\u7d44\u4ef6\\n\\n\x3c!--truncate--\x3e\\n\\n\u672c\u7bc7\u6587\u7ae0\u5c07\u91dd\u5c0d\u300c\u5927\u7d44\u4ef6\u300d\u7684\u90e8\u4efd\u505a\u8a0e\u8ad6\u3002\\n\\n\u524d\u4e00\u7bc7\u6587\u7ae0\u6709\u7528\u4e00\u500b\u300c\u5047\u60f3\u7684\u5927\u578b\u8868\u55ae\u300d\u4f86\u505a\u8aaa\u660e\uff0c\u672c\u7bc7\u5c07\u5ef6\u7e8c\u6b64\u5047\u60f3\u6848\u4f8b\uff0c\u5be6\u4f5c\u4e00\u500b\u7c21\u55ae\u7684\u7bc4\u4f8b\u4f86\u8a0e\u8ad6\u3002\\n\\n\u958b\u59cb\u4e4b\u524d\u60f3\u7c21\u55ae\u5fa9\u7fd2\u4e00\u4e0b\uff0c\u7576\u6642\u7684\u6848\u4f8b\u8aaa\u660e\u662f\u9019\u6a23\u7684\uff1a\\n\\n> \u4e00\u7a2e\u60c5\u6cc1\u662f\uff0c\u6211\u5011\u88fd\u4f5cComponent\u6700\u4e3b\u8981\u7684\u539f\u56e0\u4e0d\u662f\u70ba\u4e86reuse\uff08\u53ef\u8907\u7528\uff09\u7684\u7406\u7531\uff0c\u55ae\u7d14\u662f\u7a0b\u5f0f\u592a\u9577\u4e86\u3002\\n>\\n> \u5047\u8a2d\u6709\u4e00\u500b\u975e\u5e38\u5de8\u5927\u7684\u8868\u55ae\uff0c\u4e26\u4e14\u6709\u4e94\u500b\u5206\u9801\uff0c\u6709500\u500b\u6b04\u4f4d\u597d\u4e86\u2026\uff08\u7565\uff09\u2026\\n>\\n> \u53ef\u60f3\u800c\u77e5\u9019\u652f\u7a0b\u5f0f\u9435\u5b9a\u662f\u975e\u5e38\u80a5\u5927\uff0c\u4e09\u4e94\u5343\u884c\u90fd\u662f\u6709\u53ef\u80fd\u7684\uff0c\u70ba\u4e86\u53ef\u7dad\u8b77\u6027\u5927\u591a\u5de5\u7a0b\u5e2b\u90fd\u6703\u60f3\u628a\u7a0b\u5f0f\u80fd\u62bd\u51fa\u4f86\u5c31\u62bd\u51fa\u4f86\u3002\\n>\\n> \u5728\u9019\u500b\u6211\u80e1\u4e82\u63b0\u7684\u4f8b\u5b50\u7576\u4e2d\uff0c\u9019\u4e94\u500b\u9801\u7c64\u57fa\u672c\u4e0a\u88e1\u9762\u7684\u5167\u5bb9\u90fd\u662f\u5404\u81ea\u7368\u7acb\u4e0d\u4e92\u76f8\u5f71\u97ff\u7684\uff0c\u6240\u4ee5\u4ee5\u6211\u4f86\u8aaa\u53ef\u80fd\u5c31\u6703\u518d\u628a\u9019\u4e94\u500b\u9801\u7c64\u518d\u62c6\u6210\u4e94\u500bComponent\\n\\n\u5047\u60f3\u5716\u5982\u4e0b\u5716\uff1a\\n\\n![](./_img/20200509/component_data_stream_2-9025306.png)\\n\\n\u4e0d\u904e\u4ee5\u7bc4\u4f8b\u4f86\u8aaa\uff0c\u8981\u505a500\u500b\u6b04\u4f4d\u592a\u4f54\u7bc7\u5e45\u4e86\uff0c\u70ba\u65b9\u4fbf\u89e3\u8aaa\uff0c\u6211\u5be6\u4f5c\u7684\u7bc4\u4f8b\u53ea\u6709\u300c\u5169\u500b\u9801\u7c64\u300d\u300c\u54045\u500b\u6b04\u4f4d\u300d\u3002\\n\\n\u756b\u9762\u5982\u4e0b\uff1a\\n\\n\\n\\n![image-20200509192624575](./_img/20200509/image-20200509192624575.png)\\n\\n\u7236\u5c64\u4e3b\u7a0b\u5f0fhtml\u7d50\u69cb\u5982\u4e0b\uff1a\\n\\n```html\\n<div id=\\"app\\">\\n  \x3c!-- \u9801\u7c64\u6309\u9215 --\x3e\\n  <div>\\n    <button\\n      @click=\\"changeTab(\'tab1\')\\">\\n      \u9801\u7c641\\n    </button>\\n    <button\\n      @click=\\"changeTab(\'tab2\')\\">\\n      \u9801\u7c642\\n    </button>\\n  </div>\\n  \x3c!-- \u8868\u55ae\u5167\u5bb9 --\x3e\\n  <div\\n    :is=\\"currentTab\\"\\n    :tab-data=\\"currentTabData\\">\\n  </div>\\n  \x3c!-- \u6aa2\u8996JSON\u8cc7\u6599 --\x3e\\n  <hr></hr>\\n  <div>\u8868\u55aeJSON\uff1a</div>\\n  <pre>{{form}}</pre>\\n</div>\\n```\\n\\n\u672c\u7bc4\u4f8b\u5c07\u88fd\u4f5c\u5169\u500b\u7d44\u4ef6\u5206\u5225\u70ba\u5169\u500b\u9801\u7c64\u7684\u5167\u5bb9\uff0c\u540d\u7a31\u70ba`tab1`\u53ca`tab2`\u3002\u7576\u9ede\u64ca\u756b\u9762\u4e2d\u300c\u9801\u7c641\u300d\u6309\u9215\uff0c\u5247\u5207\u63db\u70ba`tab1`\uff0c\u9ede\u64ca\u300c\u9801\u7c642\u300d\u6309\u9215\u5207\u63db\u70ba`tab2`\u3002\\n\\n\u5982\u540c\u524d\u9762\u7684\u6848\u4f8b\u8aaa\u660e\uff0c\u9019\u6574\u5f35\u8868\u55ae\u7684\u8cc7\u6599\u4e3b\u8981\u9084\u662f\u653e\u5728\u7236\u5c64\uff0c\u4e26\u900f\u904e\u96d9\u5411\u7d81\u5b9a\u5c07`tab-data`\u50b3\u5165\u7d44\u4ef6\uff08`tab1`\u53ca`tab2`\uff09\u5167\u3002\\n\\n\u7236\u5c64\u7684\u4e3b\u7a0b\u5f0f\u5982\u4e0b\uff1a\\n\\n```js\\nconst vm = new Vue({\\n  el: \'#app\',\\n  data: {\\n    // \u76ee\u524d\u9801\u7c64\u4f7f\u7528\u7684component\u540d\u7a31\\n    currentTab: \'tab1\',\\n    // \u8868\u55ae\u8cc7\u6599\\n    form: {\\n      // \u9801\u7c641\\n      tab1: {\\n        column1: \'\',\\n        column2: \'\',\\n        column3: \'\',\\n        column4: \'\',\\n        column5: \'\',\\n      },\\n      // \u9801\u7c642\\n      tab2: {\\n        column1: \'\',\\n        column2: \'\',\\n        column3: \'\',\\n        column4: \'\',\\n        column5: \'\',\\n      }\\n    }\\n  },\\n  computed: {\\n    // \u76ee\u524d\u7684\u9801\u7c64\u8cc7\u8cc7\u6599\\n    currentTabData () {\\n      return this.form[this.currentTab] // tab1 or tab2\\n    }\\n  },\\n  methods: {\\n    // \u5207\u63db\u9801\u7c64\\n    changeTab (name) {\\n      this.currentTab = name\\n    }\\n  }\\n})\\n```\\n\\n\u4ee5\u4e0a\u7a0b\u5f0f\u78bc\u5728\u5f8c\u7e8c\u8aaa\u660e\u90fd\u4e0d\u6703\u8b8a\u4e86\u3002\\n\\n\u6703\u6709\u5dee\u7570\u7684\u5c31\u5728\u65bc\u7d44\u4ef6\u4e2d\u8981\u5be6\u4f5c\u7684\u65b9\u5f0f\uff0c\u5c31\u5982\u540c\u672c\u7cfb\u5217\u6587\u7ae0\u7684\u7cbe\u795e\u90fd\u662f\u4f9d\u7167\u6211\u81ea\u5df1\u7684\u7d93\u9a57\u6cd5\u5247\u6240\u6574\u7406\u7684\uff0c\u4ee5\u4e0b\u5c07\u5206\u70ba\u5169\u7a2e\u5be6\u4f5c\u65b9\u5f0f\u4f86\u8a0e\u8ad6\uff1a\\n\\n1. \u50b3\u53c3\u8003\u7d66\u5b50\u7d44\u4ef6\\n2. \u5b50\u7d44\u4ef6\u4f7f\u7528computed\u7684get/set\u540c\u6b65prop\\n\\n\\n\\n## \u4e8c\u3001\u50b3\u53c3\u8003\u7d66\u5b50\u7d44\u4ef6\\n\\n\u9019\u500b\u7ae0\u7bc0\u7684\u6a19\u984c\u6211\u672c\u4f86\u60f3\u4e0b\u7684\u662f\u300c\u6709\u7528\u4f46\u662f\u4e0d\u5efa\u8b70\u7684\u505a\u6cd5\u300d\uff0c\u4e0d\u904e\u5f8c\u4f86\u6587\u7ae0\u7d50\u69cb\u7684\u5b89\u6392\u56e0\u7d20\u5f8c\u4f86\u5c31\u653e\u68c4\u4e86\u3002\u81f3\u65bc\u70ba\u4ec0\u9ebc\u4e0d\u5efa\u8b70\uff0c\u6211\u5f8c\u9762\u6703\u518d\u505a\u8aaa\u660e\u3002\\n\\n\u57fa\u672c\u4e0a\u9019\u500b\u7ae0\u7bc0\u8981\u8a0e\u8ad6\u7684\u5c31\u662f\u5229\u7528Javascript\u50b3\u53c3\u8003(call by reference/pass by reference)\u7684\u7279\u6027\u4f86\u50b3\u503c\u3002\\n\\n\u540c\u6a23\u7684\u7bc4\u4f8b\u6211\u5728\u672c\u7cfb\u5217\u6587\u7b2c\u4e00\u7bc7\u300cVue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e\u300d\u7576\u4e2d\u4e5f\u6709\u4f7f\u7528\u904e\uff1a\\n\\n```js\\nlet obj = { number: 100 }\\nfunction add(newObj){\\n  newObj.number = newObj.number + 1\\n}\\nadd(obj)\\nconsole.log(obj.number) // \u5370\u51fa101\\n```\\n\\n\u5728\u9019\u500b\u7bc4\u4f8b\u4e2d\uff0c\u6982\u5ff5\u4e0a\u4f60\u53ef\u4ee5\u628a`add` function\u5047\u60f3\u6210Vue Component\uff0c\u7576\u4f60\u900f\u904e\u7d81\u5b9a\u5c07\u503c\u50b3\u5165\u7d44\u4ef6\u4e4b\u5f8c\uff0c\u7531\u65bc\u4f60\u50b3\u5165\u7684\u503c\u7684\u578b\u5225\u662f\u300c\u50b3\u53c3\u8003\u300d\u7684\u8a71\uff08\u4e5f\u5c31\u662f\u578b\u5225\u70ba\u7269\u4ef6\u6216\u9663\u5217\uff09\uff0c\u7576\u7d44\u4ef6\u4e2d\u7684prop\u7684\u503c\u88ab\u6539\u8b8a\u4e86\uff0c\u7236\u5c64\u7684\u503c\u662f\u6709\u53ef\u80fd\u6703\u8ddf\u8457\u6539\u8b8a\u7684\u3002\\n\\n\u5728\u672c\u7cfb\u5217\u6587\u7b2c\u4e00\u7bc7\u300cVue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (1) \u55ae\u5411\u50b3\u905e\u300d\uff0c\u7576\u4e2d\u662f\u5efa\u8b70\u5b50\u7d44\u4ef6\u5167\u53ef\u7528\u6df1\u62f7\u8c9d\u7684\u65b9\u5f0f\u8907\u88fd\u4e00\u4efd\u5b58\u5728\u7d44\u4ef6\u5167\u4f86\u7ba1\u7406\u3002\u4e0d\u904e\u7531\u65bc\u672c\u6587\u7bc4\u4f8b\u5c31\u662f\u8981\u5be6\u4f5c\u96d9\u5411\u7d81\u5b9a\uff0c\u6240\u4ee5\u9019\u908a\u53cd\u800c\u662f\u4e0d\u6703\u6709\u554f\u984c\u7684\u3002\\n\\n\u61c9\u7528\u5728\u9019\u500b\u7bc4\u4f8b\u7576\u4e2d\uff0c\u7236\u5c64\u5c07`currentTabData`\u900f\u904e\u8cc7\u6599\u7d81\u5b9a\u50b3\u9001\u7d66\u7d44\u4ef6\uff0c`currentTabData`\u4e5f\u5c31\u662f\u5b58\u5728\u7236\u5c64\u8868\u55ae\u8cc7\u6599\u7684`this.form.tab1`\u6216`this.form.tab2`\uff08\u4f9d\u7167\u9801\u7c64\u7684\u5207\u63db\u6c7a\u5b9a\u50b3\u5165\u54ea\u4e00\u500b\uff09\\n\\n```js\\ncomputed: {\\n  // \u76ee\u524d\u7684\u9801\u7c64\u8cc7\u8cc7\u6599\\n  currentTabData () {\\n    return this.form[this.currentTab] // tab1 or tab2\\n  }\\n},\\n```\\n\\n\u7d44\u4ef6\u7684`prop` `tabData`\u53d6\u5230\u503c\u5c31\u76f4\u63a5\u7d81\u5b9a\u5230\u8868\u55ae\u6b04\u4f4d\u4e0a\u4e86\uff0c\u7a0b\u5f0f\u78bc\u5982\u4e0b\uff1a\\n\\n```js\\nVue.component(\'tab1\', {\\n  template: `\\n  <div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d1\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"tabData.column1\\">\\n    </div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d2\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"tabData.column2\\">\\n    </div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d3\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"tabData.column3\\">\\n    </div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d4\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"tabData.column4\\">\\n    </div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d5\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"tabData.column5\\">\\n    </div>\\n  </div>\\n  `,\\n  props: [\'tabData\'],\\n})\\n// tab2 \u7684\u7a0b\u5f0f\u78bc\u5b8c\u5168\u76f8\u540c\u6240\u4ee5\u5c31\u7565\u904e\u4e86\\n```\\n\\n\u975e\u5e38\u7c21\u6f54\u660e\u4e86\u3002\\n\\n\u5be6\u969b\u4e0a\u9019\u500b\u505a\u6cd5\u6211\u8a8d\u70ba\u61c9\u8a72\u7a31\u4e0d\u4e0a\u932f\u8aa4\uff0c\u5fc5\u7adf\u9019\u53ea\u662fJavascript\u672c\u8eab\u7684\u7279\u6027\u800c\u5df2\u3002\u4f46\u81f3\u65bc\u6211\u4ecd\u7136\u4e0d\u63a8\u85a6\u7684\u539f\u56e0\u6709\u4ee5\u4e0b\u4e09\u9ede\uff1a\\n\\n1. \u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\u9084\u662f\u6709\u53ef\u80fd\u7121\u6cd5\u300c\u56de\u50b3\u300d\u7d66\u7236\u7d44\u4ef6\uff08\u8f03\u6b63\u78ba\u8aaa\u6cd5\u662f\u5982\u679c\u7d44\u4ef6\u4e2d\u4f7f\u7528\u300c\u50b3\u503c\u300d\u7684\u65b9\u5f0f\u4f86\u4fee\u6539prop\uff09\u3002\u7528\u4e00\u500b\u5148\u524d\u4e5f\u7528\u904e\u7684\u4e00\u500b\u7bc4\u4f8b\u4f86\u8aaa\u660e\u9019\u7a2eJavascript\u7279\u6027\u3002\\n\\n```js\\nlet obj = { number: 100 }\\nfunction add(newObj){\\n  newObj = { number: 200 }\\n}\\nadd(obj)\\nconsole.log(obj.number) // \u5370\u51fa100\\n```\\n\\n2. \u7a0b\u5f0f\u7dad\u8b77\u6027\u548c\u53ef\u8b80\u6027\u4e0a\u6709\u4e9b\u554f\u984c\uff0c\u7562\u7adf\u7d81\u5b9a\u8cc7\u6599\u4f7f\u7528`v-bind` \uff0c\u5c0d\u7dad\u8b77\u7a0b\u5f0f\u7684\u4eba\u53ef\u80fd\u4e0d\u6703\u610f\u8b58\u5230\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u662f\u9023\u52d5\u7684\u3002\\n3. \u6709\u66f4\u597d\u7684\u505a\u6cd5\u7684\u60c5\u6cc1\u4e0b\u6211\u4e0d\u89ba\u5f97\u6709\u4ec0\u9ebc\u539f\u56e0\u975e\u5f97\u8981\u4f7f\u7528\u4ed6\u3002\\n\\n\u95dc\u65bc\u7b2c\u4e09\u9ede\u300c\u66f4\u597d\u7684\u505a\u6cd5\u300d\u518d\u4e0b\u4e00\u500b\u7ae0\u7bc0\u6703\u9032\u884c\u8a0e\u8ad6\u3002\\n\\n\\n\\n[Codepen\u7bc4\u4f8b\u5b8c\u6574\u7a0b\u5f0f\u5728\u6b64](https://codepen.io/cdpqdnvr/pen/wvKjvEQ)\\n\\n\\n\\n## \u4e09\u3001\u5b50\u7d44\u4ef6\u4f7f\u7528computed\u7684get/set\u540c\u6b65prop\\n\\n\u95dc\u65bccomputed\u7684getter/setter\u5beb\u6cd5\u548c\u6982\u5ff5\u4e0a\u548c\u524d\u4e00\u7bc7\u6587\u7ae0\u300cVue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (2) \u96d9\u5411\u7d81\u5b9a\u2013\u901a\u7528\u7d44\u4ef6\u300d\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff0c\u6240\u4ee5\u5c31\u4e0d\u6703\u82b1\u592a\u591a\u7bc7\u5e45\u4f86\u8aaa\u660e\uff0c\u5c31\u76f4\u63a5\u7e8c\u524d\u9762\u7684\u7bc4\u4f8b\u4f86\u505a\u4fee\u6539\u3002\\n\\n\u9996\u5148\u5c07\u7d81\u5b9a\u8cc7\u6599\u7684\u65b9\u5f0f\u6539\u70ba\u96d9\u5411\u7d81\u5b9a\u7684`v-model`\uff1a\\n\\n```html\\n<div\\n  :is=\\"currentTab\\"\\n  v-model=\\"currentTabData\\">\\n</div>\\n```\\n\\n\u914d\u5408\u4f7f\u7528`v-model`\uff0c\u5b50\u7d44\u4ef6\u4e5f\u8981\u6539\u70ba\u642d\u914d\u4f7f\u7528\u540d\u7a31\u70ba`value`\u7684\u300cprop\u300d\u4ee5\u53ca`input`\u300c\u4e8b\u4ef6\u300d\uff08\u6216\u8005\u8aaa`emit`\uff09\uff1a\\n\\n```js\\nVue.component(\'tab1\', {\\n  template: `\\n  <div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d1\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"syncTabData.column1\\">\\n    </div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d2\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"syncTabData.column2\\">\\n    </div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d3\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"syncTabData.column3\\">\\n    </div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d4\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"syncTabData.column4\\">\\n    </div>\\n    <div>\\n      \u9801\u7c641\u6b04\u4f4d5\\n      <input\\n        type=\\"text\\"\\n        v-model=\\"syncTabData.column5\\">\\n    </div>\\n  </div>\\n  `,\\n  props: [\'value\'],\\n  computed: {\\n    syncTabData: {\\n      get () {\\n        return this.value\\n      },\\n      set (v) {\\n        this.$emit(\'input\', v)\\n      }\\n    }\\n  }\\n})\\n// tab2 \u7684\u7a0b\u5f0f\u78bc\u5b8c\u5168\u76f8\u540c\u6240\u4ee5\u5c31\u7565\u904e\u4e86\\n```\\n\\n\u5168\u90e8\u7a0b\u5f0f\u78bc\u5982\u4e0a\u3002\\n\\n\u7576\u4e2d\u6700\u5927\u7684\u5dee\u7570\u5c31\u662f\u524d\u4e00\u500b\u7ae0\u7bc0\u7576\u4e2d\u8868\u55ae\u5167\u76f4\u63a5\u4f7f\u7528`prop`\u4f86\u7d81\u5b9a\u8cc7\u6599\uff0c\u800c\u9019\u500b\u7bc4\u4f8b\u5728`computed`\u5efa\u4e86\u4e00\u500b`syncTabData`\u4f86\u300c\u540c\u6b65\u300d\u7236\u7d44\u4ef6\u7684\u503c\uff1a\\n\\n```js\\ncomputed: {\\n  syncTabData: {\\n    get () {\\n      return this.value\\n    },\\n    set (v) {\\n      this.$emit(\'input\', v)\\n    }\\n  }\\n}\\n```\\n\\n\u63db\u53e5\u8a71\u8aaa\uff0c\u8868\u55ae\u6240\u6709\u7684\u6b04\u4f4d\u8cc7\u6599\uff08\u5305\u542b\u9801\u7c641\u53ca\u9801\u7c642\uff09\u5168\u90e8\u90fd\u662f\u653e\u5728\u7236\u7d44\u4ef6\u7684\uff0c\u5b50\u7d44\u4ef6\u4e2d\u7684\u300c\u53d6\u7528\u300d\u548c\u300c\u5beb\u5165\u300d\u90fd\u662f\u76f4\u63a5\u5c0d\u7236\u7d44\u4ef6\uff0c\u9019\u6a23\u4e00\u4f86\u5728\u7a0b\u5f0f\u7684\u7dad\u8b77\u6027\u548c\u53ef\u8b80\u6027\u90fd\u5927\u5927\u6539\u5584\u4e86\u3002\\n\\n\\n\\n[Codepen\u7bc4\u4f8b\u5b8c\u6574\u7a0b\u5f0f\u5728\u6b64](https://codepen.io/cdpqdnvr/pen/PoPeqdp)\\n\\n\\n\\n## \u56db\u3001\u66f4\u8907\u96dc\u7684\u60c5\u5883\\n\\n\u672c\u6587\u7684\u7bc4\u4f8b\u5176\u5be6\u662f\u7c21\u5316\u4e86\u771f\u5be6\u4e16\u754c\u7684\u60c5\u5883\uff0c\u771f\u5be6\u4e16\u754c\u53ef\u80fd\u662f\u9019\u6a23\u7684\uff1a\\n\\n![image-20200509224422176](./_img/20200509/image-20200509224422176.png)\\n\\n\u4ee5\u9019\u500b\u7bc4\u4f8b\u4f86\u8aaa\uff0c\u7121\u8ad6\u66fe\u66fe\u66fe\u2026\u5b6b\u7d44\u4ef6\u50b3\u5230\u4e86\u7b2c\u5e7e\u4ee3\uff0c\u6700\u4e0b\u9762\u90a3\u4e00\u5c64\u6700\u7d42\u9084\u662f\u5f97\u96d9\u5411\u7d81\u5b9a\u5230\u6700\u4e0a\u5c64\u7684\u8868\u55ae\u8cc7\u6599\u3002\\n\\n\u9019\u7a2e\u8f03\u5927\u578b\u7684\u7d44\u4ef6\u5e38\u5e38\u4e5f\u4f34\u96a8\u4e00\u4e9b\u7279\u6027\u662f\u4ee5\u4e0a\u7bc4\u4f8b\u4e2d\u6c92\u6709\u51fa\u73fe\u7684\uff1a\\n\\n1. \u4e0d\u4e00\u5b9a\u53ea\u6703\u6709\u7236\u8207\u5b50\u5169\u5c64\u800c\u5df2\uff0c\u6709\u53ef\u80fd\u6703\u662f\u4e00\u500b\u591a\u5c64\u7684\u3001\u50cf\u6a39\u4e00\u6a23\u7684\u5de2\u72c0\u7d50\u69cb\uff0c\u8cc7\u6599\u50b3\u905e\u4e0a\u96a8\u8457\u7d50\u69cb\u7684\u8907\u96dc\u5ea6\u63d0\u9ad8\uff0c\u958b\u767c\u4e0a\u4e5f\u6703\u8b8a\u5f97\u7570\u5e38\u8907\u96dc\u3002\\n\\n   ![VueJS \u5143\u4ef6(Component) \u4e4b\u9593\u8cc7\u6599\u6e9d\u901a\u50b3\u905e\u7684\u65b9\u5f0f| Kuro\'s Blog](./_img/20200509/vue-instance.png)\\n\\n2. \u5927\u578b\u7d44\u4ef6\u4e5f\u53ef\u80fd\u6709reuse\uff08\u53ef\u8907\u7528\uff09\u7684\u9700\u6c42\uff0c\u70ba\u4e86reuse\u7684\u9700\u6c42\u800c\u5c0e\u81f4\u5b50\u7d44\u4ef6\u4e2d\u5fc5\u9808\u5c07\u67d0\u4e9b\u539f\u672c\u5728\u5167\u90e8\u7ba1\u7406\u5373\u53ef\u7684\u72c0\u614b\uff0c\u8b8a\u6210\u9700\u7531\u6700\u5916\u5c64\u7684\u7236\u7d44\u4ef6\u4f86\u50b3\u905e\u9032\u53bb\uff08\u6bd4\u5982\u8aaa\uff0c\u5047\u8a2d\u67d0\u500b\u7d44\u4ef6\u662f\u8981\u6253api\u7684\uff0c\u539f\u672c\u7684\u8a2d\u8a08\u53ea\u8981\u5728\u7d44\u4ef6\u5167\u6253api\u5373\u53ef\uff0c\u4f46\u70ba\u4e86\u8981\u8b93\u53e6\u4e00\u500b\u9801\u9762\u4e5f\u80fd\u4f7f\u7528\u8a72\u7d44\u4ef6\u4f46\u662f\u9700\u6253\u53e6\u5916\u4e00\u652fapi\uff0c\u800c\u6539\u6210\u5c07\u547c\u53ebapi\u7684\u4e8b\u4ef6\u5f80\u7236\u7d44\u4ef6\u50b3\uff0c\u7531\u7236\u7d44\u4ef6\u6253api\uff09\uff0c\u9019\u6a23\u7684\u8a2d\u8a08\u4e5f\u6703\u5c0e\u81f4\u7a0b\u5f0f\u63d0\u5347\u4e0d\u5fc5\u8981\u7684\u8907\u96dc\u5ea6\u3002\\n\\n\u70ba\u4e86\u907f\u514d\u984c\u76ee\u8b8a\u5f97\u592a\u767c\u6563\uff0c\u5f8c\u9762\u7684\u8a0e\u8ad6\u5c31\u7576\u4f5c\u88dc\u5145\uff0c\u5c31\u4e0d\u6703\u5beb\u5f97\u592a\u6df1\u5165\u4e86\uff08\u6211\u4e5f\u5beb\u4e0d\u5b8c\u4e86\u2026\uff09\u3002\\n\\n\u540c\u6a23\u53c8\u662f\u7d93\u9a57\u6cd5\u5247\uff0c\u5c31\u6211\u81ea\u5df1\u6709\u9650\u7684\u958b\u767c\u7d93\u9a57\u4f86\u8aaa\u6211\u4f7f\u7528\u904e\u9019\u5169\u7a2e\u89e3\u6c7a\u65b9\u6848\uff1a\\n\\n1. Vuex\\n2. Container Component (Smart/Dumb Component)\\n\\n\u9019\u5169\u8005\u5176\u5be6\u662f\u4e0d\u540c\u7684\u6771\u897f\uff0c\u9069\u7528\u60c5\u6cc1\u4e0d\u540c\uff0c\u7576\u7136\u4e5f\u6709\u53ef\u80fd\u662f\u4e00\u8d77\u4f7f\u7528\u7684\u3002\\n\\n\\n\\n### Vuex\\n\\n\u5927\u5bb6\u53ef\u4ee5\u8a66\u8457\u56de\u60f3\u4e00\u958b\u59cb\u5b78\u7fd2Vue\u7684\u6642\u5019\uff0c\u9084\u6c92\u6709\u8a66\u8457\u5305\u88dd\u592a\u591aComponent\u4e4b\u524d\uff0c\u628a\u6574\u9801\u7684\u7a0b\u5f0f\u78bc\u5beb\u5728\u540c\u4e00\u652fComponent\u7684\u4e16\u754c\u591a\u9ebc\u7f8e\u597d\uff08\uff1f\uff09\u3002\\n\\n\u96a8\u8457Component\u5207\u5206\u7684\u6108\u4f86\u6108\u7d30\uff0c\u7a0b\u5f0f\u78bc\u96d6\u7136\u8b8a\u77ed\u4e86\uff0c\u53ef\u662f\u958b\u767c\u6642\u9593\u53cd\u800c\u8b8a\u9577\u4e86\uff0c\u5404\u7a2e\u610f\u60f3\u4e0d\u5230\u7684\u554f\u984c\u4e5f\u96a8\u4e4b\u51fa\u73fe\uff08\u672c\u7cfb\u5217\u6587\u7684\u5404\u7a2e\u7d93\u9a57\u8ac7\u4e5f\u662f\u6211\u5728\u9019\u500b\u904e\u7a0b\u7576\u4e2d\u6478\u7d22\u51fa\u4f86\u7684\uff09\u3002\\n\\n\u539f\u672c\u5beb\u5728\u540c\u4e00\u652f\u7a0b\u5f0f\u7684\u8b8a\u6578\uff0c\u8b8a\u6210\u6563\u843d\u5728\u5404\u500b\u7d44\u4ef6\u4e4b\u4e2d\uff0c\u8981\u4e0d\u65b7\u7684props down/events up\u50b3\u905e\u4e0b\u53bb\u50b3\u905e\u4e0a\u4f86\u3002\\n\\n\u4f7f\u7528Vuex\u4e4b\u5f8c\uff0c\u4f60\u5c31\u53ef\u4ee5\u5c07\u9019\u7a2e\u9700\u8981\u8de8\u591a\u5c64\u50b3\u905e\u7684\u8b8a\u6578\u7d71\u4e00\u4ea4\u7531Vuex\u4f86\u505a\u7ba1\u7406\u3002\\n\\n\u4e0d\u904e\u95dc\u65bcVuex\u672c\u8eab\u8b70\u984c\u904e\u65bc\u9f90\u5927\uff0c\u4ee5\u4e0b\u793a\u610f\u5716\u5c31\u756b\u6210\u4e00\u500b\u65b9\u584a\u7576\u6210\u9ed1\u76d2\u5b50\u5373\u53ef\u3002\\n\\n![image-20200509223445726](./_img/20200509/image-20200509223445726.png)\\n\\n\\n\\n### Container Component (Smart/Dumb Component)\\n\\n\u4ee5\u672c\u7cfb\u5217\u6587\u7684\u4e3b\u984c\u4f86\u8aaa\u7a81\u7136\u5192\u51fa\u4f86\u4e00\u500bContainer Component\u5c31\u7a0d\u5fae\u6709\u9ede\u8df3tone\u4e86\uff0c\u4f46\u662f\u5f9e\u67d0\u500b\u89d2\u5ea6\u4f86\u8aaa\u4ed6\u53ef\u4ee5\u89e3\u6c7a\u67d0\u4e9b\u8cc7\u6599\u6d41\u8a2d\u8a08\u4e0a\u7684\u554f\u984c\u3002\\n\\nSmart/Dumb Component\u662f\u4e00\u500b\u7531Reat\u793e\u7fa4\u4e2d\u5728\u8a0e\u8ad6\u7684\u4e00\u500b\u8a2d\u8a08\u6a21\u5f0f\uff0c\u5176\u7c21\u55ae\u5b9a\u7fa9\u5982\u4e0b\uff1a\\n\\n* Smart Component\uff1a\u4f9d\u8cf4api\u6216\u8005\u5176\u4ed6\u72c0\u614b\u7ba1\u7406\u8005\uff08\u5982Vuex\uff09\uff0c\u4e26\u6703\u5c07\u8cc7\u6599\u50b3\u905e\u7d66Dumb Component\u3002\\n* Dumb Component\uff1a\u55ae\u7d14\u7684\u6839\u64daprops\u4f86\u9032\u884c\u6e32\u67d3\u3002\\n\\n\u7d93\u904e\u5982\u6b64\u5283\u5206\u4e4b\u5f8c\uff0c\u9801\u9762\u4e2dComponent\u6a39\u72c0\u7d50\u69cb\u901a\u5e38\u8f03\u4e0a\u5c64\u7684\u6703\u662fSmart Component\uff0c\u8f03\u4e0b\u5c64\u7684\u662fDumb Component\u3002\\n\\n\u5728\u524d\u8ff0\u7684\u8a0e\u8ad6\u4e2d\u6211\u5011\u6709\u63d0\u5230\u4e00\u500b\u554f\u984c\u9ede\uff0c\u4e5f\u5c31\u662f\u9019\u88e1\u6240\u8981\u89e3\u6c7a\u7684\u554f\u984c\u2013**\u300c\u5927\u578b\u7d44\u4ef6\u4e5f\u53ef\u80fd\u6709reuse\uff08\u53ef\u8907\u7528\uff09\u7684\u9700\u6c42\u300d**\u3002\\n\\n\u672c\u7cfb\u5217\u7d93\u904e\u9019\u9ebc\u591a\u7bc4\u4f8b\u7684\u8a0e\u8ad6\u4e5f\u8981\u4f86\u5230\u4e86\u5c3e\u8072\u4e86\uff0c\u6211\u5c07\u7d44\u4ef6\u985e\u578b\u5340\u5206\u70ba**\u300c\u901a\u7528\u7d44\u4ef6\u300d**\u4ee5\u53ca**\u300c\u5927\u7d44\u4ef6\u300d**\uff0c\u61c9\u8a72\u4e5f\u4e0d\u96e3\u89c0\u5bdf\u5230\u5982\u679c\u7528\u9019\u500b\u8a2d\u8a08\u6a21\u5f0f\u4f86\u5340\u5206\uff0cSmart Component\u53ea\u6703\u662f\u300c\u5927\u7d44\u4ef6\u300d\u4e0d\u6703\u662f\u300c\u901a\u7528\u7d44\u4ef6\u300d\uff08\u300c\u5927\u7d44\u4ef6\u300d\u6709\u53ef\u80fd\u6703\u662fSmart\u4e5f\u6709\u53ef\u80fd\u6703\u662fDumb\uff0c\u4f46\u662f\u300c\u901a\u7528\u7d44\u4ef6\u300d\u53ea\u6703\u662fDumb\uff09\u3002\\n\\n\u91cd\u9ede\u4f86\u4e86\u3002\\n\\n\u4e00\u500b\u540c\u6642\u662f\u300cSmart Component\u300d\u4ed6\u7684**\u300c\u8907\u7528\u6027\u300d**\u80af\u5b9a\u5c31\u6703\u8f03\u4f4e\u3002\u800c\u5982\u679c\u540c\u6642\u662f\u300cSmart Component\u300d\u53c8\u5e0c\u671b\u80fd\u300c\u8907\u7528\u300d\u7684\u8a71\uff0c\u9019\u500b\u8a2d\u8a08\u6a21\u5f0f\u5c31\u63d0\u51fa\u4f86\u4e00\u500b\u89e3\u6c7a\u65b9\u5f0f\uff1a\\n\\n![image-20200509233716473](./_img/20200509/image-20200509233716473.png)\\n\\n\u5c07\u539f\u672c\u7684Component\u62c6\u5206\u6210\u300cSmart Component\u300d\u53ca\u300cDumb Component\u300d\u7684\u7d44\u5408\uff0cApi\u6216Vuex\u7b49\u7684\u8cc7\u6599/\u72c0\u614b\u7684\u4f9d\u8cf4\u62c6\u5206\u5230\u300cSmart\u300d\u7684\u90a3\u4e00\u5c64\uff0c\u800c\u300cSmart\u300d\u90a3\u5c64\u6703\u662f\u8584\u8584\u7684\u4e00\u5c64\u5c31\u53ea\u8655\u7406\u8cc7\u6599\u7684\u6e9d\u901a\uff0c\u800c\u5167\u5c64\u7684\u300cDumb\u300d\u5c31\u53ea\u4f9d\u7167props\u7684\u6307\u4ee4\u4f86\u9032\u884c\u6e32\u67d3\u3002\\n\\n\u9019\u6a23\u7684\u8a2d\u8a08\u4e0b\u5916\u5c64\u8584\u8584\u7684\u4e00\u5c64\u300cSmart Component\u300d\u5c31\u7a31\u4e4b\u70ba**\u300cContainer Component\u300d**\u3002\u9019\u6a23\u4e00\u4f86\u5c31\u80fd\u78ba\u4fdd\u300cDumb\u300d\u5c64\u7684\u8907\u7528\u6027\uff0c\u5982\u679c\u9700\u8981\u4f9d\u8cf4\u4e0d\u540c\u7684api\u6216\u8005\u4e0d\u540c\u7684\u8cc7\u6599\u4f86\u6e90\uff0c\u5c31\u53ea\u9700\u8981\u5c07\u8584\u8584\u7684\u4e00\u5c64\u300cContainer Component\u300d\u7d66\u62bd\u63db\u6389\u5373\u53ef\u3002\\n\\n\u9019\u6a23\u7684\u8a2d\u8a08\u4e0b\uff0c\u4e5f\u9023\u5e36\u7684\u5f71\u97ff\u4e86\u8cc7\u6599\u6d41\u7684\u8a2d\u8a08\uff0c\u7d44\u4ef6\u4e0d\u9700\u8981\u70ba\u4e86\u5c48\u5c31\u65bc\u300c\u8907\u7528\u6027\u300d\u7684\u9700\u6c42\uff0c\u800c\u5c07\u539f\u672c\u5728\u5167\u90e8\u5c31\u53ef\u4ee5\u8655\u7406\u597d\u7684\u4e8b\u60c5\uff08\u76f8\u95dc\u7684\u8cc7\u6599\u4f9d\u8cf4\uff09\u5f80\u5916\u4e1f\u5230\u7236\u7d44\u4ef6\u8655\u7406\u800c\u589e\u52a0\u7236\u7d44\u4ef6\u7684\u8907\u96dc\u5ea6\uff0c\u53ea\u8981\u628a\uff08\u76f8\u95dc\u7684\u8cc7\u6599\u4f9d\u8cf4\uff09\u653e\u5230\u8584\u8584\u7684Container\u90a3\u5c64\u4f86\u7ba1\u7406\u5373\u53ef\u3002\\n\\n\\n\\n### \u5169\u8005\u7684\u7d50\u5408\\n\\n\u6700\u5f8c\u7684\u6700\u5f8c\uff0c\u6c92\u6709\u7a0b\u5f0f\u7684\u7bc4\u4f8b\uff0c\u4f46\u662f\u6211\u8a66\u8457\u7528\u5716\u89e3\u4f86\u8b93\u5927\u5bb6\u60f3\u50cf\u4e00\u4e0b\u5982\u679c\u300cVuex\u300d\u548c\u300cContainer Component\u300d\u61c9\u7528\u5728\u672c\u6587\u7684\u7bc4\u4f8b\u4e2d\u6703\u662f\u9577\u4ec0\u9ebc\u6a23\u5b50\u3002\\n\\n\u5982\u679c\u672c\u6587\u7684\u5927\u578b\u8868\u55ae\u4f7f\u7528\u4e0a\u4e86Vuex\uff0c\u6703\u8b8a\u6210\u6bcf\u4e00\u500b\u7d44\u4ef6\u90fd\u662f\u76f4\u63a5\u8ddfVuex\u6e9d\u901a\uff0c\u4e0d\u518d\u9700\u8981\u50b3\u905e\u5230\u6700\u5916\u5c64\u4f86\u7ba1\u7406\u3002\\n\\n![image-20200510001327595](./_img/20200509/image-20200510001327595.png)\\n\\n\u90a3\u5982\u679c\u628aContainer Component\u4e5f\u52a0\u9032\u4f86\u5927\u4e82\u9b25\u5462\uff1f\u9019\u6642\u5019\u5947\u5999\u7684\u4e8b\u60c5\u767c\u751f\u4e86\uff0c\u5716\u8868\u539f\u672c\u7684\u7bad\u982d\u5927\u5e45\u5ea6\u7684\u6e1b\u5c11\u5269\u4e0b\u5169\u689d\u4e86\u3002\\n\\n\u7531\u65bcContainer Component\u7684\u6982\u5ff5\u52a0\u5165\u5340\u9694\u4e86\u300cSmart Component\u300d\u4ee5\u53ca\u300cDumb Component\u300d\uff0c\u4f9d\u8cf4\u95dc\u4fc2\u6e1b\u5c11\u4e86\uff0c\u4e5f\u589e\u52a0\u4e86\u66f4\u591a\u7d44\u4ef6\u53ef\u8907\u7528\u6027\u7684\u53ef\u80fd\uff01\\n\\n![image-20200510001615508](./_img/20200509/image-20200510001615508.png)\\n\\n\u4e0d\u77e5\u9053\u5230\u5230\u4e86\u9019\u908a\u6703\u4e0d\u6703\u6709\u4eba\u63d0\u554f\u2026\\n\\nContainer Component\u53ef\u4ee5\u66ff\u63db\uff0c\u53ef\u662fVuex\u662f\u5168\u57df\u7684\u554a\uff1f\\n\\n\u9019\u500b\u561b\u2026 \u4f60\u77e5\u9053Vuex\u4e5f\u6709\u6a21\u7d44\u5316\u7684\u529f\u80fd\u55ce\uff1f\uff08\u53c8\u4e00\u500b\u5751\uff09\\n\\n\\n\\n## \u4e94\u3001\u7e3d\u7d50\\n\\n\u9019\u500b\u7cfb\u5217\u6587\u7ae0\u7c4c\u5283\u8a31\u4e45\u9072\u9072\u6c92\u6709\u52d5\u7b46\uff0c\u52d5\u7b46\u4e4b\u5f8c\u53c8\u524d\u524d\u5f8c\u5f8c\u7528\u4e86\u5f88\u591a\u5929\u7684\u9752\u6625\uff0c\u7d42\u65bc\u662f\u5beb\u5b8c\u4e86\u3002\\n\\n\u770b\u8457\u93e1\u5b50\u4e2d\u7684\u81ea\u5df1\uff0c\u89ba\u5f97\u9762\u5bb9\u53c8\u6194\u60b4\u4e86\u4e0d\u5c11\uff08\u4e5f\u592a\u611f\u6027\u4e86\u5427\uff09\u3002\\n\\n\u5e74\u4e2d\u4e4b\u5f8cVue3.0\u6b63\u5f0f\u7248\u5c31\u8981\u767c\u8868\u4e86\uff0c\u96d6\u7136\u77e5\u9053\u57fa\u672c\u6982\u5ff5\u61c9\u8a72\u662f\u4e0d\u6703\u8b8a\u7684\uff0c\u4f46\u4e5f\u5fcd\u4e0d\u4f4f\u60f3\u8aaa\u4e4b\u5f8c\u61c9\u8a72\u4e0d\u6703\u518d\u50cf\u9019\u6b21\u82b1\u9019\u9ebc\u591a\u6642\u9593\u4f86\u5beb\u6280\u8853\u76f8\u95dc\u7684\u6587\u7ae0\u4e86\u3002\u597d\u50cf\u4e5f\u5230\u4e86\u6703\u601d\u8003\u8981\u4e0d\u8981\u628a\u66f4\u591a\u7684\u6642\u9593\u7528\u5728\u53ef\u4ee5\u7d2f\u7a4d\u5f97\u66f4\u9577\u9060\u7684\u77e5\u8b58\u4e0a\u9762\u7684\u5e74\u7d00\u3002\\n\\n\u611f\u6027\u6642\u9593\u7d50\u675f\uff0c\u5beb\u4e86\u9019\u7cfb\u5217\u524d\u5927\u534a\u90e8\u53ea\u89ba\u5f97\u7d2f\u800c\u5df2\uff0c\u53ef\u662f\u5230\u4e86\u6700\u5f8c\u89ba\u5f97\u6108\u4f86\u6108\u6709\u8da3\uff0c\u5dee\u9ede\u5c31\u8981\u767c\u6563\u5230\u6a21\u7d44\u5316\u8a2d\u8a08\u7684\u8b70\u984c\u4e0a\u9762\u4e86\uff0c\u9084\u597d\u672c\u7cfb\u5217\u4e3b\u984c\u5c31\u662f\u5b9a\u5728\u300c\u7236\u5b50\u300d\u7d44\u4ef6\u7684\u8a2d\u8a08\u800c\u5df2\uff0c\u5176\u5be6\u6700\u5f8c\u4e00\u500b\u5c0f\u7ae0\u7bc0\u5df2\u7d93\u7a0d\u7a0d\u6709\u9ede\u96e2\u984c\uff0c\u9084\u597d\u6211\u76e1\u91cf\u6fc3\u7e2e\u5728\u4e00\u500b\u5c0f\u7ae0\u7bc0\u88e1\u628a\u4ed6\u7d66\u8b1b\u5b8c\uff08\u6211\u4e5f\u4e0d\u53ef\u80fd\u6709\u529b\u6c23\u518d\u5beb\u4e0b\u53bb\u4e86\uff09\u3002\\n\\n\u5beb\u7684\u9019\u9ebc\u843d\u843d\u9577\uff0c\u6280\u8853\u7684\u6df1\u5ea6\u537b\u53c8\u9019\u9ebc\u7684\u300c\u4e0d\u6df1\u300d\uff0c\u9084\u771f\u61f7\u7591\u653e\u5230\u7db2\u8def\u4e0a\u662f\u5426\u771f\u7684\u6709\u4eba\u6703\u628a\u4ed6\u770b\u5b8c\u3002\u5927\u6982\u53ea\u6709\u516c\u53f8\u88e1\u7684junior\u524d\u7aef\u6703\u88ab\u6211\u5f37\u8feb\u63a8\u92b7\u800c\u770b\u5b8c\u800c\u5df2\u5427\u3002\\n\\n\u4e0d\u904e\u8a71\u8aaa\u56de\u4f86\uff0c\u8b1b\u5230Vue\u7684\u5b78\u7fd2\uff08\u6216\u8005\u662f\u524d\u7aef\u958b\u767c\uff09\u88e1\u8cc7\u6599\u50b3\u905e\u5e7e\u4e4e\u662f\u6211\u8a8d\u70ba\u662f\u6240\u6709\u7684Vue\u77e5\u8b58\u88e1Top 1\u6700\u91cd\u8981\u7684\u4e00\u4ef6\u4e8b\u60c5\uff08\u96d6\u7136\u8aaa\u6280\u8853\u5c64\u9762\u4e0a\u4e0d\u9ad8\uff09\uff0c\u7db2\u8def\u4e0a\u537b\u597d\u50cf\u4e5f\u6c92\u770b\u904e\u76f8\u95dc\u91dd\u5c0d\u9019\u500b\u4e3b\u984c\u7684\u6df1\u5165\u8a0e\u8ad6\uff08\u5c31\u7b97\u6709\u6211\u61c9\u8a72\u4e5f\u6c92\u8010\u5fc3\u770b\u5427\u54c8\u54c8\uff09\u3002\u5c0e\u81f4\u65bc\u7e3d\u89ba\u5f97\u8a31\u591a\u7d93\u9a57\u4e0d\u591a\u7684\u958b\u767c\u8005\uff08\u5305\u62ec\u4e4b\u524d\u7684\u6211\uff09\u90fd\u6703\u7528\u4e0d\u592a\u826f\u597d\u7684\u65b9\u5f0f\u4f86\u5beb\uff0c\u6240\u4ee5\u9019\u500b\u5c31\u662f\u6211\u82b1\u9019\u9ebc\u591a\u6642\u9593\u7684\u4e3b\u8981\u52d5\u6a5f\u4e4b\u4e00\u2026\\n\\n\u5982\u679c\u9084\u771f\u6709\u6211\u4e0d\u8a8d\u8b58\u7684\u4eba\u628a\u6587\u7ae0\u770b\u5b8c\u4e86\uff0c\u8acb\u8b93\u6211\u77e5\u9053\u662f\u5426\u5c0d\u4f60\u6709\u4efb\u4f55\u5e6b\u52a9\u3001\u6216\u8005\u6709\u4efb\u4f55\u6307\u6559\u90fd\u975e\u5e38\u6b61\u8fce\uff01\u611f\u8b1d\uff01"},{"id":"2020/02/28/js-call-by-reference","metadata":{"permalink":"/blog/2020/02/28/js-call-by-reference","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/2020-02-28-\u7c21\u55ae\u770bJavascript\u7684\u50b3\u503c\u4ee5\u53ca\u50b3\u53c3\u8003.md","source":"@site/blog/2020/2020-02-28-\u7c21\u55ae\u770bJavascript\u7684\u50b3\u503c\u4ee5\u53ca\u50b3\u53c3\u8003.md","title":"\u7c21\u55ae\u770bJavascript\u7684\u50b3\u503c\u4ee5\u53ca\u50b3\u53c3\u8003","description":"\u9019\u662fJavascript\u7684\u4e00\u500b\u7d93\u5178\u7684\u89c0\u5ff5\u984c\u2013\u300c\u50b3\u503c\u300d\u4ee5\u53ca\u300c\u50b3\u53c3\u8003\u300d(call by value/call by reference\uff0c\u6216\u8005pass by value/pass by reference)\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u4e5f\u6709\u4eba\u8aaaJavascript\u662fcall by sharing\uff08\u6216\u8005pass by sharing\uff09\u3002\u4e0d\u904e\u6211\u81ea\u8a8d\u6211\u7684\u7a0b\u5ea6\u9084\u4e0d\u5230\u53ef\u4ee5\u91dd\u5c0d\u9019\u4e9b\u540d\u8a5e\u505a\u5f88\u6df1\u5165\u7684\u63a2\u8a0e\uff0c\u4f46\u662f\u53ef\u4ee5\u7528\u4e00\u500b\u7c21\u55ae\u7684\u65b9\u5f0f\uff0c\u5c07Javascript\u7684\u9019\u500b\u8a9e\u8a00\u7279\u6027\u505a\u500b\u6574\u7406\u3002","date":"2020-02-28T00:00:00.000Z","formattedDate":"February 28, 2020","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":8.875,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2020/02/28/js-call-by-reference","title":"\u7c21\u55ae\u770bJavascript\u7684\u50b3\u503c\u4ee5\u53ca\u50b3\u53c3\u8003","authors":"thunderboy","tags":["javascript"]},"prevItem":{"title":"Vue\u7236\u5b50\u7d44\u4ef6\u8cc7\u6599\u6d41\u8a2d\u8a08 (3) \u96d9\u5411\u7d81\u5b9a\u2013\u5927\u7d44\u4ef6","permalink":"/blog/2020/05/09/vue-component-dataflow-3"},"nextItem":{"title":"\u4e0d\u9700\u82b1\u9322\u5c07Gitbook(v2)\u67b6\u8a2d\u5728Gitlab Pages\u4e0a","permalink":"/blog/2020/02/23/gitlab-pages-gitbook"}},"content":"\u9019\u662fJavascript\u7684\u4e00\u500b\u7d93\u5178\u7684\u89c0\u5ff5\u984c\u2013\u300c\u50b3\u503c\u300d\u4ee5\u53ca\u300c\u50b3\u53c3\u8003\u300d(call by value/call by reference\uff0c\u6216\u8005pass by value/pass by reference)\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u4e5f\u6709\u4eba\u8aaaJavascript\u662fcall by sharing\uff08\u6216\u8005pass by sharing\uff09\u3002\u4e0d\u904e\u6211\u81ea\u8a8d\u6211\u7684\u7a0b\u5ea6\u9084\u4e0d\u5230\u53ef\u4ee5\u91dd\u5c0d\u9019\u4e9b\u540d\u8a5e\u505a\u5f88\u6df1\u5165\u7684\u63a2\u8a0e\uff0c\u4f46\u662f\u53ef\u4ee5\u7528\u4e00\u500b\u7c21\u55ae\u7684\u65b9\u5f0f\uff0c\u5c07Javascript\u7684\u9019\u500b\u8a9e\u8a00\u7279\u6027\u505a\u500b\u6574\u7406\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u7279\u60271\uff1a\u62f7\u8c9d\u7d14\u503c\\n\\nJavascript\u7684\u578b\u5225\u6709\u5206\u70ba\u300c\u7269\u4ef6\u578b\u5225\u300d\u4ee5\u53ca\u300c\u57fa\u672c\u578b\u5225\u300d(Primitive Type)\uff0c\u5176\u4e2d\u578b\u672c\u578b\u5225\u662f\u5c6c\u65bc\u7d14\u503c\uff0c\u5305\u542b\u662f`string`\u3001`number`\u3001`boolean`\u3001`null`\u3001`undefined`\uff0c\u62f7\u8c9d\u7684\u6642\u5019\u662f\u50b3\u905e\u300c\u503c\u300d(value)\u3002\\n\\n\u5982\u4e0b\u7bc4\u4f8b\u7576\u547c\u53eb\u4e86`add`\u51fd\u6578\u6642\uff0c\u5c07`x`\u50b3\u905e\u7d66`newX`\uff0c\u5f88\u660e\u986f\u7576`newNumber`\u7684\u503c\u6539\u8b8a\u4e86\u4e26\u4e0d\u6703\u5f71\u97ff\u5230`number`\u3002\\n\\n```js\\nlet x = 100\\nfunction add(newX){\\n  newNumber = newNumber + 1\\n}\\nadd(x)\\nconsole.log(x) // \u5370\u51fa100\\n```\\n\\n## \u7279\u60272\uff1a\u5171\u7528\u7269\u4ef6\\n\\n\u5c07\u524d\u4e00\u500b\u7bc4\u4f8b\u7a0d\u505a\u4fee\u6539\uff0c\u8b8a\u6578`obj`\u662f\u4e00\u500b\u300c\u7269\u4ef6\u578b\u5225\u300d\u7684\u8b8a\u6578\uff0c\u7269\u4ef6\u5728\u50b3\u503c\u7684\u6642\u5019\u50b3\u905e\u300c\u53c3\u8003\u300d(reference)\u3002\\n\\n\u5982\u4e0b\u7bc4\u4f8b\uff0c\u540c\u6a23\u4e5f\u662f\u5c07\u8b8a\u6578\u50b3\u5165`add`\u51fd\u5f0f\u5167\uff0c\u4f46\u662f\u51fd\u5f0f\u5167\u7684\u8b8a\u6578+1\u4e4b\u5f8c\u51fd\u5f0f\u5916\u7684\u8b8a\u6578\u4e5f\u8ddf\u8457+1\u4e86\u3002\\n\\n\u9019\u4e00\u500b\u70ba\u4eba\u6240\u77e5\u7684\u7279\u6027\uff0c\u4e5f\u662f\u9020\u6210\u4e00\u500b\u6c92\u6709\u826f\u597djavascript\u64b0\u5beb\u7fd2\u6163\u4e0b\uff08\u6216\u8005\u5c0djavascript\u9084\u4e0d\u90a3\u9ebc\u719f\u6089\u7684\u5de5\u7a0b\u5e2b\uff09\u5f88\u5bb9\u6613\u7522\u751f\u7a0b\u5f0fbug\u7684\u539f\u56e0\u3002\\n\\n```js\\nlet obj = { number: 100 }\\nfunction add(newObj){\\n  newObj.number = newObj.number + 1\\n}\\nadd(obj)\\nconsole.log(obj.number) // \u5370\u51fa101\\n```\\n\\n## \u7279\u60273\uff1a\u62f7\u8c9d\u7269\u4ef6\\n\\n\u5728\u524d\u8ff0\u7684\u4f8b\u5b50\u7576\u4e2d\uff0c\u5c07\u8b8a\u6578\u50b3\u5165\u51fd\u5f0f\u7b49\u540c\u65bc\u505a\u4e86\u9019\u4ef6\u4e8b\u60c5\uff1a`newObj = obj`\u3002\u7531\u65bc`obj`\u662f\u7269\u4ef6\u578b\u5225\uff0c\u6240\u4ee5\u50b3\u905e\u53c3\u8003\u7684\u60c5\u6cc1\u4e0b\u7576newObj + 1\u4e4b\u5f8cobj\u4e5f\u8ddf\u8457\u52a01\u4e86\uff0c\u6211\u5011\u4e5f\u53ef\u4ee5\u8aaaobj\u88ab\u6e32\u67d3\u4e86\u3002\u9019\u6642\u5019\u505a\u500b\u6e2c\u8a66\u4f86\u89c0\u5bdf\uff1a`newObj === obj`\u7d50\u679c\u6703\u70ba**true**\u3002\\n\\n\u4f46\u662f\u5982\u679c\u6211\u5011\u63db\u500b\u5beb\u6cd5\uff1a`newObj === { number: 100 }`\u7d50\u679c\u537b\u70ba**false**\u3002\u9019\u500b\u662f\u70ba\u4ec0\u9ebc\u5462\uff1f\u9019\u500b\u554f\u984c\u8981\u89e3\u91cb\u53ef\u80fd\u5f88\u96e3\uff0c\u4f46\u662f\u4e0d\u6703\u5f88\u96e3\u7406\u89e3\u3002\u7576\u6211\u5011\u5c07\u7269\u4ef6\u91cd\u65b0\u8ce6\u503c\u7684\u6642\u5019\uff0c\u5c31\u7522\u751f\u4e86\u4e00\u500b\u65b0\u7684\u53c3\u8003\uff0c\u56e0\u6b64`obj`\u548c`newObj`\u5c31\u4e0d\u518d\u662f\u5171\u7528\u540c\u6a23\u7684\u7269\u4ef6\u4e86\u3002\\n\\n\u9019\u88e1\u540c\u6a23\u5c07\u7bc4\u4f8b\u7a0d\u505a\u4fee\u6539\uff1a\\n\\n```js\\nlet obj = { number: 100 }\\nfunction add(newObj){\\n  newObj = { number: 200 }\\n}\\nadd(obj)\\nconsole.log(obj.number) // \u5370\u51fa100\\n```\\n\\n\u9019\u500b\u7bc4\u4f8b\u4e2d`newObj`\u5982\u540c\u4e0a\u8ff0\u6240\u8aaa\u662f\u91cd\u65b0\u8ce6\u503c\uff0c\u6240\u4ee5`obj`\u4e26\u4e0d\u6703\u88ab\u5f71\u97ff\u5230\u3002\\n\\n## \u9663\u5217\u4e5f\u6709\u540c\u6a23\u7684\u50b3\u53c3\u8003\u7279\u6027\\n\\n\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728Javascript\u7576\u4e2d\u9663\u5217\u4e5f\u662f\u7269\u4ef6\u7684\u4e00\u7a2e\u578b\u5f0f\uff0c\u6240\u4ee5\u4e5f\u540c\u6a23\u7684call by reference/call by sharing\u7279\u6027\u3002\\n\\n> \u88dc\u5145\uff1atypeof [1, 2, 3] \u6703\u5370\u51fa\\"object\\"\uff0cjavascript\u53ef\u6c92\u6709\\"array\\"\u9019\u500b\u578b\u5225\uff0c\u9019\u4e5f\u7b97\u662f\u4e00\u500b\u7d93\u5178\u89c0\u5ff5\u984c\u4e86\u3002\\n\\n\u7121\u8ad6\u662f\u4f7f\u7528Array\u7269\u4ef6\u63d0\u4f9b\u7684\u65b9\u6cd5\uff08\u5982push\u3001pop\u3001splice\u7b49\uff09\uff0c\u6216\u8005\u76f4\u63a5\u900f\u904e\u7d22\u5f15\u4fee\u6539\u6b04\u4f4d\u503c\uff0c\u90fd\u540c\u6a23\u6709\u50b3\u53c3\u8003\u7684\u7279\u6027\uff1a\\n\\n```js\\nlet arr = [1, 2, 3]\\nfunction add(newArr){\\n  newArr.push(4)\\n  newArr[newArr.length] = newArr.length + 1\\n}\\nadd(arr)\\nconsole.log(arr) // \u5370\u51fa[1, 2, 3, 4, 5]\\n```\\n\\n\u5982\u679c\u662f\u76f4\u63a5\u8ce6\u503c\u7684\u8a71\uff0c\u5c31\u6703\u7522\u751f\u65b0\u7684\u53c3\u8003\uff0c\u4e92\u4e0d\u5f71\u97ff\u4e86\uff1a\\n\\n```js\\nlet arr = [1, 2, 3]\\nfunction add(newArr){\\n  newArr = [1, 2, 3, 4]\\n}\\nadd(arr)\\nconsole.log(arr) // \u5370\u51fa[1, 2, 3]\\n```\\n\\n\\n\\n## \u9700\u8981\u975e\u5e38\u5c0f\u5fc3call by reference\u9020\u6210\u7684\u8cc7\u6599\u6e32\u67d3bug\\n\\n\u5728\u6211\u770b\u5225\u4eba\u7684code\u7684\u7d93\u9a57\uff0c\u6211\u89ba\u5f97\u6709\u4e0d\u5c11\u4eba\u6703\u559c\u6b61\u523b\u610f\u7684\u5229\u7528call by reference\u7684\u7279\u6027\u5beb\u51fa\u4e00\u4e9b\u82b1\u4fcf\u7684\u7a0b\u5f0f\u78bc\uff0c\u96d6\u7136\u9019\u7a2e\u5beb\u6cd5\u67d0\u4e9b\u6642\u5019\u5f88\u597d\u7528\u6216\u5f88\u6709\u6548\u7387\uff0c\u4f46\u6211\u500b\u4eba\u662f\u5f88\u8a0e\u53ad\u9019\u6a23\u7684\u5beb\u6cd5\uff0c\u53ea\u8981\u80fd\u60f3\u5f97\u51fa\u66f4\u597d\u7684\u65b9\u6cd5\u5c31\u7d55\u5c0d\u907f\u514d\u3002\\n\\n\u4e00\u4f86\u662f\u6211\u6703\u8cea\u7591\u9019\u6a23\u7684\u5beb\u6cd5\u5728\u7a0b\u5f0f\u95b1\u8b80\u6027\u4e0a\u6709\u5f88\u5927\u7684\u554f\u984c\uff1b\u53e6\u5916\u4e00\u4f86\u662f\u53ea\u8981\u4e00\u4e0d\u6ce8\u610f\uff0c\u5c31\u6703\u5f88\u5bb9\u6613\u767c\u751f\u6703\u9020\u6210\u8cc7\u6599\u6e32\u67d3\u7684bug\u3002\u53ea\u8981\u662f\u5beb\u904ejavascript\u4e00\u6bb5\u6642\u9593\u5c31\u4e00\u5b9a\u6703\u9047\u904e\u9019\u6a23\u7684bug\uff0c\u4e5f\u5c31\u662f\u5728\u6c92\u6709\u610f\u8b58\u7684\u60c5\u6cc1\u4e0b\u8cc7\u6599\u4e0d\u77e5\u9053\u88ab\u8ab0\u7d66\u6e32\u67d3\u4e86\u2026 \u800c\u4e14\u9019\u6a23\u7684bug\u53c8\u975e\u5e38\u96e3\u6293\u3002\\n\\n\u9019\u88e1\u8209\u4e00\u500b\u7c21\u55ae\u7684\u4f8b\u5b50\uff1a\\n\\n```js\\nlet obj = { a: 1 }\\nlet bigObj = { smallObj: obj }\\n// \u904e\u4e86\u4e00\u5169\u767e\u884c\u2026\\nobj.a = 2\\nconsole.log(bigObj) // \u5370\u51fa{ smallObj: { a: 2 }}\\n```\\n\\n\u9019\u88e1\u5c07\u4e00\u500b\u7269\u4ef6`{ small: obj }`\u8ce6\u503c\u7d66\u8b8a\u6578`bigObj`\uff0c\u4e4d\u770b\u4e0b\u548c\u524d\u8ff0\u7684\u300c\u7279\u60273\uff1a\u62f7\u8c9d\u7269\u4ef6\u300d\u975e\u5e38\u50cf\uff0c\u5982\u679c\u5bebcode\u6642\u4e0d\u662f\u8655\u65bc\u4e00\u500b\u5f88\u5c08\u5fc3\u7684\u72c0\u6cc1\u4e0b\uff0c\u6709\u53ef\u80fd\u5c31\u8a8d\u70ba\u9019\u662f\u4e00\u500b\u50b3\u503c(value)\u7684\u52d5\u4f5c\uff0c\u4e0d\u6703\u6709\u984d\u5916\u7684side effect\u5c31\u76f4\u63a5\u5e36\u904e\u4e86\u3002\\n\\n\u4f46\u4e8b\u5be6\u4e0a\u9019\u500b\u7269\u4ef6`{ small: obj }`\u88e1\u9762\u7684`obj`\u4ecd\u7136\u6709call by refence\u7684\u95dc\u4fc2\uff0c\u7d50\u679c\u5728\u4e00\u5169\u767e\u884c\u7a0b\u5f0f\u78bc\u4e4b\u5916\u5beb\u4e86\u4e00\u884c`obj.a = 2`\uff0c\u9019\u6642\u5019\u5c31\u662f\u53c8\u8981\u52aa\u529bdebug\u7684\u6642\u5019\u4e86\u2026\\n\\n\\n\\n## \u88dc\u5145\uff1a\u6df1\u62f7\u8c9d\u7684\u5e38\u7528\u65b9\u6cd5\\n\\n\u9019\u6642\u5019\u5c31\u6703\u5ef6\u4f38\u51fa\u4f86\u4e00\u500b\u76f8\u95dc\u7684\u554f\u984c\uff0c\u5c31\u50cf\u6587\u7ae0\u524d\u9762\u5c0f\u7bc0\u6240\u8aaa\u7684\uff0c\u6709\u6642\u6211\u5011\u5e0c\u671b\u5c07\u67d0\u500b\u7269\u4ef6\u50b3\u503c\u7d66\u53e6\u4e00\u500b\u7269\u4ef6\uff0c\u53ef\u662f\u53c8\u4e0d\u5e0c\u671b\u662f\u7528\u300c\u50b3\u53c3\u8003\u300d\u7684\u65b9\u5f0f\u4f86\u50b3\u503c\uff0c\u800c\u662f\u7528\u300c\u50b3\u503c\u300d\u7684\u65b9\u5f0f\u8907\u88fd\u51fa\u4e00\u500b\u4e00\u6a21\u4e00\u6a23\u7684\u7269\u4ef6\uff0c\u9019\u5c31\u662f\u6240\u8b02\u7684\u300c\u6df1\u62f7\u8c9d\u300d(Deep Clone)\u3002\\n\\n\u8981\u4f86\u8a8d\u771f\u8ac7\u8ad6\u7684\u8a71\uff0c\u9019\u53c8\u662f\u4e00\u500b\u8aaa\u4f86\u8a71\u9577\u7684\u4e3b\u984c\u4e86\uff0c\u800c\u4e14\u6709\u8a31\u591a\u7a2e\u65b9\u6cd5\u90fd\u53ef\u4ee5\u9054\u5230\u76ee\u7684\u3002\u4ee5\u4e0b\u6211\u7528\u6700\u7c21\u77ed\u7684\u65b9\u5f0f\u4f86\u4ecb\u7d39\u5e7e\u500b\u5be6\u52d9\u4e0a\u6211\u89ba\u5f97\u6700\u5e38\u4f7f\u7528\u7684\u5e7e\u7a2e\u65b9\u5f0f\uff1a\\n\\n**1.\u7522\u751f\u65b0\u7684\u7269\u4ef6\u4e26\u62f7\u8c9d\u6240\u6709\u7684\u300c\u57fa\u672c\u578b\u5225\u300d\u6b04\u4f4d**\\n\\n\u57fa\u672c\u6982\u5ff5\u5c31\u662f\u5efa\u7acb\u4e00\u500b\u65b0\u7684\u7269\u4ef6\uff0c\u7136\u5f8c\u518d\u628a\u88e1\u9762\u6240\u6709\u7684\u300c\u57fa\u672c\u578b\u5225\u300d\u6b04\u4f4d\u4e00\u500b\u4e00\u500b\u642c\u9032\u53bb\u3002\u540c\u6a23\u7684\u6982\u5ff5\u6709\u7528\u591a\u7a2e\u505a\u6cd5\uff0c\u53ef\u4ee5\u81ea\u5df1\u624b\u52d5\u4e00\u500b\u4e00\u500b\u642c\uff1a\\n\\n```js\\nlet obj = { a: 1, b: 2 }\\nlet newObj = { a: obj.a, b: obj.b }\\n```\\n\\n\u6216\u8005\u662f\u9663\u5217\u65b9\u6cd5\uff1a\\n\\n```js\\nlet arr [1, 2, 3]\\nlet newArr = arr.map(d => d)\\n```\\n\\n\u4e5f\u53ef\u4ee5\u7528ES6\u63d0\u4f9b\u7684\u65b0\u8a9e\u6cd5Object.assign\uff1a\\n\\n```js\\nlet obj = { a: 1, b: 2 }\\nlet newObj = Object.assing({}, obj)\\n```\\n\\n\u4f46Object.assign\u53ea\u80fd\u8907\u88fd\u4e00\u5c64\u7684\u6b04\u4f4d\uff0c\u5982\u679c\u88e1\u9762\u67d0\u500b\u6b04\u4f4d\u4e5f\u662f\u4e00\u500b\u7269\u4ef6\u7684\u8a71\uff0c\u4ecd\u7136\u6703\u6709call by reference\u7684\u554f\u984c\u3002\\n\\n**2.JSON stringify&parse**\\n\\n\u7b2c\u4e8c\u500b\u65b9\u6cd5\u662f\u6211\u8a8d\u70ba\u6700\u5e38\u4f7f\u7528\u4e14\u5e7e\u4e4e\u9069\u7528\u6240\u6709\u60c5\u6cc1\u7684\u65b9\u6cd5\uff08\u4f46\u4e0d\u9069\u7528\u65bcfunction\u6216\u8005prototype\u2013\u4f8b\u5982Date\u7269\u4ef6\uff09\u3002\u8a9e\u6cd5\uff1a`JSON.parse(JSON.stringify(\u7269\u4ef6))`\u3002\\n\\n\u4f8b\uff1a\\n\\n```js\\nlet obj1 = { body: { a: 10 } }\\nlet obj2 = JSON.parse(JSON.stringify(obj1))\\n```\\n\\n## \u7d50\u8a9e\\n\\n\u5176\u5be6\u7db2\u8def\u4e0a\u76f8\u95dc\u7684\u6587\u7ae0\u591a\u7684\u53bb\u4e86\uff0c\u76f8\u8f03\u8d77\u4f86\u6211\u5beb\u7684\u9019\u7bc7\u7684\u6df1\u5ea6\u4e26\u4e0d\u6df1\uff0c\u80cc\u5f8c\u7684\u4e00\u4e9b\u539f\u7406\u4e26\u6c92\u6709\u8457\u58a8\u7684\u592a\u591a\u3002\u4e0d\u904e\u6211\u662f\u6709\u5c07\u4e00\u4e9b\u76f8\u95dc\u7684\u554f\u984c\u548c\u89e3\u6c7a\u65b9\u6cd5\uff0c\u4f9d\u7167\u6211\u81ea\u5df1\u7684\u7d93\u9a57\u505a\u4e00\u4e9b\u7c21\u55ae\u7684\u6574\u7406\uff0c\u5e0c\u671b\u5c0d\u5927\u5bb6\u6709\u5e6b\u52a9\u3002\\n\\n\u5982\u679c\u6709\u60f3\u66f4\u6df1\u5165\u7684\u5ef6\u4f38\u95b1\u591a\uff0c\u4ee5\u4e0b\u6709\u5e7e\u7bc7\u76f8\u95dc\u7684\u597d\u6587\u63a8\u85a6\uff1a\\n\\n* [\u91cd\u65b0\u8a8d\u8b58 JavaScript: Day 05 JavaScript \u662f\u300c\u50b3\u503c\u300d\u6216\u300c\u50b3\u5740\u300d\uff1f](https://ithelp.ithome.com.tw/articles/10191057)\\n* [\u6df1\u5165\u63a2\u8a0e JavaScript \u4e2d\u7684\u53c3\u6578\u50b3\u905e\uff1acall by value \u9084\u662f reference\uff1f](https://blog.techbridge.cc/2018/06/23/javascript-call-by-value-or-reference/)\\n* [[Javascript] \u95dc\u65bc JS \u4e2d\u7684\u6dfa\u62f7\u8c9d\u548c\u6df1\u62f7\u8c9d](https://larry850806.github.io/2016/09/20/shallow-vs-deep-copy/)"},{"id":"2020/02/23/gitlab-pages-gitbook","metadata":{"permalink":"/blog/2020/02/23/gitlab-pages-gitbook","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/2020-02-23-gitlab-pages-gitbook.md","source":"@site/blog/2020/2020-02-23-gitlab-pages-gitbook.md","title":"\u4e0d\u9700\u82b1\u9322\u5c07Gitbook(v2)\u67b6\u8a2d\u5728Gitlab Pages\u4e0a","description":"gitbook\u662f\u4e00\u500b\u4f7f\u7528markdown\u6587\u4ef6\u5c31\u53ef\u4ee5\u7de8\u8b6f\u6210\u7db2\u9801\u7684\u5de5\u5177\uff0c\u975e\u5e38\u9069\u5408\u62ff\u4f86\u7de8\u5beb\u96fb\u5b50\u66f8\uff0c\u4e5f\u6709\u9700\u591a\u5de5\u7a0b\u5e2b\u559c\u6b61\u7528\u4f86\u7de8\u8f2f\u6280\u8853\u6587\u4ef6\uff0c\u5728\u4e00\u5169\u5e74\u524d\u6709\u4e00\u6bb5\u6642\u9593\u597d\u50cf\u975e\u5e38\u6d41\u884c\uff0c\u4f46\u662f\u5728gitbook\u7684version 2.x\u7248\u672c\u4e4b\u5f8c\u6709\u4e86\u91cd\u5927\u7684\u6539\u7248\uff0cgitbook\u5e33\u865f\u6539\u70ba\u6536\u8cbb\u5236\uff08\u514d\u8cbb\u5e33\u865f\u529f\u80fd\u6709\u9650\uff09\u3002","date":"2020-02-23T00:00:00.000Z","formattedDate":"February 23, 2020","tags":[{"label":"gitbook","permalink":"/blog/tags/gitbook"},{"label":"gitlab pages","permalink":"/blog/tags/gitlab-pages"}],"readingTime":4.2,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2020/02/23/gitlab-pages-gitbook","title":"\u4e0d\u9700\u82b1\u9322\u5c07Gitbook(v2)\u67b6\u8a2d\u5728Gitlab Pages\u4e0a","authors":"thunderboy","tags":["gitbook","gitlab pages"]},"prevItem":{"title":"\u7c21\u55ae\u770bJavascript\u7684\u50b3\u503c\u4ee5\u53ca\u50b3\u53c3\u8003","permalink":"/blog/2020/02/28/js-call-by-reference"},"nextItem":{"title":"\u524d\u7aefPDF\u4e0b\u8f09 | pdfmake\u81ea\u8a02\u4e2d\u6587\u5b57\u578b\uff08\u4f7f\u7528NotoSansTC\uff09","permalink":"/blog/2020/02/23/pdfmake-chinese-font"}},"content":"gitbook\u662f\u4e00\u500b\u4f7f\u7528markdown\u6587\u4ef6\u5c31\u53ef\u4ee5\u7de8\u8b6f\u6210\u7db2\u9801\u7684\u5de5\u5177\uff0c\u975e\u5e38\u9069\u5408\u62ff\u4f86\u7de8\u5beb\u96fb\u5b50\u66f8\uff0c\u4e5f\u6709\u9700\u591a\u5de5\u7a0b\u5e2b\u559c\u6b61\u7528\u4f86\u7de8\u8f2f\u6280\u8853\u6587\u4ef6\uff0c\u5728\u4e00\u5169\u5e74\u524d\u6709\u4e00\u6bb5\u6642\u9593\u597d\u50cf\u975e\u5e38\u6d41\u884c\uff0c\u4f46\u662f\u5728gitbook\u7684version 2.x\u7248\u672c\u4e4b\u5f8c\u6709\u4e86\u91cd\u5927\u7684\u6539\u7248\uff0cgitbook\u5e33\u865f\u6539\u70ba\u6536\u8cbb\u5236\uff08\u514d\u8cbb\u5e33\u865f\u529f\u80fd\u6709\u9650\uff09\u3002\\n\\n\u96d6\u7136\u5c0d\u4e00\u822c\u4eba\u4f86\u8aaa\u9580\u6abb\u8b8a\u9ad8\u4e86\uff0c\u4f46\u5176\u5be6\u5c0d\u5de5\u7a0b\u5e2b\u4f86\u8aaa\u4ecd\u7136\u662f\u975e\u5e38\u597d\u7528\u3002\u56e0\u70bagitbook\u96d6\u7136\u5e33\u865f\u6536\u8cbb\uff0c\u4f46\u4ecd\u7136\u6709\u958b\u6e90\u7684\u7a0b\u5f0f\u78bc\u53ef\u7528\uff0c\u5c0d\u65bc\u6709\u4e00\u4e9b\u6280\u8853\u80cc\u666f\u7684\u5de5\u7a0b\u5e2b\u5f88\u5bb9\u6613\u5c31\u53ef\u4ee5\u60f3\u8fa6\u6cd5\u81ea\u5df1\u67b6\u8a2d\u8d77\u4f86\uff1b\u57fa\u672c\u4e0a\u4e0d\u9700\u8981\u5beb\u4efb\u4f55\u7684\u7a0b\u5f0f\u78bc\uff08\u9664\u975e\u8981\u6539source code\uff09\uff0c\u7121\u4e00\u9700\u8981\u7169\u60f1\u7684\u4e8b\u60c5\u5c31\u662f**\u8a72\u5982\u4f55\u67b6\u8a2d\u4ee5**\u53ca**\u67b6\u8a2d\u5728\u4ec0\u9ebc\u5730\u65b9**\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u7814\u7a76\u4e86\u4e00\u6bb5\u6642\u9593\u767c\u73feGitlab Pages\u662f\u975e\u5e38\u5b8c\u7f8e\u7684\u67b6\u8a2d\u975c\u614b\u7db2\u7ad9\u7684\u670d\u52d9\uff0c\u800c\u4e14Gitlab\u5b98\u65b9\u5c31\u6709\u63d0\u4f9b[\u7bc4\u4f8b](https://gitlab.com/pages/gitbook)\uff0c\u9801\u9762\u4e0a\u9762\u4e5f\u6709\u7c21\u6613\u7684\u6559\u5b78\uff0c\u57fa\u672c\u4e0a\u5c31\u7167\u8457\u505a\u4e5f\u53ef\u4ee5\u7c21\u55ae\u7684\u67b6\u8a2d\u8d77\u4f86\u56c9\u3002\\n\\n## \u4f7f\u7528Gitlab Pages\u670d\u52d9\\n\\n\u9996\u5148\uff0c\u7576\u7136\u5c31\u662f\u8981\u5148\u6709Gitlab\u5e33\u865f\uff0cGitlab\u670d\u52d9\u90fd\u662f\u514d\u8cbb\u7684\uff0c\u6240\u4ee5\u5c31\u662f\u76f4\u63a5\u8a3b\u518a\u4f7f\u7528\u5c31\u5c0d\u4e86\uff0c\u9019\u908a\u5c31\u4e0d\u8a73\u8ff0\u3002\\n\\n\u5efa\u7acb\u4e00\u500bProject\u4e4b\u5f8c\u81f3Setting\u628aPages\u670d\u52d9\u958b\u555f\u3002\u5728\u9801\u9762\u4e2d\u9593\u53ef\u4ee5\u53d6\u5f97\u7db2\u7ad9\u7684\u7db2\u5740\u3002\\n\\n![](./_img/20200223/gitlab_pages_gitbook_1.png)\\n\\n## \u5728\u672c\u6a5f\u5efa\u7acbGitbook\u64b0\u5beb\u74b0\u5883\\n\\n\u9996\u5148\u96fb\u8166\u4e2d\u8981\u6709[node.js](https://nodejs.org/en/)\u7684\u74b0\u5883\uff0c\u7136\u5f8c\u4f7f\u7528npm\u5b89\u88ddGitbook\u5957\u4ef6\u5230\u96fb\u8166\u672c\u6a5f\u7576\u4e2d\u3002\\n\\n`npm install gitbook-cli \u2013g`\\n\\n\u5728\u5c08\u6848\u7684\u8cc7\u6599\u593e\u4e2d\uff0c\u4e0bgitbook\u7684\u6307\u4ee4\u521d\u59cb\u5316\u3002\\n\\n`gitbook init`\\n\\n\u5230\u9019\u4e00\u6b65\u5c31\u5e7e\u4e4e\u5b8c\u6210\u4e86\u3002\\n\\n\u6700\u5f8c\u8981\u505a\u7684\u4e00\u4ef6\u4e8b\uff0c\u5c31\u662f\u5efa\u7acbGitlab CI/CD\u7684yml\u6a94\uff0c\u9019\u500byml\u6a94\u53ef\u4ee5\u8b93\u6211\u5011\u628a\u5c08\u6848git push\u4e0a\u53bb\u5230gitlab server\u7684\u6642\u5019\u900f\u904eyml\u6a94\u7684\u8173\u672c\u3001\u5c07gitbook\u6253\u5305\u6210\u975c\u614b\u7db2\u9801\u4e26\u90e8\u7f72\u5230gitlab pages\u7684\u7a7a\u9593\u3002\\n\\n\u7c21\u800c\u8a00\u4e4b\u5462\uff0c\u5c31\u662f\u8981\u5efa\u7acb\u4e00\u500b\u80fd\u5920\u5e6b\u6211\u5011\u90e8\u7f72\u7db2\u9801\u7684\u6a94\u6848\uff0c\u800c\u9019\u500byml\u6a94\u6211\u5011\u4e5f\u4e0d\u9700\u7169\u60f1\u8a72\u5982\u4f55\u7be9\u5beb\uff0cgitlab\u5b98\u7db2\u4e0a\u7684[\u7bc4\u4f8b](https://gitlab.com/pages/gitbook/-/blob/master/.gitlab-ci.yml)\u5c31\u6709\u4e86\uff0c\u6240\u4ee5\u53ea\u8981\u628a\u7bc4\u4f8b\u4e2d\u7684\u7a0b\u5f0f\u78bc\u6574\u500b\u8907\u88fd\u8d77\u4f86\uff0c\u7136\u5f8c\u5728\u6839\u76ee\u9304\u5efa\u4e00\u500b`.gitlab-ci.yml`\u5247\u4e0a\u53bb\uff0c\u5b8c\u6210\uff08\u5982\u679c\u6709\u4e0d\u6e05\u695a\u7684\u8a71\u8acb\u53c3\u8003\u5b98\u7db2\u7bc4\u4f8b\uff09\u3002\\n\\n## \u958b\u59cb\u64b0\u5beb\\n\\ngitbook\u4f7f\u7528\u4e00\u500bSUMMARY.md\u6a94\u4f86\u5b9a\u7fa9\u6574\u500b\u7db2\u7ad9\u7684\u76ee\u9304\u7d50\u69cb\u3002\\n\\n\u6bcf\u4e00\u884c\u5c31\u662f\u4e00\u500b\u9801\u9762\u7684\u8a2d\u5b9a\uff0c\u683c\u5f0f\u5982`* [\u6a19\u984c](markdown\u6a94\u6848\u8def\u5f91)`\u3002\u800c\u6a94\u6848\u8def\u5f91\u4e5f\u5c31\u662f\u5c0d\u61c9\u4f60\u6240\u64b0\u5beb\u7684md\u6a94\u3002\u7e2e\u63924\u500b\u7a7a\u767d\u5373\u70ba\u5b50\u76ee\u9304\u3002\\n\\n\u4ee5\u4e0b\u7bc4\u4f8b\uff1a\\n\\n![](./_img/20200223/gitlab_pages_gitbook_2.png)\\n\\n\u67b6\u8a2d\u597d\u7684\u7db2\u7ad9\u6703\u9577\u6210\u9019\u6a23\uff1a\\n\\n![](./_img/20200223/gitlab_pages_gitbook_3.png)\\n\\n\u8981\u5728\u672c\u6a5f\u7aef\u6e2c\u8a66\u7db2\u7ad9\u6253\u5305\u51fa\u4f86\u7684\u7d50\u679c\u7684\u8a71\u53ef\u4ee5\u4e0b\u6307\u4ee4\uff1a\\n\\n`gitbook serve`\\n\\n\u56e0\u70ba\u6211\u5011\u8981\u4f7f\u7528Gitlab CI/CD\uff0c\u5728\u524d\u4e00\u500b\u6b65\u9a5f\u88e1\u5df2\u7d93\u5efa\u7acb\u4e86.gitlab-ci.yml\u6a94\uff0c\u6240\u4ee5\u6211\u5011\u53ea\u9700\u8981\u4f7f\u7528git\u6307\u4ee4\u5c07\u5c08\u6848push\u4e0a\u53bb\u4e4b\u5f8c\uff0c\u7b49\u500b\u5e7e\u5206\u9418\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u67b6\u8a2d\u597d\u7684gitbook\u7db2\u7ad9\u4e86\uff08\u5728gitlab project\u9078\u55aesetting/pages\u88e1\u53ef\u53d6\u5f97\u7db2\u5740\uff09\u3002\\n\\n\u8a3b\uff1a\u81f3\u65bc\u628a\u6a94\u6848push\u4e0agitlab\u7684git\u6307\u4ee4\u5c31\u4e0d\u8a73\u8ff0\u4e86\uff0c\u4e0d\u719f\u6089\u7684\u670b\u53cb\u53ef\u53c3\u8003\u5728\u524d\u8ff0gitlab\u5efa\u7acb\u7684project\u9801\u9762\uff0c\u5207\u81f3project\u9996\u9801\u6709\u76f8\u95dc\u7684\u6307\u4ee4\u8aaa\u660e\u53ef\u53c3\u8003\u5594\uff01"},{"id":"2020/02/23/pdfmake-chinese-font","metadata":{"permalink":"/blog/2020/02/23/pdfmake-chinese-font","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/2020-02-23-\u524d\u7aefPDF\u4e0b\u8f09 | pdfmake\u81ea\u8a02\u4e2d\u6587\u5b57\u578b\uff08\u4f7f\u7528NotoSansTC\uff09.md","source":"@site/blog/2020/2020-02-23-\u524d\u7aefPDF\u4e0b\u8f09 | pdfmake\u81ea\u8a02\u4e2d\u6587\u5b57\u578b\uff08\u4f7f\u7528NotoSansTC\uff09.md","title":"\u524d\u7aefPDF\u4e0b\u8f09 | pdfmake\u81ea\u8a02\u4e2d\u6587\u5b57\u578b\uff08\u4f7f\u7528NotoSansTC\uff09","description":"\u5de5\u4f5c\u4e0a\u6709\u9700\u8981\u5728\u524d\u7aef\u5c07\u5167\u5bb9\u751f\u6210PDF\u4e0b\u8f09\u7684\u529f\u80fd\uff0c\u5728\u540c\u4e8b\u7684\u63a8\u85a6\u4e0b\u4f7f\u7528pdfmake\u9019\u500b\u5957\u4ef6\u3002","date":"2020-02-23T00:00:00.000Z","formattedDate":"February 23, 2020","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"pdfmake","permalink":"/blog/tags/pdfmake"}],"readingTime":8.205,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2020/02/23/pdfmake-chinese-font","title":"\u524d\u7aefPDF\u4e0b\u8f09 | pdfmake\u81ea\u8a02\u4e2d\u6587\u5b57\u578b\uff08\u4f7f\u7528NotoSansTC\uff09","authors":"thunderboy","tags":["javascript","pdfmake"]},"prevItem":{"title":"\u4e0d\u9700\u82b1\u9322\u5c07Gitbook(v2)\u67b6\u8a2d\u5728Gitlab Pages\u4e0a","permalink":"/blog/2020/02/23/gitlab-pages-gitbook"},"nextItem":{"title":"(\u8b6f)Vue.js App \u6548\u80fd\u512a\u5316: part1 \u2013 \u6548\u80fd\u512a\u5316\u548clazy loading","permalink":"/blog/2019/12/24/vue-optimization1"}},"content":"\u5de5\u4f5c\u4e0a\u6709\u9700\u8981\u5728\u524d\u7aef\u5c07\u5167\u5bb9\u751f\u6210PDF\u4e0b\u8f09\u7684\u529f\u80fd\uff0c\u5728\u540c\u4e8b\u7684\u63a8\u85a6\u4e0b\u4f7f\u7528pdfmake\u9019\u500b\u5957\u4ef6\u3002\\n\\n\u4e0d\u904e\u9019\u500b\u5957\u4ef6\u6709\u500b\u554f\u984c\uff0c\u4ed6\u7684\u9810\u8a2d\u5b57\u578b\u662f\u82f1\u6587\u5b57\u578b\uff0c\u800c\u4e14\u4f3c\u4e4e\u4e5f\u6c92\u6709\u63d0\u4f9bapi\u80fd\u5920\u76f4\u63a5\u66ff\u63db\u6210\u81ea\u5df1\u7684\u5b57\u578b\u6a94\u3002\u5982\u679c\u9700\u8981\u66f4\u63db\u5b57\u578b\u9700\u8981\u5728source code\u505a\u4e00\u4e9b\u4fee\u6539\uff0c\u7136\u5f8c\u91cd\u65b0\u6253\u5305\u51fa\u7de8\u8b6f\u904e\u7684\u5b57\u578b\u6a94\uff1b\u96d6\u7136\u7db2\u8def\u4e0a\u4e5f\u6709\u5f88\u591a\u6559\u5b78\uff0c\u4f46\u5728\u6211\u7814\u7a76\u904e\u7a0b\u4e2d\u9084\u662f\u8e29\u5230\u4e00\u4e9b\u5751\uff0c\u6240\u4ee5\u5c31\u628a\u6211\u81ea\u5df1\u7684\u5be6\u4f5c\u6b65\u9a5f\u3001\u4ee5\u53ca\u4f7f\u7528\u65b9\u5f0f\u6574\u7406\u4e86\u4e00\u4e0b\u8ddf\u5927\u5bb6\u5206\u4eab\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u51d6\u5099\u5b57\u578b\u6a94\\n\\n\u5728\u89e3\u8aaa\u6b65\u9a5f\u4e4b\u524d\u5462\uff0c\u6211\u5148\u628a\u6211\u6240\u9047\u5230\u7684\u5751\u8aaa\u660e\u4e00\u4e0b\u3002\\n\\n\u56e0\u70ba\u64d4\u5fc3\u6703\u6709\u7248\u6b0a\u7684\u554f\u984c\uff0c\u6211\u662f\u4f7f\u7528Google\u63d0\u4f9b\u7684\u958b\u6e90\u5b57\u9ad4\u300c[\u601d\u6e90\u9ed1\u9ad4](https://fonts.google.com/specimen/Noto+Sans+TC)\u300d(NotoSansTc)\u3002\u800c\u6211\u5957\u7528\u4e0a\u53bb\u4e4b\u5f8c\uff08\u5728\u6211\u6587\u7ae0\u5f8c\u9762\u6240\u6709\u6b65\u9a5f\u505a\u5b8c\u4e4b\u5f8c\uff09PDF\u4e0b\u8f09\u7684\u7d50\u679c\u5982\u4e0b\uff1a\\n\\n![](./_img/20200223/pdfmake_3.png)\\n\\n\u7d50\u679c\u662f\u6158\u4e0d\u5fcd\u7779\uff08\u56e0\u90e8\u4efd\u5167\u5bb9\u4e0d\u65b9\u4fbf\u5c55\u793a\u6240\u4ee5\u6709\u99ac\u8cfd\u514b\uff0c\u770b\u8d77\u4f86\u4e5f\u4e0d\u592a\u50cf\u662f\u7f3a\u5b57\u3002\u722c\u6587\u4e4b\u5f8c\u61f7\u7591\u662f\u5b57\u9ad4\u683c\u5f0f\u7684\u554f\u984c\u3002\\n\\nGoogle\u63d0\u4f9b\u7684\u5b57\u9ad4\u6a94\u526f\u6a94\u540d\u662f.otf\u3002\u65bc\u662f\u6211\u53c8\u4e0a\u7db2\u627e\u4e86\u526f\u6a94\u540d\u662fwoff2\uff08\u81f3\u65bc\u70ba\u4f55\u662f\u7528woff2\u800c\u4e0d\u662fwoff\uff0c\u662f\u56e0\u70ba\u524d\u8005\u7684size\u5c0f\u4e00\u4e9b\uff09\u6a94\u4e4b\u5f8c\u679c\u7136\u5c31\u6b63\u5e38\u4e86\uff01\\n\\n\u4ee5\u4e0b\u662f\u6211\u6240\u627e\u5230\u7684CDN\u6a94\u6848\u9023\u7d50\uff0c\u8acb\u4f9d\u6240\u9700\u4e0b\u8f09\uff0c\u6216\u8005\u81ea\u884c\u4f7f\u7528\u81ea\u5df1\u6240\u9700\u7684\u5b57\u9ad4\u6a94\u6848\u3002\\n\\n- **NotoSansTC-Thin**\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Thin.woff\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Thin.woff2\\n\\n- **NotoSansTC-Light**\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Light.woff\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Light.woff2\\n\\n- **NotoSansTC-Regular**\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Regular.woff\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Regular.woff2\\n\\n- **NotoSansTC-Medium**\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Medium.woff\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Medium.woff2\\n\\n- **NotoSansTC-Bold**\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Bold.woff\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Bold.woff2\\n\\n- **NotoSansTC-Black**\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Black.woff\\n\\n  - http://fonts.gstatic.com/ea/notosanstc/v1/NotoSansTC-Black.woff2\\n\\n\\n\\n## \u6253\u5305\u5b57\u578b\u6a94\\n\\n\u7531\u65bcpdfmake\u4e0d\u80fd\u76f4\u63a5\u8f09\u5165\u5b57\u578b\u6a94\uff0c\u9084\u9700\u900f\u904esource code\u88e1\u7528gulp\u5beb\u597d\u7684\u8173\u672c\u4f86\u7de8\u8b6f\u6210js\u6a94\u3002\u4f9d\u7167\u4f60\u662f\u7528npm\u5b89\u88dd\u6216\u8005\u662f\u76f4\u63a5\u5230\u5b98\u7db2\u4e0b\u8f09\u6574\u5305source code\uff0c\u505a\u6cd5\u6703\u6709\u4e9b\u5fae\u5dee\u7570\u3002\\n\\n\u81f3\u65bc\u8981\u7528\u54ea\u7a2e\u65b9\u5f0f\u597d\u5462\uff1f\u6211\u662f\u89ba\u5f97\u5176\u5be6\u90fd\u6c92\u5dee\uff0c\u524d\u8005\uff08\u65b9\u6cd51\uff09\u7684\u8a71\u662f\u53ef\u4ee5\u76f4\u63a5\u5728\u958b\u767c\u5c08\u6848\u88e1\u5c31\u53ef\u4ee5\u76f4\u63a5\u8655\u7406\uff08\u5230node_modules\u88e1\u53ef\u627e\u5230source code\uff09\uff0c\u5f8c\u8005\uff08\u65b9\u6cd52\uff09\u7684\u8a71\u662f\u53ef\u4ee5\u5728\u7368\u7acb\u7684\u74b0\u5883\u4e2d\u8655\u7406\uff0c\u5efa\u597d\u5b57\u578b\u6a94\u5f8c\u5c31\u53ef\u4ee5\u628asource code\u522a\u6389\u4e86\u3002\\n\\n\u6240\u4ee5\u4e0b\u5206\u958b\u8aaa\u660e\uff1a\\n\\n### \u65b9\u6cd51 - npm\u5b89\u88ddpdfmake\uff1a\\n\\n\u958b\u767c\u5c08\u6848\u4f7f\u7528npm\u5b89\u88ddpdfmake\u4e4b\u5f8c\uff0c\u5230node_modules\u88e1\u627e\u5230pdfmake\u8cc7\u6599\u593e\uff0c\u958b\u555fgulpfile.js\u3002\\n\\n![](./_img/20200223/pdfmake_1.png)\\n\\n\u7136\u5f8c\u627e\u5230\u5982\u4e0b\u5716\u7684\u9019\u4e00\u884c\u3002\u9019\u500b\u8def\u5f91\u662f\u8981\u653e\u7f6e\u5b57\u578b\u6a94\u7684\u8cc7\u6599\u593e\uff0c\u4f46\u662fnpm\u5b89\u88dd\u5230node_modules\u88e1\u9762\u7684\u6a94\u6848\u4e26\u6c92\u6709\u5305\u542b\u539f\u59cb\u7684\u5b57\u578b\u6a94\u3001\u4ee5\u53ca\u9019\u500b\u8cc7\u6599\u593e\u8def\u5f91\uff0c\u6240\u4ee5\u9700\u8981\u624b\u52d5\u5efa\u7acb\u4e00\u500b\u8cc7\u6599\u593e\u4e26\u653e\u5165\u8981\u4f7f\u7528\u7684\u5b57\u578b\uff08\u53ef\u653e\u591a\u500b\u5b57\u578b\u6a94\uff09\u5230\u8a72\u8cc7\u6599\u593e\u88e1\uff0c\u7136\u5f8c\u518d\u628a\u9019\u500b\u8def\u5f91\u6539\u5beb\u6210\u81ea\u5df1\u5efa\u7acb\u7684\u8cc7\u6599\u593e\u3002\\n\\n![](./_img/20200223/pdfmake_2.png)\\n\\n\u63a5\u8457\u5728terminal\u4e2d\u5c07\u8def\u5f91\u79fb\u52d5\u5230pdfmake\u7684\u6839\u76ee\u9304\uff08\u4e5f\u5c31\u662f\u548cgulpfile.js\u6240\u5728\u7684\u8cc7\u6599\u593e\u4e2d\uff09\\n\\n`cd node_modules/pdfmake`\\n\\nsource code\u88e1\u9762\u5305\u542bpackage.json\u6a94\uff0c\u6240\u4ee5\u76f4\u63a5\u4e0b\u6307\u4ee4\u5c07\u6240\u9700\u5957\u4ef6\u5b89\u88dd\u5373\u53ef\u3002\\n\\n`npm install`\\n\\n\u6700\u5f8c\u4e00\u6b65\uff0c\u7528gulp\u6253\u5305\u5b57\u578b\u6a94\u3002\\n\\n`gulp buildFonts`\\n\\n\u5b8c\u6210\u4e4b\u5f8c\u5c31\u6703\u5728\u300cbuild\u300d\u8cc7\u6599\u593e\u88e1\u9762\u6253\u5305\u51favfs_fonts.js\uff0c\u9019\u500b\u6a94\u6848\u5c31\u662fpdfmake\u6240\u8981\u7528\u7684\u5b57\u578b\u6a94\u4e86\u3002\\n\\n\u6700\u5f8c\u4e00\u4ef6\u8981\u6ce8\u610f\u7684\u4e8b\u60c5\uff0c\u70ba\u65b9\u4fbf\u7dad\u8b77\u3001\u4ee5\u53ca\u907f\u514d\u5728node_modules\u66f4\u65b0\u7684\u904e\u7a0b\u7576\u4e2d\u88ab\u8986\u84cb\u6389\uff0c\u6211\u4e0d\u5efa\u8b70\u50c5\u5c07\u8a72\u6a94\u6848\u53d6\u4ee3\u6389\u539f\u59cb\u7684\u7a0b\u5f0f\uff0c\u6211\u6703\u5efa\u8b70\u628avfs_fonts.js\u8907\u88fd\u51fa\u4f86\u653e\u5230\u6211\u5011\u958b\u767c\u7684\u5c08\u6848\u8cc7\u6599\u593e\u7576\u4e2d\uff0c\u4ee5\u6211\u81ea\u5df1\u70ba\u4f8b\u6211\u662f\u4f7f\u7528vue-cli\u958b\u767c\u7684\u5c08\u6848\uff0c\u6211\u653e\u5728src/assets/fonts/\u8cc7\u6599\u593e\u7576\u4e2d\u3002\\n\\n### \u65b9\u6cd52 - \u4e0b\u8f09\u6574\u5305source code\uff1a\\n\\n\u65b9\u6cd52\u548c\u65b9\u6cd51\u5e7e\u4e4e\u662f\u4e00\u6a23\u4e86\u3002\u6211\u81ea\u5df1\u5c31\u662f\u9019\u6a23\u505a\u7684\uff0c\u56e0\u70ba\u6211\u4e0d\u60f3\u5728\u6211\u76ee\u524d\u958b\u767c\u4e2d\u7684\u5c08\u6848\u53bb\u4fee\u6539source code\uff08\u96d6\u7136\u5176\u5be6\u4e5f\u4e0d\u6703\u6709\u4ec0\u9ebc\u5f71\u97ff\uff09\uff0c\u6240\u4ee5\u5c31\u5230 [Github](https://github.com/bpampuch/pdfmake)\u4e0a\u5c07\u6574\u5305source code\u4e0b\u8f09\u4e0b\u4f86\uff0c\u7136\u5f8c\u5728\u7368\u7acb\u7684\u74b0\u5883\u88e1\u64cd\u4f5c\u3002\\n\\n\u9019\u5305\u6a94\u6848\u6bd4\u8d77\u65b9\u6cd51\u4e2d\u7528npm\u5b89\u88dd\uff0c\u9084\u6703\u591a\u4e86\u4e00\u500b\u53eb\u300cexamples\u300d\u7684\u8cc7\u6599\u593e\u3002\u9019\u500b\u8cc7\u6599\u593e\u88e1\u9084\u6709\u4e00\u500b\u53eb\u300cfonts\u300d\u7684\u8cc7\u6599\u593e\uff0c\u88e1\u9762\u5305\u542b\u4e86pdfmake\u9810\u8a2d\u4f7f\u7528\u7684\u5b57\u578b\u6a94\uff0c\u4f60\u61c9\u8a72\u6703\u770b\u5230\u9019\u4e9b\uff1a\\n\\n- Roboto-Italic.ttf\\n\\n- Roboto-Medium.ttf\\n\\n- Roboto-MediumItalic.ttf\\n\\n- Roboto-Regular.ttf\\n\\n\u7531\u65bc\u6253\u5305\u6642\u6703\u628a\u9019\u500b\u8cc7\u6599\u593e\u7684\u5b57\u578b\u6a94\u5168\u90e8\u4e00\u8d77\u6253\u5305\u3002\u5b57\u578b\u6a94\u6108\u591a\u3001\u6a94\u6848\u5c31\u6108\u5927\uff0c\u6a94\u6848\u6108\u5927\u3001\u524d\u7aef\u7db2\u9801\u6240\u8981\u4e0b\u8f09js chunk\u5c31\u6108\u5927\uff0c\u5982\u679c\u7528\u4e0d\u5230\uff0c\u5168\u90e8\u522a\u6389\u5373\u53ef\uff01\u522a\u522a\u522a\\n\\n\u7136\u5f8c\u628a\u81ea\u5df1\u8981\u7528\u7684\u5b57\u578b\u6a94\u653e\u9032\u53bb\uff08\u53ef\u653e\u591a\u500b\u5b57\u578b\u6a94\uff09\u3002\\n\\n\u63a5\u4e0b\u4f86\u6b65\u9a5f\u5c31\u548c\u65b9\u6cd51\u7576\u4e2d\u6240\u8aaa\u7684\u90fd\u4e00\u6a23\u4e86\uff1a\\n\\n\u5c07\u6240\u9700\u5957\u4ef6\u5b89\u88dd\u3002\\n\\n`npm install`\\n\\n\u6700\u5f8c\u4e00\u6b65\uff0c\u7528gulp\u6253\u5305\u5b57\u578b\u6a94\u3002\\n\\n`gulp buildFonts`\\n\\n\u5b8c\u6210\u4e4b\u5f8c\u5c31\u6703\u5728\u300cbuild\u300d\u8cc7\u6599\u593e\u88e1\u9762\u6253\u5305\u51favfs_fonts.js\uff0c\u9019\u500b\u6a94\u6848\u5c31\u662fpdfmake\u6240\u8981\u7528\u7684\u5b57\u578b\u6a94\u4e86\u3002\\n\\n\u70ba\u65b9\u4fbf\u7dad\u8b77\u3001\u4ee5\u53ca\u907f\u514d\u5728node_modules\u66f4\u65b0\u7684\u904e\u7a0b\u7576\u4e2d\u88ab\u8986\u84cb\u6389\uff0c\u6211\u4e0d\u5efa\u8b70\u50c5\u5c07\u8a72\u6a94\u6848\u53d6\u4ee3\u6389\u539f\u59cb\u7684\u7a0b\u5f0f\uff0c\u6211\u6703\u5efa\u8b70\u628avfs_fonts.js\u8907\u88fd\u51fa\u4f86\u653e\u5230\u6211\u5011\u958b\u767c\u7684\u5c08\u6848\u8cc7\u6599\u593e\u7576\u4e2d\uff0c\u4ee5\u6211\u81ea\u5df1\u70ba\u4f8b\u6211\u662f\u4f7f\u7528vue-cli\u958b\u767c\u7684\u5c08\u6848\uff0c\u6211\u653e\u5728src/assets/fonts/\u8cc7\u6599\u593e\u7576\u4e2d\u3002\\n\\n\\n\\n## \u4f7f\u7528\u65b9\u5f0f\\n\\n\u4ee5\u4e0b\u662f\u6211\u89ba\u5f97\u6bd4\u8f03\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff1a\\n\\n**1. \u8a2d\u5b9a\u9810\u8a2d\u5b57\u9ad4**\\n\\n\u9664\u975e\u4f60\u4fee\u6539source code\uff08\u9019\u5c31\u4e0d\u592a\u5efa\u8b70\u4e86\uff0c\u9019\u6a23\u7528npm\u7dad\u8b77\u5957\u4ef6\u7248\u672c\u6703\u6709\u4e9b\u554f\u984c\uff09\uff0c\u5426\u5247\u7684\u8a71\u9700\u8981\u5728\u53c3\u6578\u4e0a\u8a2d\u5b9a\u4f60\u6240\u5efa\u7acb\u7684\u9810\u8a2d\u5b57\u9ad4\u3002\\n\\n**2. \u7368\u7acb\u8f09\u5165\u5b57\u9ad4\u6a94**\\n\\n\u5728\u524d\u8ff0\u7684\u6b65\u9a5f\u4e2d\u5df2\u7d93\u6709\u63d0\u5230\u4e86\uff0c\u6211\u5efa\u8b70\u5c07\u6240\u6253\u5305\u7684\u5b57\u9ad4\u6a94vfs_fonts.js\u653e\u5230\u5728\u958b\u767c\u5c08\u6848\u7684\u8cc7\u6599\u593e\u7576\u4e2d\u3002\u4e00\u4f86\u662f\u70ba\u65b9\u4fbf\u7dad\u8b77\u3001\u4e5f\u907f\u514d\u5728node_modules\u66f4\u65b0\u7684\u904e\u7a0b\u7576\u4e2d\u88ab\u8986\u84cb\u6389\u3002\\n\\n**3. \u5b57\u9ad4\u6a94(vfs_fonts.js)\u53ef\u4f7f\u7528\u52d5\u614b\u8f09\u5165**\\n\\n\u5982\u679c\u662f\u5728js module\u7576\u4e2d\u76f4\u63a5import\u7684\u8a71\uff0cwebpack\u6703\u628avfs_fonts.js\u548c\u4f60\u7684\u9801\u9762\u7a0b\u5f0f\u6253\u5305\u6210\u540c\u4e00\u500bjs chunk\uff0c\u6a94\u6848size\u6703\u975e\u5e38\u9a5a\u4eba\uff0c\u6703\u5f71\u97ff\u5230\u8f09\u5165\u9801\u9762\u7684\u6548\u80fd\u3002\u6240\u4ee5\u6211\u6703\u8a2d\u8a08\u6210\u5728\u8981\u958b\u59cb\u4e0b\u8f09pdf\u7684\u6642\u5019\u624d\u53bb\u4e0b\u8f09vfs_fonts.js\\n\\n\\n\\n\u6839\u64da\u4e0a\u8ff0\u4e09\u9ede\uff0c\u4ee5\u4e0b\u662f\u7a0b\u5f0f\u7bc4\u4f8b\uff1a\\n\\n```\\nimport pdfMake from \'pdfmake/build/pdfmake\'\\n\\nlet data = {\\n  content: [\\n    // pdf\u5167\u5bb9\u53ca\u683c\u5f0f\\n  ],\\n  styles: {\\n    // \u6a23\u5f0f\u8a2d\u5b9a\\n  },\\n  defaultStyle: {\\n    font: \'NotoSansTC\' // \u9810\u8a2d\u7684\u5b57\u9ad4\u683c\u5f0f\\n  }\\n}\\n\\n// \u52d5\u614b\u8f09\u5165\u5b57\u9ad4\u6a94\\npdfMake.vfs = await import(\'@/assets/fonts/vfs_fonts.js\')\\n\\npdfMake.fonts = {\\n  NotoSansTC: {\\n    normal: \'NotoSansTC-Regular.woff2\',\\n    bold: \'NotoSansTC-Bold.woff2\',\\n  }\\n}\\n\\npdfMake.createPdf(data).download(\'\u6a94\u6848\u540d\u7a31\')\\n```"},{"id":"2019/12/24/vue-optimization1","metadata":{"permalink":"/blog/2019/12/24/vue-optimization1","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/2019-12-24-(\u8b6f)Vue.js App \u6548\u80fd\u512a\u5316: part1 \u2013 \u6548\u80fd\u512a\u5316\u548clazy loading.md","source":"@site/blog/2019/2019-12-24-(\u8b6f)Vue.js App \u6548\u80fd\u512a\u5316: part1 \u2013 \u6548\u80fd\u512a\u5316\u548clazy loading.md","title":"(\u8b6f)Vue.js App \u6548\u80fd\u512a\u5316: part1 \u2013 \u6548\u80fd\u512a\u5316\u548clazy loading","description":"\u8b6f\u8005\u8aaa\u660e","date":"2019-12-24T00:00:00.000Z","formattedDate":"December 24, 2019","tags":[{"label":"vue","permalink":"/blog/tags/vue"},{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":9.67,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2019/12/24/vue-optimization1","title":"(\u8b6f)Vue.js App \u6548\u80fd\u512a\u5316: part1 \u2013 \u6548\u80fd\u512a\u5316\u548clazy loading","authors":"thunderboy","tags":["vue","javascript"]},"prevItem":{"title":"\u524d\u7aefPDF\u4e0b\u8f09 | pdfmake\u81ea\u8a02\u4e2d\u6587\u5b57\u578b\uff08\u4f7f\u7528NotoSansTC\uff09","permalink":"/blog/2020/02/23/pdfmake-chinese-font"},"nextItem":{"title":"(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part2 \u2013 Lazy loading\u8def\u7531\u53ca\u7b2c\u4e09\u65b9\u5eab\u6253\u5305\u53cd\u5411\u6a21\u5f0f(anti-pattern)","permalink":"/blog/2019/12/24/vue-optimization2"}},"content":"## \u8b6f\u8005\u8aaa\u660e\\n\\n\u6700\u8fd1\u4f7f\u7528Vue.js\u6295\u5165\u516c\u53f8\u7522\u54c1\u958b\u767c\u82b1\u4e86\u4e0d\u5c11\u5fc3\u8840\uff0c\u95dc\u65bc\u524d\u7aef\u7684\u6548\u80fd\u662f\u4e00\u4ef6\u5f88\u91cd\u8981\u7684\u4e8b\u60c5\uff0c\u9019\u500b\u7cfb\u5217\u6587\u6709\u505a\u4e86\u4e00\u4e9b\u6709\u8da3\u7684\u63a2\u8a0e\uff0c\u539f\u6587\u4f5c\u8005\u4f3c\u4e4e\u4e5f\u9084\u6c92\u5beb\u5b8c\uff0c\u6211\u5148\u5f9e\u7b2c\u4e00\u7bc7\u958b\u59cb\u7ffb\u8d77\uff0c\u539f\u6587\u5728\u6b64\uff1a\\n\\nhttps://itnext.io/vue-js-app-performance-optimization-part-1-introduction-to-performance-optimization-and-lazy-29e4ff101019\\n\\n---\\n\\n\u7576\u884c\u52d5\u512a\u5148\u5c0e\u5411\u6210\u70ba\u6a19\u6e96\u3001\u4e26\u4e14\u4e0d\u78ba\u5b9a\u6027\u7684\u7db2\u8def\u74b0\u5883\u4e5f\u6210\u70ba\u6211\u5011\u5fc5\u9808\u8003\u616e\u7684\u56e0\u7d20\u6642\uff0c\u8b93\u61c9\u7528\u7a0b\u5f0f\u4fdd\u6301\u9ad8\u901f\u6210\u70ba\u8d8a\u4f86\u8d8a\u56f0\u96e3\u7684\u4e8b\u60c5\u3002\u5728\u9019\u500b\u7cfb\u5217\u7576\u4e2d\u6211\u6703\u6316\u6398\u66f4\u6df1\u7684Vue\u512a\u5316\u6280\u8853 \u2013 \u6211\u5011\u5728Vue Storefront\u7576\u4e2d\u6240\u4f7f\u7528\u7684\u6280\u8853\uff0c\u800c\u4f60\u4e5f\u53ef\u4ee5\u7528\u5728\u4f60\u7684Vue.js\u61c9\u7528\u7a0b\u5f0f\u7576\u4e2d\u4f86\u8b93\u4ed6\u5011\u77ac\u9593\u8b80\u53d6\u4e26\u4e14\u8868\u73fe\u5f97\u5e73\u6ed1\u3002\u6211\u7684\u76ee\u7684\u662f\u5728\u9019\u7cfb\u5217\u4e2d\u5c0d\u65bcVue.js\u61c9\u7528\u7a0b\u5f0f\u6548\u80fd\u7d66\u51fa\u4e00\u500b\u5b8c\u6574\u7684\u6307\u5357\u3002\\n\\n- Part 1 \u2013 \u4ecb\u7d39\u6548\u80fd\u512a\u5316\u53calazy loading\\n- Part 2 \u2013 Lazy loading\u8def\u7531\u53ca\u7b2c\u4e09\u65b9\u5eab\u7684\u53cd\u5411\u6a21\u5f0f(anti-pattern)\\n- Part 3 \u2013 Lazy loading Vuex\u6a21\u7d44\\n- Part 4 \u2013 Lazy loading\u55ae\u4e00Component\\n- Part 5 \u2013 Lazy loading\u51fd\u5f0f\u5eab\u548c\u5c0b\u627e\u6700\u5c0f\u96c6\u5408\\n- Part 6 \u2013 \u4f7f\u7528Service Worker cache\\n- Part 7 \u2013 \u9810\u8b80\u53d6\\n\\n\x3c!--truncate--\x3e\\n\\n## Webpack\u6253\u5305\u5982\u4f55\u904b\u4f5c\uff1f\\n\\n\u672c\u7cfb\u5217\u4e2d\u5927\u90e8\u4efd\u7684\u63d0\u793a\u90fd\u662f\u805a\u7126\u5728\u4f7f\u6211\u5011\u7684js bundle\u66f4\u5c0f\u3002\u70ba\u4e86\u4e86\u89e3\u9019\u662f\u81f3\u95dc\u91cd\u8981\u7684\uff0c\u6211\u5011\u9700\u8981\u4e86\u89e3Webpack\u662f\u5982\u4f55\u628a\u5168\u90e8\u6a94\u6848\u6253\u5305\u4f86\u8d77\u7684\u3002\\n\\n\u7576Webpack\u6253\u5305\u6240\u6709\u8cc7\u6e90\u6642\u6703\u7522\u751f\u4f9d\u8cf4\u6a39\uff0c\u9019\u662f\u4e00\u500b\u9023\u7d50\u6240\u6709\u6211\u5011\u4f7f\u7528import\u5f15\u5165\u6a94\u6848\u7684\u5716\u578b\u3002\u5047\u8a2d\u6211\u5011\u5728Webpack config\u4e2d\u4f7f\u7528main.js\u4f5c\u70ba\u7279\u5b9a\u5165\u53e3\uff0c\u4ed6\u5c31\u6703\u662f\u6574\u500b\u4f9d\u8cf4\u6a39\u7684\u6839\u7bc0\u9ede\u3002\u90a3\u6bcf\u4e00\u500bimport\u5230\u8a72\u6a94\u6848\u5e95\u4e0b\u7684js module\u90fd\u6703\u6210\u70ba\u5716\u578b\u7576\u4e2d\u7684\u8449\u7bc0\u9ede\uff0c\u4e26\u4e14\u6bcf\u4e00\u500bimport\u9032\u8a72\u8449\u7bc0\u9ede\u7684module\u4e5f\u6210\u70ba\u4ed6\u7684\u8449\u7bc0\u9ede\u3002\\n\\nWabpack\u4f7f\u7528\u9019\u500b\u4f9d\u8cf4\u6a39\u5716\u578b\u5075\u6e2c\u8a72\u7d0d\u5165\u6253\u5305\u8f38\u51fa\u7576\u4e2d\u3002\u6253\u5305\u51fa\u4f86\u6703\u662f\u4e00\u500b\u5305\u542b\u6240\u6709\u4f9d\u8cf4\u6a39\u4e2d\u7684module\u7684\u55ae\u4e00javascript\u6a94\u6848\uff08\u6216\u8005\u591a\u500b\uff0c\u5f8c\u9762\u7ae0\u7bc0\u6703\u5beb\uff09\\n\\n\u6211\u5011\u53ef\u4ee5\u628a\u9019\u500b\u9032\u7a0b\u7e6a\u88fd\u6210\u4ee5\u4e0b\u5982\u5716\uff1a\\n\\n![](./_img/20191224/20191224_1.png)\\n\\n\u73fe\u5728\u6211\u5011\u77e5\u9053\u6253\u5305\u662f\u5982\u4f55\u904b\u4f5c\u7684\uff0c\u5f88\u660e\u986f\u7684\u4ed6\u6703\u6210\u9577\u5230\u5c08\u6848\u5167\u6700\u5927\u5316\u7684\u521d\u59cbjavascript\u6253\u5305\u6a94\u6848\u3002\u6a94\u6848\u6108\u5927\u4ee3\u8868\u4f7f\u7528\u8005\u9700\u82b1\u66f4\u591a\u6642\u9593\u4e0b\u8f09\uff0c\u4e5f\u4ee3\u8868\u4f7f\u7528\u4f7f\u7528\u8005\u66f4\u53ef\u80fd\u96e2\u958b\u6211\u5011\u7684\u7db2\u7ad9\u3002\\n\\n\u7c21\u800c\u8a00\u4e4b\uff0c\u5927\u90e8\u4efd\u7684\u60c5\u6cc1\u4e0b\u6108\u5927\u7684\u6253\u5305=\u6108\u5c11\u7684\u7528\u6236\u3002\\n\\n##Lazy loading\\n\\n\u6240\u4ee5\u70ba\u4e86\u6539\u9032\u6211\u5011\u7684\u61c9\u7528\u7a0b\u5f0f\uff0c\u7576\u6211\u5011\u9700\u8981\u589e\u52a0\u529f\u80fd\u6642\u8a72\u5982\u4f55\u6e1b\u5c11\u6253\u5305\u6a94\u6848\u7684\u5927\u5c0f\uff1f\u7576\u6848\u5f88\u7c21\u55ae-lazy loading\u548c\u7a0b\u5f0f\u78bc\u5207\u5272\u3002\\n\\n\u5f9e\u5b57\u9762\u4e0a\u4f86\u770blazy loading\u5c31\u662f\u61f6\u60f0\u5f97\u53ea\u8f09\u5165\u61c9\u7528\u7a0b\u5f0f\u7684\u4e00\u90e8\u4efd\u3002\u53e6\u5916\u4e00\u7a2e\u8aaa\u6cd5\u5c31\u662f-\u53ea\u8f09\u5165\u6211\u5011\u771f\u7684\u9700\u8981\u7684\u90e8\u4efd\u3002\u7a0b\u5f0f\u78bc\u5207\u5272\u53ea\u5207\u5272\u51fa\u9019\u500b\u8f09\u5165\u7684\u90e8\u4efd\u3002\\n\\n![](./_img/20191224/20191224_2.png)\\n\\n\u5927\u90e8\u4efd\u7684\u60c5\u6cc1\u4e0b\u7576\u4f7f\u7528\u8005\u9032\u5165\u7db2\u7ad9\u6642\u4e0d\u9700\u8981javascript\u6253\u5305\u4e2d\u7684\u6240\u6709\u7a0b\u5f0f\uff0c\u5c31\u7b97\u6211\u5011\u67093\u500b\u4e0d\u540c\u7684\u8def\u7531\u4f4d\u7f6e\u800c\u4f7f\u7528\u8005\u7121\u8ad6\u5982\u4f55\u90fd\u9700\u8981\u4e0b\u8f09\u3001\u89e3\u6790\u3001\u4e26\u57f7\u884c\u6253\u5305\u7a0b\u5f0f-\u4e0d\u8ad6\u4ed6\u5011\u662f\u5426\u6703\u9700\u8981\u7528\u5230\u3002\u9019\u662f\u591a\u9ebc\u6d6a\u8cbb\u6642\u9593\u548c\u529b\u6c23\uff01\\n\\nLazy loading\u5141\u8a31\u6211\u5011\u5207\u5272\u6253\u5305\u4e26\u63d0\u4f9b\u6240\u9700\u8981\u7684\u90e8\u4efd\uff0c\u4f7f\u7528\u8005\u4e0d\u9700\u8981\u6d6a\u8cbb\u6642\u9593\u4e0b\u8f09\u53ca\u89e3\u6790\u4ed6\u5011\u4e0d\u9700\u8981\u7684\u7a0b\u5f0f\u3002\u8981\u770b\u7db2\u7ad9\u5be6\u969b\u4e0a\u4f7f\u7528\u5230\u7684javascript\u7a0b\u5f0f\u6211\u5011\u53ef\u4ee5\u5230\u958b\u767c\u8005\u5de5\u5177->cmd+shift+p ->\u8f38\u5165\u201dcoverage\u201d->\u9ede\u64ca\u201d\u9304\u88fd\u201d\uff0c\u63a5\u8457\u6211\u5011\u61c9\u8a72\u53ef\u4ee5\u770b\u5230\u4e0b\u8f09\u4e86\u591a\u5c11\u5be6\u969b\u4e0a\u4f7f\u7528\u5230\u7684\u7a0b\u5f0f\u3002\\n\\n![](./_img/20191224/20191224_3.png)\\n\\n\u6bcf\u4e00\u500b\u88ab\u6a19\u6210\u7d05\u8272\u7684\u5c31\u662f\u76ee\u524d\u8def\u7531\u88e1\u4e0d\u9700\u8981\u4e26\u53ef\u4ee5\u88ab\u5ef6\u9072\u8f09\u5165\u7684\u7a0b\u5f0f\uff0c\u5982\u679c\u4f60\u6709\u7528\u5230source map\u90a3\u4f60\u53ef\u4ee5\u9ede\u9078\u6e05\u55ae\u88e1\u4efb\u4f55\u6c92\u6709\u88ab\u5f15\u7528\u5230\u7684\u6a94\u6848\u3002\u5f9e\u4ee5\u4e0a\u89c0\u5bdf\u53ef\u77e5\u751a\u81f3vuejs.org\u4e5f\u6709\u5f88\u5927\u7684\u9032\u6b65\u7a7a\u9593^_^\u3002\\n\\n\u900f\u904elazy loading\u7279\u6027\u7684component\u548c\u7a0b\u5f0f\u5eab\uff0c\u6211\u5011\u780d\u6389\u4e8660%d Vue Storefront\u7684\u6253\u5305\u6a94\u6848\u5bb9\u91cf\u3002\\n\\nOK\uff0c\u6211\u5011\u73fe\u5728\u77e5\u9053lazy loading\u662f\u4ec0\u9ebc\u800c\u4e14\u6709\u591a\u5be6\u7528\u4e86^_^\uff0c\u73fe\u5728\u6211\u5011\u4f86\u770b\u4ed6\u53ef\u4ee5\u5982\u4f55\u7528\u5728\u6211\u5011\u7684Vue.js\u61c9\u7528\u7a0b\u5f0f\u3002\\n\\n##Dynamic imports\\n\\n\u900f\u904ewebpack\u7684dynamic imports\u53ef\u4ee5\u5f88\u8f15\u6613\u7684\u5ef6\u9072\u8f09\u5165\u90e8\u4efd\u7a0b\u5f0f\uff0c\u6211\u5011\u4f86\u770b\u4ed6\u662f\u5982\u4f55\u904b\u4f5c\u4e26\u4e14\u548c\u4e00\u822c\u7684import\u6709\u4ec0\u9ebc\u4e0d\u540c\u3002\\n\\n\u5982\u679c\u6211\u5011\u4f7f\u7528\u4e00\u822c\u7684\u65b9\u5f0fimport JS module\u6703\u50cf\u5982\u4e0b\uff1a\\n\\n```\\n// main.js\\n \\nimport ModuleA from \'./module_a.js\'\\n \\nModuleA.doStuff()\\n```\\n\\n\u4ed6\u6703\u88ab\u52a0\u5165\u5230main.js\u7684\u4f9d\u8cf4\u6a39\u4e2d\u7684\u8449\u7bc0\u9ede\u4e26\u88ab\u6253\u5305\u9032\u53bb\u3002\\n\\n\u4f46\u5982\u679c\u6211\u5011\u53ea\u6709\u5728\u7279\u5b9a\u60c5\u6cc1\u4e0b\u624d\u6703\u7528\u5230ModuleA\u5462\uff08\u6bd4\u5982\u8aaa\u4f7f\u7528\u8005\u4e92\u52d5\u7684\u4e8b\u4ef6\uff09\uff1f\u5728\u6700\u4e00\u958b\u59cb\u7684\u6642\u5019\u5c31\u6253\u5305\u9032\u53bb\u4e0d\u662f\u4e00\u500b\u597d\u4e3b\u984c\u3002\u6211\u5011\u9700\u8981\u4e00\u500b\u65b9\u5f0f\u544a\u8a34\u6211\u5011\u7684\u61c9\u7528\u7a0b\u5f0f\u4f55\u6642\u8a72\u4e0b\u8f09\u9019\u500b\u90e8\u4efd\u7684\u7a0b\u5f0f\u3002\\n\\n\u9019\u4e5f\u5c31\u662f\u52d5\u614b\u8f09\u5165\u6240\u80fd\u89e3\u6c7a\u7684\u554f\u984c\uff01\u73fe\u5728\u4f86\u770b\u770b\u4ee5\u4e0b\u4f8b\u5b50\uff1a\\n\\n```\\n//main.js\\n \\nconst getModuleA = () => import(\'./module_a.js\')\\n \\n// invoked as a response to some user interaction\\n \\ngetModuleA()\\n \\n.then({ doStuff } => doStuff())\\n```\\n\\n\u4f86\u5feb\u901f\u770b\u4e00\u4e0b\u6703\u767c\u751f\u4ec0\u9ebc\u4e8b\uff1a\\n\\n\u6211\u5011\u5beb\u4e00\u500bfunction\u56de\u50b3import()\u51fd\u5f0f\u4ee5\u53d6\u4ee3\u76f4\u63a5\u5f15\u5165module_a.js\u3002\u73fe\u5728webpack\u52d5\u614bimport\u9032\u4f86\u7684\u90e8\u4efd\u7a0b\u5f0f\uff0c\u9664\u975e\u51fd\u5f0f\u88ab\u547c\u53eb\u5426\u5247\u7a0b\u5f0f\u4e0d\u6703\u88abimport\u4e26\u4e0b\u8f09\u3002\u4e4b\u5f8c\u9019\u6bb5\u7a0b\u5f0f\u5c07\u53ea\u6703\u5728\u7279\u5b9a\u7684\u64cd\u4f5c\u4e2d\u88ab\u4e0b\u8f09\u4e0b\u4f86\u3002\\n\\n\u900f\u904e\u52d5\u614b\u8f09\u5165\u6211\u5011\u57fa\u672c\u4e0a\u9694\u96e2\u4e86\u7279\u5b9a\u7684\u8449\u7bc0\u9ede\uff08\u5728\u6b64\u4f8b\u4e2d\u70bamodule_a\uff09\uff0c\u4ed6\u6703\u5728\u6211\u5011\u6c7a\u5b9a\u8f09\u5165\u7684\u6642\u5019\u624d\u52a0\u5165\u4f9d\u8cf4\u6a39\u4e26\u4e0b\u8f09\uff08\u9019\u6697\u793a\u4e86\u6211\u5011\u540c\u6642\u4e5f\u5207\u5272\u4e86module_a.js\u7576\u4e2d\u4f9d\u8cf4\u7684module\uff09\\n\\n\u6211\u5011\u4f86\u770b\u53e6\u4e00\u500b\u66f4\u597d\u7684\u4f8b\u5b50\u4f86\u8aaa\u660e\u9019\u500b\u6a5f\u5236\u3002\u5047\u8a2d\u6211\u5011\u67094\u500b\u6a94\u6848\uff1amain.js\u3001module_a.js\u3001module_b.js\u3001module_c.js\uff0c\u4f86\u4e86\u89e3\u52d5\u614b\u8f09\u5165\u662f\u5982\u4f55\u904b\u4f5c\u7684\uff0c\u6211\u5011\u53ea\u9700\u8981main\u548cmodule_a\u7684\u539f\u59cb\u78bc\uff1a\\n\\n```\\n//main.js\\n \\nimport ModuleB from \'./mobile_b.js\'\\n \\nconst getModuleA = () => import(\'./module_a.js\')\\n \\ngetModuleA()\\n \\n.then({ doStuff } => doStuff()\\n \\n)\\n \\n//module_a.js\\n \\nimport ModuleC from \'./module_c.js\'\\n```\\n\\n\u628amodule_a\u4f5c\u70ba\u4e00\u500b\u52d5\u614b\u8f09\u5165\u7528\u7684module\u53ef\u4ee5\u5207\u5272\u6389\u4f9d\u8cf4\u6a39\u4e2d\u7684module_a\u548c\u4ed6\u7684\u5b50\u7bc0\u9ede\u3002\u7576module_a\u52d5\u614b\u8f09\u5165\u6642\u6703\u9023\u540c\u88e1\u9762import\u7684\u6a94\u6848\u4e00\u8d77\u8f09\u5165\u3002\u63db\u53e5\u8a71\u8aaa\uff0c\u6211\u5011\u53ef\u4ee5\u5efa\u7f6e\u4e86\u4e00\u500b\u65b0\u7684\u4f9d\u8cf4\u5716\u7684\u9032\u5165\u9ede\u3002\\n\\n![](./_img/20191224/20191224_4.png)\\n\\n\u9019\u5c31\u662f\u9019\u500b\u4f9d\u8cf4\u5716\u548c\u6253\u5305\u6703\u9577\u7684\u6a23\u5b50\u3002\\n\\n## Lazy loading Vue components\\n\\n\u6211\u5011\u73fe\u5728\u77e5\u9053lazy loading\u662f\u4ec0\u9ebc\u4e26\u4e14\u70ba\u4f55\u9700\u8981\u4e86\uff0c\u73fe\u5728\u662f\u6642\u5019\u4f86\u770b\u6211\u5011\u53ef\u4ee5\u5982\u4f55\u5728Vue\u61c9\u7528\u7a0b\u5f0f\u7576\u4e2d\u4f7f\u7528\u3002\\n\\n\u597d\u6d88\u606f\u662f\uff0c\u900f\u904e\u4ee5\u4e0a\u8a9e\u6cd5\u53ef\u4ee5\u8d85\u7d1a\u7c21\u55ae\u7684\u8f09\u5165\u6574\u500bSFC\uff08\u55ae\u6587\u4ef6Component-\u4e5f\u5c31\u662f.vue\u6a94\uff09\u3001\u5305\u542bcss\u548chtml\u3002\\n\\n```\\nconst lazyComponent = () => import(\'Component.vue\')\\n```\\n\\n\u2026\u53ea\u8981\u9019\u6a23\u5c31\u641e\u5b9a\u4e86\uff01\u73fe\u5728component\u53ea\u6709\u5728\u4f60\u547c\u53eb\u4ed6\u6642\u624d\u6703\u8f09\u5165\u3002\u4ee5\u4e0b\u662f\u6700\u5e38\u4f7f\u7528\u52d5\u614b\u8f09\u5165Vue component\u7684\u65b9\u6cd5\uff1a\\n\\n* \u628aimport\u5beb\u6210\u53ef\u547c\u53eb\u7684\u51fd\u5f0f\\n\\n```\\nconst lazyComponent = () => import(\'Component.vue\')\\n \\nlazyComponent()\\n```\\n\\n* component\u88ab\u547c\u53eb\u5f8c\u6e32\u67d3\\n\\n\u8acb\u6ce8\u610flazyComponent\u51fd\u5f0f\u53ea\u6709\u5728\u547c\u53eb\u4ed6\u6642\u624d\u6703\u6e32\u67d3\u9032template\u3002\\n\\n```\\n<template>\\n<div>\\n<lazy-component />\\n</div>\\n</template>\\n<script>\\nconst lazyComponent = () => import(\'Component.vue\')\\nexport default {\\ncomponents: { lazyComponent }\\n}\\n<\/script>\\n```\\n\\n\u4f8b\u5982\uff1a\\n\\n```\\n<lazy-component v-if=\\"false\\">\\n```\\n\\n\u9019\u6a23\u5beb\u7684\u8a71\u4ed6\u662f\u4e0d\u6703\u52a0\u5165\u5230dom\u7576\u4e2d\u7684\uff08\u4f46\u7576v-if\u53c3\u6578\u8b8a\u70batrue\u6642\u5c31\u6703\u8f09\u5165\uff0c\u9019\u4e5f\u662f\u500b\u4e0d\u932f\u7684\u65b9\u6cd5\uff09\\n\\n## \u7d50\u8a9e\\n\\nLazy loading\u662f\u4e00\u500b\u4f7f\u4f60\u7684\u7db2\u7ad9\u66f4\u6709\u6548\u6e1b\u5c11\u5bb9\u91cf\u7684\u597d\u65b9\u6cd5\uff0c\u6211\u5011\u5b78\u5230\u5982\u4f55\u5728Vue component\u7576\u4e2d\u4f7f\u7528lazy loading\u3002\u4e0b\u4e00\u500b\u7bc7\u6587\u7ae0\u6211\u6703\u544a\u8a34\u4f60\u5982\u4f55\u4f7f\u7528vue-router\u548c\u52d5\u614b\u8def\u7531\u6e1b\u5c11\u4f60\u7684Vue\u61c9\u7528\u7a0b\u5f0f\u5bb9\u91cf\u3002"},{"id":"2019/12/24/vue-optimization2","metadata":{"permalink":"/blog/2019/12/24/vue-optimization2","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/2019-12-24-(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part2 \u2013 Lazy loading\u8def\u7531\u53ca\u7b2c\u4e09\u65b9\u5eab\u6253\u5305\u53cd\u5411\u6a21\u5f0f(anti-pattern).md","source":"@site/blog/2019/2019-12-24-(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part2 \u2013 Lazy loading\u8def\u7531\u53ca\u7b2c\u4e09\u65b9\u5eab\u6253\u5305\u53cd\u5411\u6a21\u5f0f(anti-pattern).md","title":"(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part2 \u2013 Lazy loading\u8def\u7531\u53ca\u7b2c\u4e09\u65b9\u5eab\u6253\u5305\u53cd\u5411\u6a21\u5f0f(anti-pattern)","description":"\u5728\u524d\u4e00\u7bc7\u6587\u7ae0\u7576\u4e2d\u6211\u5011\u5b78\u5230\u4e86\u4ec0\u9ebc\u662f\u5207\u5272\u7a0b\u5f0f\u78bc\u3001\u5b83\u662f\u5982\u4f55\u904b\u4f5c\u7684\u4ee5\u53ca\u5728Vue.js\u61c9\u7528\u7a0b\u5f0f\u4e2d\u5982\u4f55\u548clazy loading\u4e00\u8d77\u4f7f\u7528\u3002\u73fe\u5728\u6211\u5011\u5c07\u7a0d\u5fae\u6df1\u5165\u4e00\u9ede\u7684\u4f86\u770b\u7a0b\u5f0f\u78bc\uff0c\u4e26\u5b78\u7fd2\u5728Vue.js\u61c9\u7528\u7a0b\u5f0f\u4e2d\u6700\u5be6\u7528\u7684\u7a0b\u5f0f\u78bc\u5207\u5272\u7684\u6a21\u5f0f\u3002","date":"2019-12-24T00:00:00.000Z","formattedDate":"December 24, 2019","tags":[{"label":"vue","permalink":"/blog/tags/vue"},{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":8.03,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2019/12/24/vue-optimization2","title":"(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part2 \u2013 Lazy loading\u8def\u7531\u53ca\u7b2c\u4e09\u65b9\u5eab\u6253\u5305\u53cd\u5411\u6a21\u5f0f(anti-pattern)","authors":"thunderboy","tags":["vue","javascript"]},"prevItem":{"title":"(\u8b6f)Vue.js App \u6548\u80fd\u512a\u5316: part1 \u2013 \u6548\u80fd\u512a\u5316\u548clazy loading","permalink":"/blog/2019/12/24/vue-optimization1"},"nextItem":{"title":"(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part3 \u2013 Lazy loading Vuex modules","permalink":"/blog/2019/12/24/vue-optimization3"}},"content":"\u5728\u524d\u4e00\u7bc7\u6587\u7ae0\u7576\u4e2d\u6211\u5011\u5b78\u5230\u4e86\u4ec0\u9ebc\u662f\u5207\u5272\u7a0b\u5f0f\u78bc\u3001\u5b83\u662f\u5982\u4f55\u904b\u4f5c\u7684\u4ee5\u53ca\u5728Vue.js\u61c9\u7528\u7a0b\u5f0f\u4e2d\u5982\u4f55\u548clazy loading\u4e00\u8d77\u4f7f\u7528\u3002\u73fe\u5728\u6211\u5011\u5c07\u7a0d\u5fae\u6df1\u5165\u4e00\u9ede\u7684\u4f86\u770b\u7a0b\u5f0f\u78bc\uff0c\u4e26\u5b78\u7fd2\u5728Vue.js\u61c9\u7528\u7a0b\u5f0f\u4e2d\u6700\u5be6\u7528\u7684\u7a0b\u5f0f\u78bc\u5207\u5272\u7684\u6a21\u5f0f\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u9019\u500b\u7cfb\u5217\u662f\u57fa\u65bc\u5f9e[Vue Storefront](https://github.com/DivanteLtd/vue-storefront)\u7684\u6548\u80fd\u512a\u5316\u8655\u7406\u4e2d\u6240\u5b78\u5230\u7684\u3002\u900f\u904e\u4ee5\u4e0b\u7684\u6280\u8853\u6211\u5011\u53ef\u4ee5\u780d\u6389\u6211\u5011\u6700\u521d\u7684\u6253\u5305\u768470%\uff0c\u4f7f\u4ed6\u8f09\u5165\u5728\u4e00\u7728\u9593\u5c31\u5b8c\u6210\u3002\\n\\n- Part 1 \u2013 \u4ecb\u7d39\u6548\u80fd\u512a\u5316\u53calazy loading\\n- Part 2 \u2013 Lazy loading\u8def\u7531\u53ca\u7b2c\u4e09\u65b9\u5eab\u7684\u53cd\u5411\u6a21\u5f0f(anti-pattern)\\n- Part 3 \u2013 Lazy loading Vuex\u6a21\u7d44\\n- Part 4 \u2013 Lazy loading\u55ae\u4e00Component\\n- Part 5 \u2013 Lazy loading\u51fd\u5f0f\u5eab\u548c\u5c0b\u627e\u6700\u5c0f\u96c6\u5408\\n- Part 6 \u2013 \u4f7f\u7528Service Worker cache\\n- Part 7 \u2013 \u9810\u8b80\u53d6\\n\\n## \u6210\u9577\u4e2d\u7684\u61c9\u7528\u7a0b\u5f0f\u7684\u554f\u984c\\n\\nVue-router\u662f\u4e00\u500b\u53ef\u4ee5\u5207\u5272\u6211\u5011\u7684\u7db2\u9801\u61c9\u7528\u7a0b\u5f0f\u6210\u70ba\u5404\u5225\u9801\u9762\u3002\u5404\u81ea\u7684\u9801\u9762\u5c0d\u61c9\u5230\u7279\u5b9a\u7684URL\u8def\u5f91\u3002\\n\\n\u6709\u4e86\u9019\u500b\u60f3\u50cf\u4e4b\u5f8c\u6211\u5011\u6709\u4ee5\u4e0b\u4e00\u500b\u7c21\u55ae\u7684\u4f5c\u54c1\u96c6\u7a0b\u5f0f\u67b6\u69cb\uff1a\\n\\n![](./_img/20191224/20191224_5.png)\\n\\n![](./_img/20191224/20191224_6.png)\\n\\n\u4f60\u53ef\u80fd\u6703\u6ce8\u610f\u5230\u6211\u5011\u9084\u4e0d\u9700\u8981app.js\u6253\u5305\u4e2d\u4f9d\u8cf4\u7684Home.vue\u548cAbout.vue(\u4ee5\u53ca\u5176\u4f9d\u8cf4\u7684lodash)\u3001\u4e26\u4e14\u7121\u8ad6\u4f7f\u7528\u8005\u8a2a\u554f\u54ea\u500b\u8def\u7531\u90fd\u6703\u628a\u4ed6\u5011\u4e0b\u8f09\u4e0b\u4f86\u3002\u9019\u5f88\u6d6a\u8cbb\u4e0b\u8f09\u6d41\u91cf\u800c\u4e14\u6d6a\u8cbb\u6642\u9593\uff01\\n\\n\u5982\u679c\u53ea\u662f\u591a\u4e0b\u8f09\u4e00\u500b\u7a0b\u5f0f\u9019\u6c92\u4ec0\u9ebc\u5927\u4e0d\u4e86\u7684\uff0c\u4f46\u4f60\u53ef\u4ee5\u60f3\u5982\u679c\u9019\u500b\u7a0b\u5f0f\u6210\u9577\u5f97\u6108\u4f86\u6108\u5927\uff0c\u6bcf\u4e00\u500b\u984d\u5916\u589e\u9577\u4ee3\u8868\u5728\u521d\u6b21\u8a2a\u554f\u6642\u9700\u4e0b\u8f09\u66f4\u5927\u7684\u6253\u5305\u3002\\n\\n\u5c31\u7b97\u53ea\u67091\u79d2\u7684\u6642\u9593\u662f\u8db3\u4ee5\u8b93\u4f7f\u7528\u8005\u5206\u5fc3\u4e26\u6709\u53ef\u80fd\u96e2\u958b\u6211\u5011\u7684\u7db2\u7ad9\uff0c\u9019\u662f\u4e0d\u80fd\u5920\u88ab\u63a5\u53d7\u7684\uff01\\n\\n![\u95dc\u65bc\u6027\u80fd\u53ca\u4eba\u985e\u611f\u77e5\u7684\u6f14\u8b1b\u6295\u5f71\u7247 (Ilya Grigorik)](./_img/20191224/20191224_7.png)\\n\\n\u5716\uff1a\u95dc\u65bc\u6027\u80fd\u53ca\u4eba\u985e\u611f\u77e5\u7684\u6f14\u8b1b\u6295\u5f71\u7247 (Ilya Grigorik)\\nhttps://www.youtube.com/watch?v=7ubJzEi3HuA\\n\\n##\u4f7f\u7528vue-router\u4ee5\u8def\u7531\u70ba\u57fa\u6e96\u7684\u7a0b\u5f0f\u78bc\u5207\u5272\\n\\n\u70ba\u89e3\u6c7a\u6c7a\u9019\u500b\u60c5\u6cc1 \uff0c\u6211\u5011\u53ea\u9700\u8981\u4f7f\u7528\u524d\u4e00\u7bc7\u6587\u7ae0\u5b78\u5230\u7684import\u8a9e\u6cd5\u3001\u6839\u64da\u6bcf\u500b\u8def\u7531\u4f86\u5207\u5272\u6253\u5305\u3002\\n\\n\u5c31\u50cfVue.js\u88e1\u5176\u4ed6\u7684\u4efb\u4f55\u6771\u897f \u2013 \u8d85\u7d1a\u7c21\u55ae\u3002\u8981\u53d6\u4ee3\u6389\u76f4\u63a5\u5730import component\u5230\u8def\u7531\u7269\u4ef6\u88e1\uff0c\u6211\u5011\u53ea\u9700\u8981\u8cbc\u4e0a\u52d5\u614bimport\u7684function\u5c31\u53ef\u4ee5\u4e86\u3002Component\u53ea\u6709\u5728\u8def\u7531\u8981\u5c0d\u61c9\u904e\u53bb\u6642\u624d\u6703\u88ab\u4e0b\u8f09\u4e0b\u4f86\u3002\\n\\n\u6240\u4ee5\u53d6\u4ee3\u50cf\u9019\u6a23\u5b50\u76f4\u63a5\u8f09\u5165\u8def\u7531component\uff1a\\n\\n```\\nimport RouteComponent form \'./RouteComponent.vue\'\\nconst routes = [\\n  { path: /foo\', component: RouteComponent }\\n]\\n```\\n\\n\u6211\u5011\u9700\u8981\u5728\u9019\u500b\u8def\u7531\u4e0a\u7684\u5165\u53e3\u8655\u52a0\u5165\u80fd\u7522\u751f\u65b0\u7684\u6253\u5305\u7684\u52d5\u614bimport\u3002\\n\\n```\\nconst routes = [\\n  { path: /foo\', component: () => import(\'./RouteComponent.vue\') }\\n]\\n```\\n\\n\u4f86\u770b\u9019\u500b\u52d5\u614bimport\u7684\u6253\u5305\u548c\u8def\u7531\u9577\u4ec0\u9ebc\u6a23\u5b50\uff1a\\n\\n- app.js \u2013 \u5728\u6bcf\u500b\u8def\u7531\u4e2d\u90fd\u9700\u8981\u7684\u4e3b\u8981\u7684app\u5165\u53e3\u8655\u6253\u5305(main.js)\u53ca\u51fd\u5f0f\u5eab/component\u3002\\n- home.js \u2013 \u9996\u9801\u7684\u6253\u5305\uff0c\u53ea\u6709\u5728\u8def\u7531\u9032\u5165\u6642\u624d\u6703\u4e0b\u8f09\u4e0b\u4f86\u3002\\n- about.js \u2013 \u300c\u95dc\u65bc\u300d\u9801\u9762\uff08\u53ca\u4ed6\u7684\u4f9d\u8cf4lodash\uff09\uff0c\u53ea\u6709\u5728\u8def\u7531\u9032\u5165\u6642\u624d\u6703\u4e0b\u8f09\u4e0b\u4f86\u3002\\n\\n*\u6253\u5305\u540d\u7a31\u4e26\u4e0d\u662f\u6234\u6b63\u7531webpack\u7522\u751f\u51fa\u4f86\u7684\u800c\u662f\u70ba\u4e86\u65b9\u4fbf\u7406\u89e3\u800c\u5df2\u3002Webpack\u5be6\u969b\u7522\u751f\u51fa\u4f86\u7684\u540d\u7a31\u6703\u50cf\u662f0js 1.js\uff0c\u8981\u4f9d\u64da\u4f60\u7684webpack config\u8a2d\u5b9a\u800c\u5b9a\u3002\\n\\n\u9019\u500b\u6280\u5de7\u5c0d\u5e7e\u4e4e\u6240\u6709\u7684\u61c9\u7528\u7a0b\u5f0f\u90fd\u662f\u8db3\u4ee5\u61c9\u4ed8\u3001\u90fd\u80fd\u6709\u975e\u5e38\u597d\u7684\u6548\u679c\u3002\\n\\n\u57fa\u65bc\u8def\u7531\u7684\u7a0b\u5f0f\u78bc\u5207\u5272\u5728\u8a31\u591a\u5834\u5408\u90fd\u80fd\u5920\u89e3\u6c7a\u6240\u6709\u4f60\u7684\u6548\u80fd\u554f\u984c\uff0c\u5e7e\u4e4e\u6240\u6709\u7684\u61c9\u7528\u7a0b\u5f0f\u90fd\u80fd\u4f7f\u7528\u800c\u4e14\u53ea\u82b1\u4e0d\u5230\u5e7e\u5206\u9418\u7684\u6642\u9593\u5c31\u80fd\u5be6\u4f5c\uff01\\n\\n##Vue\u751f\u614b\u9ad4\u7cfb\u4e2d\u7684\u7a0b\u5f0f\u78bc\u5207\u5272\\n\\n\u4f60\u53ef\u80fd\u6703\u4f7f\u7528Nuxt\u6216vue-cli\u4f86\u5efa\u7f6e\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\u3002\u9019\u7a2e\u60c5\u6cc1\u5c31\u9700\u8981\u77e5\u9053\u9019\u5169\u8005\u95dc\u65bc\u7a0b\u5f0f\u78bc\u5207\u5272\u7684\u81ea\u8a02\u884c\u70ba\u3002\\n\\n- **\u5728vue-cli 3** \u6240\u6709\u7684lazy loading\u6a21\u584a\u90fd\u9810\u8a2d\u662f\u9810\u52a0\u8f09(prefetch)\u7684\u3002\u6211\u5011\u7a0d\u5f8c\u6703\u5b78\u7fd2\u9810\u52a0\u8f09\u7684\u4f7f\u7528\u3002\u5982\u679c\u4f60\u5e0c\u671b\u77e5\u9053\u66f4\u591a\u95dc\u65bcvue-cli\u7684\u9810\u52a0\u8f09\u53ef\u4ee5\u53c3\u8003\u9019\u908a\u3002\\n- **\u5728Nuxt** \u5982\u679c\u4f7f\u7528Nuxt\u7684\u8def\u7531\u7cfb\u7d71\uff0c\u5247\u6240\u6709\u7684\u9801\u9762\u8def\u7531\u90fd\u662f\u7a0b\u5f0f\u5207\u5272\u7684\u958b\u7bb1\u5373\u7528\u3002\\n\\n\u73fe\u5728\u4f86\u770b\u770b\u975e\u5e38\u7d66\u529b\u4e14\u5e38\u898b\u7684\u53cd\u5411\u6a21\u5f0f(anti-pattern)\u53ef\u4ee5\u5e36\u7d66\u4f60\u7684\u8def\u7531\u70ba\u57fa\u6e96\u7684\u7a0b\u5f0f\u78bc\u5207\u5272\u66f4\u53b2\u5bb3\u4e00\u4e9b\u3002\\n\\n##\u51fd\u5f0f\u5eab\u6253\u5305\u53cd\u5411\u6a21\u5f0f\\n\\n\u51fd\u5f0f\u5eab\u6253\u5305(vendor bundle)\u975e\u5e38\u5e38\u898b\u4f7f\u7528node_modules\u628a\u5168\u90e8\u5404\u81ea\u7368\u7acb\u7684js\u6a94\u6848\u5168\u90e8\u7d0d\u5165\u3002\\n\\n\u50c5\u7ba1\u9019\u500b\u65b9\u6cd5\u628a\u5168\u90e8\u7684\u4f9d\u8cf4\u653e\u9032\u540c\u4e00\u500b\u5730\u65b9\u5f88\u5438\u5f15\u4eba\uff0c\u4f46\u9019\u4f9d\u7136\u6709\u7d81\u4f4f\u6240\u6709\u8def\u7531\u5728\u4e00\u8d77\u7684\u554f\u984c\u3002\\n\\n![](./_img/20191224/20191224_8.png)\\n\\n\u4f60\u770b\u5230\u554f\u984c\u4e86\u55ce\uff1f\u50c5\u7ba1\u6211\u5011\u53ea\u6709\u5728\u5176\u4e2d\u4e00\u500b\u8def\u7531\u7576\u4e2d\u9700\u8981lodash\uff08\u662f\u7576\u4e2d\u7684\u4f9d\u8cf4\uff09\uff0cvendor.js\u7d81\u5b9a\u4e86\u5168\u90e8\u7684\u4f9d\u8cf4\u6240\u4ee5\u7121\u8ad6\u5982\u679c\u4ed6\u4e00\u5b9a\u6703\u88ab\u4e0b\u8f09\u3002\\n\\n\u5728\u540c\u4e00\u500b\u6a94\u6848\u7d81\u5b9a\u5168\u90e8\u7684\u4f9d\u8cf4\u807d\u8d77\u4f86\u5f88\u8a98\u4eba\u4f46\u4e5f\u6703\u5c0e\u81f4\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\u6703\u4e00\u6b21\u8b80\u53d6\u5168\u90e8\u7684\u6a94\u6848\u3002\u6211\u5011\u6709\u66f4\u597d\u7684\u65b9\u6cd5\uff01\\n\\n\u7dad\u6301\u6211\u5011\u525b\u525b\u4f7f\u7528\u57fa\u65bc\u8def\u7531\u7684\u7a0b\u5f0f\u78bc\u5207\u5272\u8db3\u4ee5\u78ba\u4fdd\u53ea\u6709\u9700\u8981\u6642\u624d\u4e0b\u8f09\uff0c\u4f46\u9019\u6703\u5c0e\u81f4\u4e00\u4e9b\u7a0b\u5f0f\u78bc\u7684\u91cd\u8986\u3002\\n\\n\u6211\u5011\u5047\u8a2dHome.vue\u4e5f\u9700\u8981lodash\u3002\\n\\n![](./_img/20191224/20191224_9.png)\\n\\n\u9019\u500b\u60c5\u6cc1\u4e0b\u5f9e /aboug (About.vue) \u5c0e\u5411\u5230 / (Home.vue) \u6703\u5c0e\u81f4lodash\u4e0b\u8f09\u4e86\u5169\u6b21\u3002\\n\\n\u9019\u4ecd\u7136\u6bd4\u4e0b\u8f09\u4e86\u4e00\u5806\u591a\u9918\u7684\u7a0b\u5f0f\u78bc\u9084\u8981\u4f86\u7684\u597d\uff0c\u4f46\u5982\u679c\u6211\u5011\u5df2\u7d93\u6709\u4e86\u9019\u4e9b\u4f9d\u8cf4\u800c\u4e0d\u91cd\u8986\u5229\u7528\u662f\u5f88\u6c92\u610f\u7fa9\u7684\u6c92\u932f\u5427\uff1f\\n\\n\u9019\u4e5f\u5c31\u662fwebpack [splitChunksPlugin](https://webpack.js.org/plugins/split-chunks-plugin/)\u4e5f\u4ee5\u5e6b\u52a9\u6211\u5011\u7684\u5730\u65b9\u3002\u53ea\u8981\u5728webpack config\u7576\u4e2d\u589e\u52a0\u5e7e\u884c\uff0c\u6211\u5011\u5c31\u53ef\u4ee5\u628a\u5206\u6563\u7684\u6253\u5305\u4e2d\u5e38\u7528\u7684\u4f9d\u8cf4\u7d66\u805a\u8d77\u4f86\uff0c\u4f7f\u4ed6\u5011\u53ef\u4ee5\u88ab\u5206\u4eab\u3002\\n\\n```\\n// webpack.config.js\\noptimization: {\\n  splitChunks: {\\n    chunks: \'all\'\\n  }\\n}\\n```\\n\\n\u5728\u6a21\u584a\u7684\u5c6c\u6027\u4e2d\u6211\u5011\u53ea\u8981\u544a\u8a34webpack\u54ea\u500b\u6a21\u584a\u7a0b\u5f0f\u61c9\u8a72\u88ab\u512a\u5316\u3002\u8a2d\u5b9a\u9019\u500b\u5c6c\u6027\u70baall\u8868\u793a\u4ed6\u61c9\u8a72\u512a\u5316\u6240\u6709\u7684\u6a21\u584a\u3002\\n\\n\u4f60\u53ef\u4ee5\u95b1\u8b80\u66f4\u591a\u76f8\u95dc\u7684\u8655\u7406 [webpack docs](https://webpack.js.org/guides/code-splitting/#prevent-duplication)\\n\\n## \u7d50\u8a9e\\n\\n\u900f\u904e\u8def\u7531\u5207\u5272\u4f60\u7684\u7a0b\u5f0f\u662f\u5176\u4e2d\u4e4b\u4e00\u6700\u68d2\uff08\u4e5f\u6700\u7c21\u55ae\uff09\u7684\u65b9\u6cd5\u4f86\u7dad\u6301\u521d\u59cb\u4e0b\u8f09\u6253\u5305\u5c0f\u7684\u5bb9\u91cf\u3002\u4e0b\u4e00\u500b\u90e8\u4efd\u6211\u5011\u6703\u5b78\u7fd2\u95dc\u65bc\u5176\u4ed6\u8f03\u7d30\u7684\u90e8\u4efd\uff08Vuex stores\u4ee5\u53ca\u7368\u7acb\u7684component\uff09\uff0c\u5f9e\u4e3b\u8981\u7684\u6253\u5305\u4e2d\u780d\u6389\u4e26\u5ef6\u9072\u8f09\u5165\u3002"},{"id":"2019/12/24/vue-optimization3","metadata":{"permalink":"/blog/2019/12/24/vue-optimization3","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/2019-12-24-(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part3 \u2013 Lazy loading Vuex modules.md","source":"@site/blog/2019/2019-12-24-(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part3 \u2013 Lazy loading Vuex modules.md","title":"(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part3 \u2013 Lazy loading Vuex modules","description":"\u5728\u524d\u4e00\u500b\u90e8\u4efd\u6211\u5011\u5b78\u5230\u53ef\u4ee5\u5927\u5e45\u5ea6\u6539\u5584\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\u6548\u80fd\u7684\u6a21\u5f0f \u2013 \u900f\u904e\u8def\u7531\u4f86\u5207\u5272\u7a0b\u5f0f\u78bc\u3002\u50c5\u7ba1\u900f\u904e\u8def\u7531\u5207\u5272\u7a0b\u5f0f\u78bc\u662f\u975e\u5e38\u6709\u5e6b\u52a9\u7684\u4f46\u4ecd\u7136\u6709\u5f88\u591a\u7a0b\u5f0f\u662f\u4f7f\u7528\u8005\u525b\u9032\u53bb\u7db2\u7ad9\u6642\u4f7f\u7528\u4e0d\u5230\u7684\u3002\u5728\u672c\u7bc7\u6211\u5011\u5c07\u5c08\u6ce8\u5728\u6211\u5011\u7684\u72c0\u614b\u7ba1\u7406\u7684\u7a0b\u5f0f\u78bc\u5207\u5272 \u2013 Vuex modules\u3002","date":"2019-12-24T00:00:00.000Z","formattedDate":"December 24, 2019","tags":[{"label":"vue","permalink":"/blog/tags/vue"},{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":8.775,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2019/12/24/vue-optimization3","title":"(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part3 \u2013 Lazy loading Vuex modules","authors":"thunderboy","tags":["vue","javascript"]},"prevItem":{"title":"(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part2 \u2013 Lazy loading\u8def\u7531\u53ca\u7b2c\u4e09\u65b9\u5eab\u6253\u5305\u53cd\u5411\u6a21\u5f0f(anti-pattern)","permalink":"/blog/2019/12/24/vue-optimization2"},"nextItem":{"title":"\u5f9eD3.js\u7684select(this)\u63a2\u8a0e\u7684\u51fd\u5f0f\u4e2d\u7684this\u6307\u5411","permalink":"/blog/2019/12/22/d3js-select-this"}},"content":"\u5728\u524d\u4e00\u500b\u90e8\u4efd\u6211\u5011\u5b78\u5230\u53ef\u4ee5\u5927\u5e45\u5ea6\u6539\u5584\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\u6548\u80fd\u7684\u6a21\u5f0f \u2013 \u900f\u904e\u8def\u7531\u4f86\u5207\u5272\u7a0b\u5f0f\u78bc\u3002\u50c5\u7ba1\u900f\u904e\u8def\u7531\u5207\u5272\u7a0b\u5f0f\u78bc\u662f\u975e\u5e38\u6709\u5e6b\u52a9\u7684\u4f46\u4ecd\u7136\u6709\u5f88\u591a\u7a0b\u5f0f\u662f\u4f7f\u7528\u8005\u525b\u9032\u53bb\u7db2\u7ad9\u6642\u4f7f\u7528\u4e0d\u5230\u7684\u3002\u5728\u672c\u7bc7\u6211\u5011\u5c07\u5c08\u6ce8\u5728\u6211\u5011\u7684\u72c0\u614b\u7ba1\u7406\u7684\u7a0b\u5f0f\u78bc\u5207\u5272 \u2013 Vuex modules\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u9019\u500b\u7cfb\u5217\u662f\u57fa\u65bc\u5f9eVue Storefront\u7684\u6548\u80fd\u512a\u5316\u8655\u7406\u4e2d\u6240\u5b78\u5230\u7684\u3002\u900f\u904e\u4ee5\u4e0b\u7684\u6280\u8853\u6211\u5011\u53ef\u4ee5\u780d\u6389\u6211\u5011\u6700\u521d\u7684\u6253\u5305\u768470%\uff0c\u4f7f\u4ed6\u8f09\u5165\u5728\u4e00\u7728\u9593\u5c31\u5b8c\u6210\u3002\\n\\n\\n## \u5169\u7a2eVuex modules\u7684\u985e\u578b\\n\\n\u5728\u6211\u5011\u7e7c\u7e8c\u5f80\u4e0b\u770bVuex modules\u7684lazy loading\u4e4b\u524d\uff0c\u9019\u88e1\u6709\u4e00\u4ef6\u5f88\u91cd\u8981\u7684\u4e8b\u4f60\u9700\u8981\u6ce8\u610f\u7684\u3002\u4f60\u9700\u8981\u4e86\u89e3\u6709\u54ea\u4e9b\u53ef\u4ee5\u6ce8\u518aVuex modules\u7684\u65b9\u6cd5\u4ee5\u53ca\u4ed6\u5011\u7684\u512a\u7f3a\u9ede\u3002\\n\\n**\u975c\u614bVuex modules**\u5728store\u521d\u59cb\u5316\u6642\u5c31\u5ba3\u544a\u4e86\u3002\u4ee5\u4e0b\u662f\u500b\u660e\u78ba\u7684\u5efa\u7f6e\u975c\u614b\u6a21\u7d44\u7684\u7bc4\u4f8b\uff1a\\n\\n```\\n// store.js\\nimport { userAccountModule } from \'./modules/userAccount\'\\nconst store = new Vuex.Store({\\n  modules: {\\n    user: userAccountModule\\n  }\\n})\\n```\\n\\n\u4e0a\u9762\u7684\u7a0b\u5f0f\u78bc\u6703new\u4e00\u500b\u65b0\u7684Vuex Store\u4ee5\u53ca\u975c\u614b\u6a21\u7d44userAccountModule\u3002\u975c\u614b\u6a21\u7d44\u4e0d\u80fd\u88ab\u53d6\u6d88\u8a3b\u518a\uff08\u4e26\u4e14\u4e0d\u80fd\u88ab\u5ef6\u9072\u8a3b\u518a\uff09\u4ee5\u53ca\u4ed6\u5011\u7684\u67b6\u69cb\uff08\u9019\u662f\u4e0d\u662f\u6307state\uff09\u5728\u521d\u59cb\u5316\u5f8c\u4e0d\u80fd\u88ab\u6539\u8b8a\u3002\\n\\n\u50c5\u7ba1\u9019\u500b\u9650\u5236\u5c0d\u65bc\u5927\u90e8\u4efd\u7684module\u4f86\u8aaa\u4e0d\u6703\u662f\u500b\u554f\u984c\uff0c\u4e26\u4e14\u628a\u5168\u90e8\u7684modules\u5ba3\u544a\u5728\u540c\u4e00\u500b\u5730\u65b9\u5c0d\u65bc\u8b93\u8cc7\u6599\u7684\u95dc\u806f\u5728\u540c\u4e00\u500b\u5730\u65b9\u7dad\u6301\u4e00\u81f4\u662f\u5f88\u597d\u7528\u7684\uff0c\u4f46\u9019\u500b\u65b9\u6cd5\u9084\u662f\u6709\u4e9b\u7f3a\u9ede\u3002\\n\\n\u5047\u8a2d\u6211\u5011\u7684\u61c9\u7528\u7a0b\u5f0f\u88e1\u6709\u4e00\u500b\u7ba1\u7406\u8005\u5100\u8868\u677f\u4ee5\u53ca\u5b83\u5c08\u7528\u7684Vuex module\u3002\\n\\n```\\n// store.js\\nimport { userAccountModule } from \'./modules/userAccount\'\\nimport { adminModule } from \'./modules/admin\'\\nconst store = new Vuex.Store({\\n  modules: {\\n    user: userAccountModule, \\n    admin: adminModule\\n  }\\n})\\n```\\n\\n\u4f60\u53ef\u4ee5\u60f3\u50cf\u9019\u6a23\u5b50\u7684module\u53ef\u4ee5\u662f\u975e\u5e38\u5927\u7684\u3002\u5373\u4f7f\u5100\u8868\u677f\u53ea\u6709\u9650\u65bc\u4e00\u90e8\u4efd\u7684\u4f7f\u7528\u8005\u4f7f\u7528\uff08\u4e5f\u53ef\u60f3\u6210\u53ea\u5728\u7279\u5b9a\u7684/admin\u8def\u7531\uff09\uff0c\u7531\u65bc\u7d71\u4e00\u8a3b\u518a\u4e86\u975c\u614bVuex module\u5b83\u6240\u6709\u7684\u7a0b\u5f0f\u78bc\u9084\u662f\u6703\u5728\u4e3b\u8981\u7684\u6253\u5305\u7a0b\u5f0f\u7576\u4e2d\u3002\\n\\n![](./_img/20191224/20191224_10.png)\\n\\n\u9019\u500b\u60c5\u6cc1\u7576\u7136\u4e0d\u662f\u6211\u5011\u6240\u8981\u7684\u7d50\u679c\uff0c\u6211\u5011\u9700\u8981\u4e00\u500b\u65b9\u6cd5\u53ea\u5728/admin\u8def\u7531\u7576\u4e2d\u8b80\u53d6\u5b83\u3002\u4f60\u53ef\u80fd\u5df2\u7d93\u731c\u5230\u975c\u614bmodule\u4e0d\u80fd\u6eff\u8db3\u6211\u5011\u7684\u9700\u6c42\uff0c\u5168\u90e8\u7684\u975c\u614bmodule\u5fc5\u9808\u5728Vuex Store\u88ab\u5efa\u7f6e\u6642\u88ab\u8a3b\u518a\u3001\u56e0\u6b64\u7121\u6cd5\u5ef6\u5f8c\u8a3b\u518a\u7684\u6642\u6a5f\u3002\\n\\n\u9019\u4e5f\u5c31\u662f\u52d5\u614bmodule\u5e6b\u7684\u4e0a\u5fd9\u7684\u5730\u65b9\uff01\\n\\n\u52d5\u614bmodule\u548c\u975c\u614b\u7684\u76f8\u53cd\uff0c\u5b83\u53ef\u4ee5\u5728Vuex store\u5275\u5efa\u4e4b\u5f8c\u624d\u8a3b\u518a\u3002\u9019\u500b\u8070\u660e\u7684\u7279\u6027\u6697\u793a\u6211\u5011\u4e0d\u9700\u8981\u5728\u61c9\u7528\u7a0b\u5f0f\u521d\u59cb\u5316\u6642\u505a\u52d5\u614b\u8f09\u5165\uff0c\u53ef\u4ee5\u6253\u5305\u6210\u4e0d\u540c\u7684\u6a21\u584a\u6216\u5728\u9700\u8981\u7684\u6642\u5019\u624d\u5ef6\u9072\u8f09\u5165\u3002\\n\\n\u9996\u5148\uff0c\u6211\u5011\u4f86\u770b\u524d\u9762\u6240\u8aaa\u7684\u52d5\u614b\u8a3b\u518aadmin module\u6703\u9577\u4ec0\u9ebc\u6a23\u5b50\u3002\\n\\n```\\n// store.js\\nimport { userAccountModule } from \'./modules/userAccount\'\\nimport { adminModule } from \'./modules/admin\'\\nconst store = new Vuex.Store({\\n  modules: {\\n    user: userAccountModule, \\n  }\\n})\\nstore.registerModule(\'admin\', adminModule)\\n```\\n\\n\u53d6\u4ee3\u76f4\u63a5\u628aadminModule\u7269\u4ef6\u76f4\u63a5\u653e\u5165store\u88e1\u7684property\uff0c\u6211\u5011\u5728store\u5efa\u7f6e\u51fa\u4f86\u5f8c\u4f7f\u7528registerModule\u65b9\u6cd5\u8a3b\u518a\u5b83\u3002\\n\\n\u52d5\u614b\u8a3b\u518a\u4e26\u4e0d\u9700\u8981\u66f4\u6539module\u672c\u8eab\uff0c\u6240\u4ee5\u6240\u6709\u7684Vuex module\u90fd\u53ef\u4ee5\u76f4\u63a5\u8a3b\u518a\u6216\u52d5\u614b\u7684\u8a3b\u518a\u3002\\n\\n\u7576\u7136\uff0c\u4ee5\u76ee\u524d\u9019\u500b\u5beb\u6cd5\u4f86\u8aaa\u52d5\u614b\u8a3b\u518amodule\u6c92\u6709\u7d66\u6211\u5011\u4efb\u4f55\u512a\u52e2\u3002\\n\\n## \u6b63\u78ba\u5730\u5207\u5272Vuex module\u7a0b\u5f0f\u78bc\\n\\n\u5ef6\u7e8c\u524d\u9762\u7684\u8a0e\u8ad6\uff0c\u73fe\u5728\u6211\u5011\u77e5\u9053\u5982\u4f55\u52d5\u614b\u5730\u8a3b\u518aadmin module\u3001\u6240\u4ee5\u6211\u5011\u7576\u7136\u53ef\u4ee5\u8a66\u8457\u628a\u5b83\u653e\u5165/admin\u8def\u7531\u7684\u7d81\u5b9a\u3002\\n\\n\u6211\u5011\u66ab\u4e14\u505c\u4e00\u4e0b\uff0c\u4f86\u7c21\u55ae\u7406\u89e3\u4e00\u4e0b\u6211\u5011\u7684\u61c9\u7528\u7a0b\u5f0f\u7684\u904b\u4f5c\u65b9\u5f0f\u3002\\n\\n![](./_img/20191224/20191224_11.png)\\n\\n```\\n// router.js\\nimport VueRouter from \'vue-router\'\\nconst Home = () => import(\'./Home.vue\')\\nconst Admin = () => import(\'./Admin.vue\')\\nconst routes = [\\n  { path: \'/\', component: Home },\\n  { path: \'/admin\', component: Admin }\\n]\\nexport const router = new VueRouter({ routes }) \\n```\\n\\n\u6211\u5011\u4f86\u77a7\u77a7\u9019\u88e1\u505a\u4e86\u4ec0\u9ebc\uff01\\n\\n\u6211\u5011\u5728Admin.vue(\u8def\u7531/admin)\u7684mounted\u88e1import\u4e26\u8a3b\u518aadmin store\u3002\u7a0d\u5f8c\u7a0b\u5f0f\u88e1\u6211\u5011\u6703\u5728\u4f7f\u7528\u8005\u96e2\u958b\u7684\u6642\u5019\u628amodule\u7d66\u53d6\u6d88\u8a3b\u518a\uff0c\u4ee5\u907f\u514d\u540c\u6a23\u7684module\u88ab\u91cd\u8986\u8a3b\u518a\u3002\\n\\n\u73fe\u5728\u56e0\u70baadmin module\u88abimport\u5230Admin.vue\u88e1\u53d6\u4ee3\u539f\u672c\u7684store.js\uff0c\u5b83\u73fe\u5728\u548c\u7a0b\u5f0f\u5207\u5272\u4e86\u7684Admin.vue\u7d81\u5b9a\u5728\u4e00\u8d77\u3002\\n\\n![](./_img/20191224/20191224_12.png)\\n\\n> **\u91cd\u8981\u6ce8\u610f\uff1a**\u5982\u679c\u4f60\u4f7f\u7528SSR\u6a21\u5f0f\u8acb\u78ba\u4fdd\u4f60\u628a\u8a3b\u518amodule\u653e\u5728mounted\u88e1\uff0c\u5426\u5247\u7684\u8a71\u7576beforeDestory\u920e\u5b50\u6c92\u8a2d\u597d\u53ef\u80fd\u6703\u5c0e\u81f4memory leak\u3002\\n\\n\u73fe\u5728\u6211\u5011\u77e5\u9053\u5982\u4f55\u4f7f\u7528\u52d5\u614bVuex module\u8a3b\u518a\uff0c\u4f86\u5206\u958b\u6211\u5011\u7279\u5b9a\u8def\u7531\u7684module\u5230\u9069\u7576\u7684\u6253\u5305\u4e2d\u3002\u6211\u5011\u4f86\u770b\u770b\u7a0d\u5fae\u8907\u96dc\u4e00\u9ede\u7684\u4f7f\u7528\u65b9\u5f0f\u3002\\n\\n## Lazy loading Vuex modules\\n\\n\u5047\u8a2d\u6211\u5011\u6709\u7684Home.vue\u6709\u4e00\u500b\u63a8\u85a6\u5340\u584a\uff0c\u6211\u5011\u5e0c\u671b\u80fd\u5c55\u793a\u95dc\u65bc\u6211\u5011\u670d\u52d9\u7684\u6b63\u9762\u610f\u898b\u3002\u56e0\u70ba\u6578\u91cf\u6703\u5f88\u591a\u6240\u4ee5\u6211\u5011\u4e0d\u9700\u8981\u5728\u4f7f\u7528\u8005\u9032\u5165\u5f8c\u5c31\u99ac\u4e0a\u5448\u73fe\uff0c\u6bd4\u8f03\u597d\u7684\u5c55\u793a\u65b9\u5f0f\u662f\u7576\u4f7f\u7528\u8005\u770b\u7684\u6642\u5019\u3002\u6211\u5011\u53ef\u4ee5\u589e\u52a0\u4e00\u500b\u201d\u6aa2\u8996\u63a8\u85a6\u201d\u6309\u9215\u7576\u9ede\u64ca\u6642\u6211\u5011\u624d\u628a\u63a8\u85a6\u5167\u5bb9\u7d66\u5448\u73fe\u51fa\u4f86\u3002\\n\\n![](./_img/20191224/20191224_15.png)\\n\\n\u70ba\u5132\u5b58\u63a8\u85a6\u8cc7\u6599\u6211\u5011\u9700\u8981\u518d\u4e00\u500bVuex module\u547d\u540d\u70batestimonials\u3002\u9019\u500bmodule\u8ca0\u8cac\u5448\u73fe\u524d\u4e00\u500b\u52a0\u5165\u7684\u63a8\u85a6\u4e26\u65b0\u589e\u4e00\u500b\u65b0\u7684\uff0c\u6211\u5011\u4e0d\u9700\u8981\u77e5\u9053\u95dc\u65bc\u5b83\u5be6\u4f5c\u7684\u7d30\u7bc0\u3002\\n\\n\u6211\u5011\u5e0c\u671btestimonials module\u53ea\u6709\u5728\u4f7f\u7528\u8005\u9ede\u64ca\u6309\u9215\u7684\u6642\u5019\u4e0b\u8f09\uff0c\u56e0\u70ba\u5728\u9019\u4e4b\u524d\u4e26\u4e0d\u9700\u8981\u5b83\u3002\u6211\u5011\u4f86\u770b\u9019\u500b\u52d5\u614bimport\u53ca\u8a3b\u518amodule\u7684\u529f\u80fd\u8a72\u5982\u4f55\u5be6\u73fe\u3002Testimonials.vue\u662fHome.vue\u88e1\u7684\u4e00\u500b\u5b50component\u3002\\n\\n![](./_img/20191224/20191224_13.png)\\n\\n![](\u6211\u5011\u4f86\u5feb\u901f\u6aa2\u8996\u4e00\u4e0b\u7a0b\u5f0f\u78bc\u3002\\n\\n\u7576\u4f7f\u7528\u8005\u9ede\u64ca\u300c\u6aa2\u8996\u63a8\u85a6\u300d\u6309\u9215\u6642\u547c\u53ebgetTestimonials()\u65b9\u6cd5\uff0cgetTestimonialsModule()\u8ca0\u8cac\u53d6\u5f97testimonials.js\u3002\u7576promise\u88abresolved\uff08\u4ee3\u8868module\u88ab\u8b80\u53d6\uff09\u6211\u5011\u52d5\u614b\u5730\u8a3b\u518a\u5b83\u4e26dispatch action\u4f86\u53d6\u5f97\u63a8\u85a6\u5167\u5bb9\u3002\\n\\n\u611f\u8b1d\u52d5\u614bimport\uff0ctestimonial.js\u7684\u5167\u5bb9\u88ab\u7d81\u5b9a\u5230\u5206\u958b\u7684\u6a94\u6848\u4e2d\uff0c\u53ea\u6709\u7576getTestimonialsModule\u65b9\u6cd5\u88ab\u547c\u53eb\u6642\u624d\u6703\u88ab\u4e0b\u8f09\u3002)\\n\\n![](./_img/20191224/20191224_14.png)\\n\\n\u7576\u6211\u5011\u9700\u8981\u96e2\u958b\u7ba1\u7406\u8005\u5e73\u53f0\uff0c\u6211\u5011\u5728\u525b\u624d\u7684beforeDestory\u751f\u547d\u9031\u671f\u9264\u5b50\u88e1\u6709\u53d6\u6d88\u8a3b\u518a\uff0c\u6240\u4ee5\u5982\u679c\u6211\u5011\u8981\u518d\u6b21\u9032\u5165\u8def\u7531\u5b83\u4e0d\u6703\u88ab\u91cd\u8986\u3002\\n\\n## \u7e3d\u7d50\\n\\n\u50c5\u7ba1\u7406\u975c\u614bVuex module\u8a3b\u518a\u8db3\u4ee5\u61c9\u4ed8\u5927\u90e8\u4efd\u7684\u4f7f\u7528\u60c5\u6cc1\uff0c\u9084\u662f\u6709\u4e9b\u7279\u5b9a\u60c5\u6cc1\u6211\u5011\u9084\u662f\u9700\u8981\u52d5\u614b\u8a3b\u518a\u3002\\n\\n- **\u5982\u679c\u53ea\u6709\u5728\u7279\u5b9a\u8def\u7531\u9700\u8981module**\uff0c\u90a3\u6211\u5011\u53ef\u4ee5\u5728\u7279\u5b9a\u7684\u8def\u7531component\u88e1\u52d5\u614b\u7684\u8a3b\u518a\uff0c\u6240\u4ee5\u4e0d\u6703\u51fa\u73fe\u5728\u4e3b\u8981\u7684\u6253\u5305\u7576\u4e2d\u3002\\n- **\u5982\u679c\u53ea\u6709\u5728\u7279\u5b9a\u7684\u4e92\u52d5\u9700\u8981module**\uff0c\u90a3\u6211\u5011\u9700\u8981\u5728\u7279\u5b9a\u7684\u65b9\u6cd5\u4e2d\u5408\u4f75\u52d5\u614b\u8a3b\u518amodule\u548c\u52d5\u614bimport\u3001\u5ef6\u9072\u8f09\u5165\u3002\\n\\n\u5207\u5272Vuex module\u7a0b\u5f0f\u78bc\u662f\u4e00\u500b\u5f37\u800c\u6709\u529b\u7684\u5de5\u5177\u3002\u5728\u61c9\u7528\u7a0b\u5f0f\u88e1\u8655\u7406\u5f97\u6108\u591a\u8cc7\u6599\u76f8\u95dc\u7684\u64cd\u4f5c\uff0c\u8868\u793a\u80fd\u7bc0\u7701\u6108\u591a\u7684\u6253\u5305\u5bb9\u91cf\u3002\\n\\n\u5728\u4e0b\u4e00\u7bc7\u6211\u5011\u5c07\u5b78\u7fd2\u5982\u4f55\u5ef6\u9072\u8f09\u5165\u7368\u7acb\u7684component\uff0c\u4ee5\u53ca\u66f4\u91cd\u8981\u7684\u662f\u54ea\u500bcomponent\u61c9\u8a72\u88ab\u5ef6\u9072\u8f09\u5165\u3002"},{"id":"2019/12/22/d3js-select-this","metadata":{"permalink":"/blog/2019/12/22/d3js-select-this","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/2019-12-22-\u5f9eD3.js\u7684select(this)\u63a2\u8a0e\u7684\u51fd\u5f0f\u4e2d\u7684this\u6307\u5411.md","source":"@site/blog/2019/2019-12-22-\u5f9eD3.js\u7684select(this)\u63a2\u8a0e\u7684\u51fd\u5f0f\u4e2d\u7684this\u6307\u5411.md","title":"\u5f9eD3.js\u7684select(this)\u63a2\u8a0e\u7684\u51fd\u5f0f\u4e2d\u7684this\u6307\u5411","description":"\u5176\u5be6\u9019\u500b\u6a19\u984c\u4e0b\u7684\u6709\u9ede\u4e0d\u592a\u7cbe\u78ba\uff0c\u4f46\u6211\u60f3\u5f9e\u6211\u81ea\u5df1\u672c\u8eab\u9047\u5230\u7684\u554f\u984c\u7684\u89d2\u5ea6\u4f86\u5207\u5165\uff0c\u7136\u5f8c\u518d\u9032\u4e00\u6b65\u6df1\u5165\u8aaa\u660e\u2026","date":"2019-12-22T00:00:00.000Z","formattedDate":"December 22, 2019","tags":[{"label":"d3.js","permalink":"/blog/tags/d-3-js"},{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":13.135,"hasTruncateMarker":true,"authors":[{"name":"Adam You","title":"Engineer @ Blueplanet Inc.","url":"https://github.com/upstairs0102","imageURL":"/img/avatar.jpeg","key":"thunderboy"}],"frontMatter":{"slug":"2019/12/22/d3js-select-this","title":"\u5f9eD3.js\u7684select(this)\u63a2\u8a0e\u7684\u51fd\u5f0f\u4e2d\u7684this\u6307\u5411","authors":"thunderboy","tags":["d3.js","javascript"]},"prevItem":{"title":"(\u8b6f)Vue.js App\u6548\u80fd\u512a\u5316: part3 \u2013 Lazy loading Vuex modules","permalink":"/blog/2019/12/24/vue-optimization3"}},"content":"\u5176\u5be6\u9019\u500b\u6a19\u984c\u4e0b\u7684\u6709\u9ede\u4e0d\u592a\u7cbe\u78ba\uff0c\u4f46\u6211\u60f3\u5f9e\u6211\u81ea\u5df1\u672c\u8eab\u9047\u5230\u7684\u554f\u984c\u7684\u89d2\u5ea6\u4f86\u5207\u5165\uff0c\u7136\u5f8c\u518d\u9032\u4e00\u6b65\u6df1\u5165\u8aaa\u660e\u2026\\n\\n\u4e8b\u60c5\u662f\u9019\u6a23\u7684\uff0c\u5728\u51fd\u5f0f\u4e2d\u4f7f\u7528`d3.select(this)`\u53ef\u4ee5\u53d6\u5f97\u8abf\u7528\u6b64\u51fd\u5f0f\u7684dom\uff0c\u6bd4\u5982\u8aaa\u6709\u4ee5\u4e0b\u5e7e\u7a2e\u60c5\u5883\u7bc4\u4f8b\uff1a\\n\\n\x3c!--truncate--\x3e\\n\\n1.\u4e8b\u4ef6\\n\\n```js\\nd3.selectAll(\'g\')\\n\\t.on(\'click\', function(d){\\n\\t\\tvar target = d3.select(this) // d3.select(this)\u53d6\u5f97\u9ede\u64ca\u5143\u7d20<g>\\n\\t\\ttarget.classed(\'active\', true)\\n\\t})\\n```\\n\\n2.\u9663\u5217\u8ff4\u5708\\n\\n```js\\nd3.selectAll(\'g\')\\n\\t.each(function(d, i){\\n\\t\\tvar dom = d3.select(this) // d3.select(this)\u53d6\u5f97\u5143\u7d20<g>\\n\\t\\tvar x = i * 20\\n\\t\\tdom.attr(\'transform\', \'translate(\' + x + \', 20)\')\\n\\t})\\n```\\n\\n3.\u52d5\u756b\\n\\n```js\\ndom.transition()\\nvar dom = d3.select(\\"body\\").append(\\"div\\")  \\n\\ndom.duration(2000)\\n  .tween(\\"number\\", function(d) {\\n    var inter = d3.interpolateRound(0, 100);\\n    return function(t) {\\n    \\tvar n = inter(t)\\n      d3.select(this).html(n) // d3.select(this) == dom\\n    }\\n  })\\n```\\n\\n\u5230\u76ee\u524d\u70ba\u6b62\u90fd\u6c92\u6709\u554f\u984c\uff0c\u5f8c\u4f86\u56e0\u5c08\u6848\u9700\u6c42\u6539\u70baes6\u8a9e\u6cd5\uff0c\u6240\u6709\u7684\u51fd\u5f0f\u4e5f\u90fd\u6539\u70ba\u4e86**\u7bad\u982d\u51fd\u5f0f**\uff0c\u6b64\u6642\u958b\u59cb\u767c\u751f\u554f\u984c\u4e86\uff0c\u4ee5\u4e0a\u8ff0\u7684\u7b2c\u4e00\u500b\u7bc4\u4f8b\u4f86\u8aaa\u6703\u662f\u9577\u9019\u500b\u6a23\u5b50\uff1a\\n\\n```js\\nd3.selectAll(\'g\')\\nd3.selectAll(\'g\')\\t\\n\\t.on(\'click\', d => {\\n\\t\\tlet target = d3.select(this) // d3.select(this)\u53d6\u5f97\u5c0d\u8c61\u767c\u751f\u932f\u8aa4\\n\\t\\ttarget.classed(\'active\', true)\\n\\t})\\n```\\n\\n\u5728\u9019\u4e09\u500b\u4f8b\u5b50\u7576\u4e2d\uff0c\u539f\u672cthis\u90fd\u6703\u6307\u5411\u5230`<g>`\u5143\u7d20\u7576\u4e2d\uff0c\u53ef\u662f\u7576\u51fd\u5f0f\u6539\u5beb\u6210\u7bad\u982d\u51fd\u5f0f\u7684\u6642\u5019this\u8b8a\u6210\u6307\u5411\u5230`window`\u3002\\n\\n\u96d6\u7136\u6211\u539f\u672c\u5c31\u7d04\u7565\u77e5\u9053javascript\u7684\u67d0\u4e9b\u898f\u5247\uff0c\\"function\\"\u548c\u7bad\u982d\u51fd\u5f0f\u5169\u7a2e\u5beb\u6cd5\u4e2d\u4f7f\u7528this\u6703\u6307\u5411\u5230\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u4f46\u662f\u5c0d\u6b64\u4e26\u6c92\u6709\u6df1\u5165\u7684\u53bb\u4e86\u89e3\u3001\u4ee5\u53ca\u5c0d\u65bcd3.select(this)\u9019\u500b\u5beb\u6cd5\u7684\u610f\u7fa9\u4e5f\u4e0d\u662f\u5f88\u6e05\u695a\u3002\u9019\u500b\u5beb\u6cd5\u539f\u672c\u662f\u7167\u8457\u66f8\u4e0a\u6559\u5b78\u7167\u8457\u5beb\u7684\uff0c\u53ea\u77e5\u9053\u8981\u9019\u6a23\u5beb\u4f46\u4e0d\u77e5\u539f\u56e0\u70ba\u4f55\uff0c\u77e5\u5176\u7136\u4e0d\u77e5\u6240\u4ee5\u7136\uff0c\u6240\u4ee5\u9047\u5230\u554f\u984c\u4e5f\u4e0d\u77e5\u5982\u4f55\u89e3\u6c7a\u3002\\n\\n\u7576\u6211\u7b2c\u4e00\u6b21\u9047\u5230\u9019\u500b\u554f\u984c\u6211\u9084\u4ee5\u70ba\u662f\u8e29\u5230D3\u7684\u5751\uff0c\u82b1\u4e86\u9ede\u6642\u9593\u7814\u7a76\u5f8c\u7d42\u65bc\u77e5\u9053\u9019\u5b8c\u5b8c\u5168\u5168\u662fjavascript\u672c\u8eab\u7684\u554f\u984c\uff0c\u4e26\u4e0d\u662fD3\u7684\u7279\u6027\u9020\u6210\uff0c\u4e0b\u9762\u6703\u9032\u4e00\u6b65\u8aaa\u660e\u539f\u56e0\u4ee5\u53ca\u89e3\u6c7a\u9019\u500b\u554f\u984c\u7684\u89e3\u6cd5\u3002\\n\\n\\n\\n# \u63a2\u7a76d3.select(this)\u539f\u7406\\n\\n\u8981\u7406\u89e3`d3.select(this)`\u7684\u539f\u7406\uff0c**\u5176\u5be6\u5c31\u7b49\u540c\u65bc\u7406\u89e3javascript\u7684this**\u3002\u6211\u4e00\u958b\u59cb\u6703\u8aa4\u4ee5\u70ba\u9019\u662fD3\u63d0\u4f9b\u7684\u7279\u6b8a\u7528\u6cd5\uff0c\u5c31\u662f\u56e0\u70ba\u5c0d\u65bcjavascript\u7684this\u4e86\u89e3\u7684\u4e0d\u5920\u6df1\u5165\u6240\u81f4\uff1b\u6240\u4ee5\u9019\u4e00\u7ae0\u7bc0\u8981\u8b1b\u7684\u5176\u5be6\u5c31\u662fjavascript\u800c\u5df2\uff0c\u8ddfD3\u6c92\u6709\u534a\u9ede\u95dc\u4fc2\u4e86\u3002\\n\\n\u9019\u88e1\u4e3b\u8981\u662f\u91dd\u5c0dfunction () { ... }\u5beb\u6cd5\u3001\u4ee5\u53ca\u4f7f\u7528\u7bad\u982d\u51fd\u5f0f\u4e2d\u4f7f\u7528`this` \u5169\u7a2e\u4f86\u505a\u6bd4\u8f03\u5408\u8aaa\u660e\u3002\u7406\u89e3\u4e4b\u5f8c\u5c31\u6703\u77e5\u9053D3\u5167\u4f7f\u7528this\u6703\u6709\u9019\u6a23\u7684\u5dee\u7570\u4e86\u3002\\n\\n\\n\\n## function () { ... }\u5167\u7684this\\n\\n\u9019\u88e1\u7684this\u5f88\u5bb9\u6613\u8aa4\u89e3\uff0c**this\u6307\u5411\u8ab0\u5176\u5be6\u8ddffunction\u662f\u5728\u54ea\u88e1\u5ba3\u544a\u4e26\u6c92\u6709\u95dc\u4fc2\uff0cthis\u6703\u6307\u5411\u7684\u5c0d\u8c61\u662f\u4f9d\u64da\u8abf\u7528\u6b64\u51fd\u5f0f\u7684\u7269\u4ef6\u662f\u8ab0**\u3002\\n\\n\u6bd4\u5982\u8aaa\uff0c\u67d0function\u5728window\uff08\u5168\u57df\uff09\u4e0a\u5ba3\u544a\uff0c\u800c\u547c\u53eb\u6b64function\u7684\u4eba\u4e5f\u662f\u5728window\uff0cfunction\u5167\u7684this\u4e5f\u662f\u5728window\uff08\u597d\u50cf\u7e5e\u53e3\u4ee4\uff09\u3002\\n\\n\u6211\u4e0a\u9762\u6240\u8b1b\u7684\u4e5f\u5c31\u662f\u4e00\u500b\u6700\u7c21\u55ae\u7684\u60c5\u6cc1\uff0c\u4ee5\u4e00\u6bb5\u7c21\u55ae\u7684\u7a0b\u5f0f\u4f86\u770b\u6703\u662f\u9577\u9019\u6a23\u5b50\uff1a\\n\\n```js\\nwindow.word = \'hello world\'\\n\\nfunction say() {\\n  console.log(this.word)\\n  // \u5370\u51fa hello world\\n}\\nsay()\\n```\\n\\n\u4f46\u5982\u679c\u51fd\u5f0f\u4e0d\u8b8a\uff0c\u4f46\u8abf\u7528\u6b64\u51fd\u5f0f\u7684\u4eba\u662f\u67d0\u7269\u4ef6\uff0c\u5247this\u5c31\u6703\u6307\u5411\u8a72\u7269\u4ef6\uff0c\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nwindow.word = \'hello world\'\\n\\nfunction say() {\\n  console.log(this.word)\\n}\\n\\nvar people = {\\n\\tword: \'how are you\',\\n\\tsay: say\\n}\\n\\nsay() // \u5370\u51fa hello world\\npeople.say() // \u5370\u51fa how are you\\n```\\n\\n\u540c\u7406\uff0c\u8abf\u7528\u6b64\u51fd\u5f0f\u7684\u4eba\u70baDOM\uff0c\u5247this\u5c31\u6703\u6307\u5411\u8a72DOM\uff0c\u7bc4\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nfunction addBorder() {\\n  this.style.border = \'1px solid red\'\\n  // \u9ede\u64cael\u8abf\u7528addBorder\uff0cthis\u6703\u6307\u5411el\uff0c\u56e0\u6b64el\u6703\u52a0\u4e0a\u7d05\u7dda\\n}\\n\\nvar el = document.querySelector(\'#element-id\')\\n\\nel.addEventListener(\'click\', addBorder)\\n```\\n\\n\u8b1b\u5230\u9019\u88e1`d3.select(this)`\u80fd\u53d6\u5f97DOM\u7684\u539f\u7406\u5c31\u547c\u4e4b\u6b32\u51fa\u4e86\uff0c\u4e26\u4e0d\u662fD3\u505a\u4e86\u4ec0\u9ebc\u9ed1\u9b54\u6cd5\uff0c\u800c\u662fjavascript\u7684this\u539f\u672c\u5c31\u662f\u6703\u6307\u5411\u5230**\u8abf\u6574\u6b64\u51fd\u5f0f\u7684\u7269\u4ef6**\u3002\\n\\n\\n\\n## \u7bad\u982d\u51fd\u5f0f\u4e2d\u7684this\\n\\nJavascript\u63a8\u51fa\u65b0\u7684\u7bc0\u982d\u51fd\u5f0f\uff0c\u5e7e\u4e4e\u5927\u90e8\u4efd\u548c\u539f\u4f86\u7684function\u6c92\u6709\u4ec0\u9ebc\u4e0d\u540c\uff0c\u504f\u504f\u5c31\u662fthis\u6307\u5411\u7684\u898f\u5247\u548c\u539f\u4f86\u4e0d\u540c\u3002\\n\\n**\u5728\u7bad\u982d\u51fd\u5f0f\u4e2dthis\u6307\u5411\u5ba3\u544a\u51fd\u5f0f\u7684\u7269\u4ef6\uff0c\u800c\u975e\u8abf\u7528\u51fd\u5f0f\u7684\u7269\u4ef6**\u3002\u4e5f\u5c31\u662f\u8aaa\u4ed6\u5728\u51fd\u5f0f\u88ab\u5ba3\u544a\u6642this\u7684\u6307\u5411\u5c31\u56fa\u5b9a\u4e0b\u4f86\u4e86\uff0c\u4e0d\u6703\u96a8\u8457\u4f7f\u7528\u7684\u65b9\u5f0f\u4e0d\u540c\u800c\u6539\u8b8a\u6307\u5411\u7684\u5c0d\u8c61\u3002\\n\\n\u7a0d\u5fae\u4fee\u6539\u524d\u9762\u7684\u7bc4\u4f8b\uff0c\u539f\u4f86\u7684say()\u51fd\u5f0f\u56e0\u70ba\u662f\u5728\u5168\u57dfwindow\u4e0a\u5ba3\u544a\u7684\uff0c\u6240\u4ee5\u7121\u8ad6\u7531\u54ea\u500b\u7269\u4ef6\u8abf\u7528this\u90fd\u662f\u6307\u5411\u5230window\u3002\\n\\n```js\\nwindow.word = \'hello world\'\\n\\nlet say = () => {\\n  console.log(this.word)\\n}\\n\\nlet people = {\\n\\tword: \'how are you\',\\n\\tsay: say\\n}\\n\\nsay() // \u5370\u51fa hello world\\npeople.say() // \u5370\u51fa hello world\\n```\\n\\n \u518d\u4f86\uff0c\u5ef6\u7e8c\u524d\u9762\u7684DOM\u4e8b\u4ef6\u7bc4\u4f8b\uff0c\u7a0b\u5f0f\u5b8c\u5168\u4e0d\u8b8a\uff0c\u53ea\u628afunction\u6539\u6210\u7bad\u982d\u51fd\u5f0f\uff0c\u6b64\u6642\u5c31\u6703\u5831\u932f\u4e86\uff0c\u56e0\u70bathis\u6307\u5411\u7684\u5c0d\u8c61\u4e0d\u518d\u662f\u8abf\u7528\u6b64\u51fd\u5f0f\u7684DOM\u672c\u8eab\uff0c\u800c\u662f\u6307\u5230window\u53bb\u4e86\u3002\\n\\n```js\\nlet addBorder = () => {\\n  this.style.border = \'1px solid red\'\\n  // \u5831\u932f\uff0c\u56e0\u70bathis\u6307\u5411window\uff0cwindow\u5e95\u4e0b\u6c92\u6709style\u7269\u4ef6\\n}\\n\\nlet el = document.querySelector(\'#element-id\')\\n\\nel.addEventListener(\'click\', addBorder)\\n```\\n\\n\\n\\n# \u7bad\u982d\u51fd\u5f0f\u7684\u554f\u984c\u89e3\u6cd5\\n\\n\u722c\u6587\u5f8c\u6211\u6574\u7406\u51fa\u4e09\u7a2e\u89e3\u6cd5\uff0c\u5176\u4e2d\u7b2c\u4e00\u7a2e\u7528\u6cd5\u662f\u6211\u500b\u4eba\u7684\u63a8\u85a6\u7528\u6cd5\uff0c\u4e0d\u904e\u4ed6\u53ea\u9069\u7528v4\u4ee5\u4e0a\u7248\u672c\uff0c\u5982\u679c\u4f7f\u7528v3\u4ee5\u4e0b\u7248\u672c\u5c31\u53ea\u80fd\u4f7f\u89e3\u6cd5\u4e8c\u6216\u89e3\u6cd5\u4e09\u4e86\u3002\\n\\n\\n\\n## \u89e3\u6cd5\u4e00\uff08\u5efa\u8b70\u7528\u6cd5\uff09\\n\\n\u9019\u500b\u89e3\u6cd5\u53ef\u4ee5\u5b8c\u5b8c\u5168\u5168\u7684\u53d6\u4ee3`d3.select(this)`\u800c\u4e14\u7a0b\u5f0f\u610f\u7fa9\u4e0a\u4e5f\u5341\u5206\u5408\u7406\uff0c\u4e0d\u904e\u53ea\u6709\u4e00\u4ef6\u5c0f\u5c0f\u7684\u4f46\u66f8\u5c31\u662f\u53ea\u9069\u7528D3 v4\u4ee5\u4e0a\u7684\u7248\u672c\uff0cv3\u662f\u4e0d\u652f\u63f4\u7684\u3002\\n\\n\u4e0a\u8ff0\u4e09\u500b\u7bc4\u4f8b\u7684\u51fd\u5f0f\u7576\u4e2d\uff0c\u6ce8\u5165\u53c3\u6578\u4e2d\u7684\u300c\u7b2c\u4e09\u500b\u53c3\u6578\u300d\u5c31\u662f\u300c\u8abf\u7528\u6b64\u51fd\u5f0f\u7684DOM\u7684\u96c6\u5408\uff08\u9663\u5217\uff09\u300d\uff0c\u900f\u904e\u51fd\u5f0f\u4e2d\u300c\u7b2c\u4e8c\u500b\u53c3\u6578\u300d\u4e5f\u5c31\u662f\u8a72\u8abf\u7528\u4efb\u52d9\u4e2d\u7684\u9663\u5217\u7d22\u5f15\uff0c\u5c31\u53ef\u4ee5\u627e\u5230\u8abf\u7528\u6b64\u51fd\u7684DOM\u2026\\n\\n\u8b1b\u8d77\u4f86\u6709\u9ede\u9952\u820c\uff0c\u7c21\u55ae\u8b1b\uff0c\u5047\u8a2d\u9019\u500b\u9663\u5217\u547d\u540d\u70ba`all`\u3001\u7d22\u5f15\u70ba`i`\uff0c`all[i]`\u5c31\u6703\u7b49\u540c\u65bc\u6211\u5011\u5c0b\u5c0b\u8993\u8993\u7684function\u4e2d\u7684`this`\u5566\uff0c\u800c`d3.select(all[i])`\u4e5f\u5c31\u7b49\u540c\u65bc`d3.select(this)`\u3002\\n\\n\u76f4\u63a5\u7528\u672c\u6587\u6700\u4e00\u958b\u59cb\u7684\u4e09\u500b\u7bc4\u4f8b\u91cd\u65b0\u7528\u6b64\u89e3\u6cd5\u4f86\u6539\u5beb\uff1a\\n\\n1.\u4e8b\u4ef6\\n\\n```js\\nd3.selectAll(\'g\')\\n\\t.on(\'click\', (d, i, all) => {\\n\\t\\tlet target = d3.select(all[i]) // d3.select(all[i])\u53d6\u5f97\u9ede\u64ca\u5143\u7d20<g>\\n\\t\\ttarget.classed(\'active\', true)\\n\\t})\\n```\\n\\n2.\u9663\u5217\u8ff4\u5708\\n\\n```js\\nd3.selectAll(\'g\')\\n\\t.each((d, i, all) => {\\n\\t\\tlet dom = d3.select(all[i]) // d3.select(all[i])\u53d6\u5f97\u5143\u7d20<g>\\n\\t\\tlet x = i * 20\\n\\t\\tdom.attr(\'transform\', \'translate(\' + x + \', 20)\')\\n\\t})\\n```\\n\\n3.\u52d5\u756b\\n\\n```js\\ndom.transition()\\nconst dom = d3.select(\\"body\\").append(\\"div\\")  \\n\\ndom.duration(2000)\\n  .tween(\\"number\\", (d, i, all) => {\\n    let inter = d3.interpolateRound(0, 100);\\n    return t => {\\n    \\tlet n = inter(t)\\n      d3.select(all[i]).html(n) // d3.select(all[i]) == dom\\n    }\\n  })\\n\\n```\\n\\n\\n\\n## \u89e3\u6cd5\u4e8c\\n\\n\u8a8d\u771f\u8b1b\u8d77\u4f86\u5176\u5be6\u9019\u500b\u65b9\u6cd5\u771f\u7684\u9084\u4e0d\u932f\uff0c\u96d6\u7136\u807d\u8d77\u4f86\u597d\u50cf\u6709\u8b1b\u548c\u6c92\u8b1b\u597d\u50cf\u4e00\u6a23\uff0c\u90a3\u5c31\u662f\u7528\u539f\u672c\u7684\u51fd\u5f0f\u5beb\u6cd5function () { ... }\uff0c\u4e0d\u8981\u4f7f\u7528\u7bad\u982d\u51fd\u5f0f\uff0c\u8b1d\u8b1d\u89c0\u8cde\uff08\u554a\u4e0d\u662f\u5566\uff09\\n\\n\u9019\u9084\u771f\u53ef\u80fd\u771f\u7684\u662f\u7a2e\u7c21\u55ae\u7684\u89e3\u6cd5\uff0c\u53ea\u662f\u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\u53c8\u6c92\u8fa6\u6cd5\u771f\u7684\u7b26\u5408\u9700\u6c42\u3002\\n\\n\u5c31\u6211\u81ea\u5df1\u672c\u8eab\u7684\u4f8b\u5b50\uff0c\u6211\u7684\u4f7f\u7528\u60c5\u5883\u662f\u5728js\u7684class\uff08\u6216\u8005\u8aaa\u662f\u7269\u4ef6\uff09\u7576\u4e2d\u4f7f\u7528d3\uff0c\u6211\u5e0c\u671bthis\u672c\u8eab\u6709\u5176\u610f\u7fa9\uff08\u6211\u5e0c\u671b\u6307\u5411\u5230class\u672c\u8eab\uff09\uff0c\u5982\u679c\u51fd\u5f0f\u4f7f\u7528function () { ... }\u90a3\u6211\u5c31\u7121\u6cd5\u900f\u904ethis\u6307\u5411\u5230class\u672c\u8eab\u3002\\n\\n\u5c31\u9019\u7a2e\u60c5\u6cc1\u4f86\u8aaa\u9084\u662f\u6709\u4e00\u65b9\u5f0f\u53ef\u89e3\u6c7a\uff0c\u4e5f\u5c31\u662f\u5728\u51fd\u5f0f\u5916\u9762\u5ba3\u544a\u4e00\u500b\u8b8a\u6578\u6307\u5411\u5230\u51fd\u5f0f\u5916\u7684thi\uff0c\u901a\u5e38\u9019\u500b\u8b8a\u6578\u6703\u53d6\u540d\u53eb`self`\u6216`that`\u6216\u662f\u5176\u4ed6\u81ea\u8a02\u6709\u610f\u7fa9\u7684\u540d\u7a31\uff0c\u9019\u500b\u7b97\u662fjavascript\u4e2d\u5e38\u7528\u7684\u5c0f\u6280\u5de7\u3002\\n\\n\u8209\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nexport default class {\\n\\tconstructor () {\\n\\t\\tthis.className = \'active\'\\n\\t\\t\\n\\t\\tconst self = this // \u81ea\u8a02\u540d\u70baself\u7684\u8b8a\u6578\u6307\u5411\u5230class\u7684this\\n\\t\\t\\n\\t\\t// ...\u7565...\\n\\t\\t\\n    d3.selectAll(\'g\')\\n      .on(\'click\', function(){\\n        let target = d3.select(this) // this\u6307\u5411<g>\u5143\u7d20\\n        target.classed(self.className, true) // self\u6307\u5411\u5230class\u7684this\\n      })\\n\\t}\\n}\\n\\n\\n```\\n\\n\\n\\n## \u89e3\u6cd5\u4e09\\n\\n\u6700\u5f8c\u9019\u500b\u89e3\u6cd5\u5f88\u5bb9\u6613\u5c31\u51fa\u73fe\u6f0f\u6d1e\uff0c\u800c\u4e14\u53ea\u9069\u7528\u4e0a\u8ff0\u4e09\u7a2e\u60c5\u5883\u7576\u4e2d\u7684\u300c\u4e8b\u4ef6\u51fd\u5f0f\u300d\u7576\u4e2d\u2026 \u6240\u4ee5\u5c31\u7576\u4f5c\u53c3\u8003\u5c31\u597d\u4e86 XD\uff08\u61c9\u8a72\u8aaa\uff0c\u6b64\u7528\u6cd5\u7684\u7a0b\u5f0f\u610f\u7fa9\u548cd3.select(this)\u4e0d\u592a\u76f8\u540c\uff0c\u9069\u4e0d\u9069\u7528\u9700\u4f9d\u4f60\u7684\u4f7f\u7528\u60c5\u5883\u4f86\u770b\uff09\u3002\\n\\n\u89e3\u6cd5\u5c31\u662f\u6539\u7528`d3.event.target`\u4f86\u4ee3\u66ff\u539f\u4f86\u7684`this`\u3002\\n\\n\u4f46\u662f\u6211\u8aaa\u7684\u6f0f\u6d1e\uff0c\u662f\u4ed6\u53d6\u5230\u7684\u5c0d\u8c61\u548c\u539f\u5148\u7684`this`\u6709\u53ef\u80fd\u6703\u4e0d\u4e00\u6a23\uff08\uff01\uff01\uff09\uff0c\u807d\u8d77\u4f86\u597d\u50cf\u5f88\u53ef\u6015\uff0c\u4f46\u5982\u679c\u4e86\u89e3javascript\u7684\u4e8b\u4ef6\u50b3\u905e\u6a5f\u5236\u5c31\u77e5\u9053\u9019\u500b\u518d\u6b63\u5e38\u4e0d\u904e\u3002\\n\\n\u6211\u6240\u6307\u7684\u5c31\u662fjavascript\u7684event bubbling\uff0c\u4e8b\u4ef6\u50b3\u905e\u6642\u6703\u7531\u6700\u5167\u5c64\u7684DOM\u4e00\u5c64\u4e00\u5c64\u5f80\u5916\u50b3\u905e\u3002\u5047\u8a2d\u6709\u4e00\u7d44DOM\u5982\u4e0b\uff1a\\n\\n```html\\n<svg>\\n  <g>\\n    <path ...\u7565...>\\n    <text ...\u7565...>\\n  </g>\\n  <g>\\n    <path ...\u7565...>\\n    <text ...\u7565...>\\n  </g>\\n  <g>\\n    <path ...\u7565...>\\n    <text ...\u7565...>\\n  </g>\\n</svg>\\n\\n```\\n\\n\u5047\u8a2d\u524d\u9762\u7bc4\u4f8b\u7684\u7b2c\u4e00\u6bb5\u7a0b\u5f0f\u78bc\u7684html\u662f\u9577\u9019\u6a23\u500b\u5b50\uff0c\u5728\u8a72\u4f8b\u4e2dclick\u76e3\u807d\u4e8b\u4ef6\u7d81\u5728`<g>`\u4e0a\u9762\uff08\u4e5f\u5c31\u662f\u8aaa\u7528d3.select(this)\u53ef\u4ee5\u53d6\u5230\u88ab\u9ede\u64ca\u5230\u7684`<g>`\u5143\u7d20\uff09\uff0c\u4f46\u662f\u6ed1\u9f20\u9ede\u64ca\u6642\u6709\u53ef\u80fd\u662f\u9ede\u5230\u756b\u9762\u4e0a\u7684`<path>`\u6216`<text>`\u5143\u7d20\uff0c\u90a3`d3.event.target`\u5c31\u6703\u662f`<path>`\u6216`<text>`\uff0c\u800c\u4e0d\u6703\u662f`<g>\u3002`\\n\\n\u9019\u88e1\u6709\u4e00\u500b\u65b9\u6cd5\u53ef\u4ee5\u89e3\u6c7a\u9019\u500b\u554f\u984c\uff0c\u5c31\u662f\u5728\u525b\u624d\u53d6\u5230\u7684\u5c0d\u8c61\u4e0a\u52a0\u4e0a`.parentNode`\u5c31\u53ef\u4ee5\u627e\u5230\u4ed6\u7684\u7236\u7bc0\u9ede\u3002\\n\\n\u2026\u4f9d\u64da\u7684\u6211\u7d93\u9a57\uff0c\u9019\u500b\u65b9\u6cd5\u53c8\u53ef\u80fd\u6703\u8d8a\u88dc\u8d8a\u5927\u6d1e\u2026\\n\\n\u9019\u500b\u60c5\u6cc1\u662f\uff0c\u5982\u679c\u4f60\u7684DOM\u662f\u591a\u5c64\u7684\uff0c\u5c31\u6c92\u6709\u8fa6\u6cd5\u4fdd\u8b49\u4e8b\u4ef6\u50b3\u905e\u662f\u5f9e\u7b2c\u4e8c\u5c64\u958b\u59cb\uff0c\u4ed6\u6709\u53ef\u80fd\u6703\u5f9e\u7b2c\u4e09\u5c64\u6216\u7b2c\u56db\u5c64\uff0c\u56e0\u6b64\u5c31\u6c92\u8fa6\u6cd5\u6b63\u5e38\u627e\u5230\u4f60\u6700\u521d\u60f3\u627e\u7684`<g>`\u3002\\n\\n\\n\\n# \u7e3d\u7d50\\n\\n\u5047\u8a2d\u4e0a\u8ff0\u89e3\u6c7a\u65b9\u5f0f\u4e2d\uff0c\u4f60\u548c\u6211\u4e00\u6a23\u9078\u64c7\u4f7f\u7528\u300c\u89e3\u6cd5\u4e00\u300d\uff0c\u7528`d3.select(all[i])`\u4f86\u53d6\u4ee3`d3.select(this)`\uff0c\u90a3\u5c0d\u65bc\u9019\u500b\u300cthis\u300d\u5230\u5e95\u662f\u4ec0\u9ebc\u4f3c\u4e4e\u5c31\u6c92\u90a3\u9ebc\u91cd\u8981\u4e86\uff08\uff1f\uff09\u3002\\n\\n\u5c0d\u6211\u500b\u4eba\u800c\u8a00\uff0c\u56e0\u70ba\u6211\u7684D3\u5c08\u6848\u5df2\u7d93\u63a1\u7528javascript\u6a21\u7d44\u5316\u958b\u767c\uff08\u4f7f\u7528es6 module\u4ee5\u53cawebpack\u7de8\u8b6f\uff09\uff0cthis\u5728\u5c08\u6848\u7576\u4e2d\u662f\u6709\u5176\u610f\u7fa9\uff0c\u6240\u4ee5\u5373\u4f7f\u4e0d\u662f\u7528\u5728\u4e0a\u8ff0\u60c5\u5883\uff0c\u5728\u5176\u4ed6\u7684\u7a0b\u5f0f\u88e1\u4e5f\u662f\u6703\u9047\u5230\u985e\u4f3c\u554f\u984c\u3002\u53e6\u5916\uff0c\u591a\u65b9\u9762\u7684\u5438\u6536\u77e5\u8b58\u80fd\u5920\u66f4\u63d0\u4f9b\u7a0b\u5f0f\u7684\u638c\u63a7\u80fd\u529b\uff0c\u800c\u4e14\u5728\u9047\u5230\u554f\u984c\u6642\u5728\u5c0b\u627e\u89e3\u6c7a\u65b9\u6848\u4e5f\u6703\u66f4\u6709\u5f48\u6027\u3002\\n\\n\u4ee5\u4e0a\u662f\u6211\u7684\u5b78\u7fd2\u7684\u4e00\u500b\u6574\u7406\uff0c\u55ae\u7d14\u662f\u5f9e\u6211\u9047\u5230\u554f\u984c\u7684\u89d2\u5ea6\u8a66\u8457\u4ee5\u6211\u7684\u80fd\u529b\u9032\u4e00\u6b65\u63a2\u8a0e\u3002\u8aaa\u5be6\u5728javascript\u7684this\u9084\u771f\u662f\u535a\u5927\u7cbe\u6df1\uff0c\u5c31\u8a9e\u8a00\u672c\u8eab\u53ef\u80fd\u53ea\u6478\u5230\u57fa\u672c\u6982\u5ff5\u800c\u5df2\uff0c\u5982\u679c\u5728\u6587\u5b57\u6216\u89c0\u5ff5\u4e0a\u5982\u679c\u6709\u4e0d\u5920\u6b63\u78ba\u7684\u5730\u65b9\u518d\u9ebb\u7169\u5148\u9032\u591a\u591a\u6307\u6559\u611f\u8b1d~\u3002"}]}')}}]);