"use strict";(self.webpackChunkupstairs_0102_github_io=self.webpackChunkupstairs_0102_github_io||[]).push([[4917],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>g});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),d=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=d(e.components);return r.createElement(p.Provider,{value:n},e.children)},s="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),s=d(t),m=a,g=s["".concat(p,".").concat(m)]||s[m]||u[m]||l;return t?r.createElement(g,o(o({ref:n},c),{},{components:t})):r.createElement(g,o({ref:n},c))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,o=new Array(l);o[0]=m;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i[s]="string"==typeof e?e:a,o[1]=i;for(var d=2;d<l;d++)o[d]=t[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},68762:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>s,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var r=t(87462),a=(t(67294),t(3905));const l={slug:"/ithome2018/day13",title:"Day13 \u6bd4\u4f8b\u5c3a",authors:"thunderboy",tags:["ithome","d3.js"]},o=void 0,i={unversionedId:"[\u9435\u4eba\u8cfd]D3.js\u65b0\u624b\u958b\u767c\u57fa\u672c\u5716\u8868/ithome2018-day13",id:"[\u9435\u4eba\u8cfd]D3.js\u65b0\u624b\u958b\u767c\u57fa\u672c\u5716\u8868/ithome2018-day13",title:"Day13 \u6bd4\u4f8b\u5c3a",description:"\u5728\u524d\u4e00\u5929\u6700\u5f8c\u4e00\u500b\u7df4\u7fd2\u7576\u4e2d\u6709\u4f7f\u7528\u5230\u7dda\u6027\u6bd4\u4f8b\u5c3a\u4f86\u505a\u76f4\u9577\u689d\u5716\u7684\u9ad8\u5ea6\u63db\u7b97\uff0c\u4eca\u5929\u5c31\u91dd\u5c0d\u6bd4\u4f8b\u5c3a\u7684\u90e8\u4efd\u4f86\u505a\u7a0d\u5fae\u8a73\u7d30\u4e00\u9ede\u7684\u8aaa\u660e\u3002",source:"@site/docs/[\u9435\u4eba\u8cfd]D3.js\u65b0\u624b\u958b\u767c\u57fa\u672c\u5716\u8868/ithome2018-day13.md",sourceDirName:"[\u9435\u4eba\u8cfd]D3.js\u65b0\u624b\u958b\u767c\u57fa\u672c\u5716\u8868",slug:"/ithome2018/day13",permalink:"/docs/ithome2018/day13",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/[\u9435\u4eba\u8cfd]D3.js\u65b0\u624b\u958b\u767c\u57fa\u672c\u5716\u8868/ithome2018-day13.md",tags:[{label:"ithome",permalink:"/docs/tags/ithome"},{label:"d3.js",permalink:"/docs/tags/d-3-js"}],version:"current",frontMatter:{slug:"/ithome2018/day13",title:"Day13 \u6bd4\u4f8b\u5c3a",authors:"thunderboy",tags:["ithome","d3.js"]},sidebar:"tutorialSidebar",previous:{title:"Day12 \u7df4\u7fd2 - \u76f4\u5f0f\u9577\u689d\u5716(3)",permalink:"/docs/ithome2018/day12"},next:{title:"Day14 \u5ea7\u6a19\u8ef8",permalink:"/docs/ithome2018/day14"}},p={},d=[{value:"\u4e00\u3001\u7dda\u6027\u6bd4\u4f8b\u5c3a",id:"\u4e00\u7dda\u6027\u6bd4\u4f8b\u5c3a",level:2},{value:"\u4e8c\u3001\u5e8f\u6578\u6bd4\u4f8b\u5c3a",id:"\u4e8c\u5e8f\u6578\u6bd4\u4f8b\u5c3a",level:2}],c={toc:d};function s(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\u5728\u524d\u4e00\u5929\u6700\u5f8c\u4e00\u500b\u7df4\u7fd2\u7576\u4e2d\u6709\u4f7f\u7528\u5230\u7dda\u6027\u6bd4\u4f8b\u5c3a\u4f86\u505a\u76f4\u9577\u689d\u5716\u7684\u9ad8\u5ea6\u63db\u7b97\uff0c\u4eca\u5929\u5c31\u91dd\u5c0d\u6bd4\u4f8b\u5c3a\u7684\u90e8\u4efd\u4f86\u505a\u7a0d\u5fae\u8a73\u7d30\u4e00\u9ede\u7684\u8aaa\u660e\u3002"),(0,a.kt)("p",null,"\u5728D3\u4e2d\u6bd4\u4f8b\u5c3a(Scale)\u7684\u61c9\u7528\u662f\u5c07\u4e00\u500b\u5340\u9593\u7684\u6578\u503c\u5c0d\u61c9\u5230\u53e6\u4e00\u500b\u5340\u9593\u3002\u6bd4\u4f8b\u5c3a\u5f88\u50cf\u6578\u5b78\u7576\u4e2d\u7684\u51fd\u6578\u3002\u6bd4\u5982\u4e00\u500b\u4e00\u5143\u4e8c\u6b21\u51fd\u6578\uff0c\u6709x\u548cy\u5169\u500b\u672a\u77e5\u6578\uff0c\u7576x\u7684\u503c\u78ba\u5b9a\u6642\uff0cy\u7684\u503c\u4e5f\u78ba\u5b9a\u4e86\u3002x\u7684\u7bc4\u570d\u70ba\u7a31\u70ba\u300c",(0,a.kt)("strong",{parentName:"p"},"\u5b9a\u7fa9\u57df"),"\u300d(domain)\uff0cy\u88ab\u7a31\u70ba\u300c",(0,a.kt)("strong",{parentName:"p"},"\u503c\u57df"),"\u300d(range) \u3002"),(0,a.kt)("p",null,"\u800c\u6bd4\u4f8b\u5c3a\u5206\u70ba\u5169\u5927\u985e\uff0c\u4e00\u7a2e\u662f",(0,a.kt)("strong",{parentName:"p"},"\u9023\u7e8c"),"\u7684\u3001\u53e6\u4e00\u7a2e\u662f",(0,a.kt)("strong",{parentName:"p"},"\u96e2\u6563"),"\u7684\uff0c\u4e5f\u5c31\u662f\u6240\u8b02\u7684\u5b9a\u91cf\u6bd4\u4f8b\u5c3a\u548c\u5e8f\u6578\u6bd4\u4f8b\u5c3a\uff0c\u5b9a\u91cf\u6bd4\u4f8b\u5c3a\u53c8\u5305\u542b\u4e86\u591a\u7a2e\u7684\u6bd4\u4f8b\u5c3a\uff08\u7dda\u6027\u3001\u6307\u6578\u3001\u5c0d\u6578\u2026\u7b49\u7b49\uff09\uff0c\u5176\u4e2d\u7dda\u6027\u6bd4\u4f8b\u5c3a\u662f\u6700\u70ba\u5e38\u7528\u7684\u3002"),(0,a.kt)("h2",{id:"\u4e00\u7dda\u6027\u6bd4\u4f8b\u5c3a"},"\u4e00\u3001\u7dda\u6027\u6bd4\u4f8b\u5c3a"),(0,a.kt)("p",null,"\u9996\u5148\u5c31\u76f4\u63a5\u5efa\u7acb\u4e00\u500b\u7dda\u6027\u6bd4\u4f8b\u5c3a (Linear Scale)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"var dataSet = [10, 20, 8, 15, 35];\n\nvar min = d3.min(dataSet);\nvar max = d3.max(dataSet);\n\nvar linear = d3.scale.linear()\n        .domain([min, max])\n        .range([0, 100])\n")),(0,a.kt)("p",null,"\u9019\u908a\u4f7f\u7528d3.scale.linear()\u5efa\u7acb\u4e86\u4e00\u500b\u7dda\u6027\u6bd4\u4f8b\u5c3a\uff0c\u7136\u5f8c\u7528domain\u5ba3\u544a\u300c\u5b9a\u7fa9\u57df\u300d\u7684\u7bc4\u570d\u3001range\u5ba3\u544a\u300c\u503c\u57df\u300d\u7684\u7bc4\u570d\u3002"),(0,a.kt)("p",null,"\u7531\u65bc\u7dda\u6027\u6bd4\u4f8b\u5c3a\u7684\u5b9a\u7fa9\u57df\u548c\u503c\u57df\u90fd\u662f\u9023\u7e8c\u7684\uff0c\u6240\u4ee5\u5404\u5225\u7684\u5169\u500b\u53c3\u6578\u5c31\u662f\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u3002d3\u63d0\u4f9b\u4e86d3.min()\u548cd3.max()\u5169\u500b\u65b9\u6cd5\u4f86\u53d6\u9663\u5217\u8cc7\u6599\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\uff0c\u6240\u4ee5\u6b64\u4f8b\u4e2d\u5c31\u662f\u7528\u9019\u5169\u500b\u65b9\u6cd5\u4f86\u53d6dataSet\u4e2d\u7684\u6700\u5927\u548c\u6700\u5c0f\u503c\u3002"),(0,a.kt)("p",null,"d3.scale.linear()\u7684\u8fd4\u56de\u503c\u662f\u53ef\u4ee5\u51fd\u5f0f\u4f86\u4f7f\u7528\u7684\uff0c\u8f38\u5165\u4e00\u500b\u5728\u5b9a\u7fa9\u57df\u5167\u7684\u503c\uff0c\u50b3\u56de\u503c\u57df\u5167\u5c0d\u61c9\u7684\u503c\u3002\u6bd4\u5982\u8aaa\uff1a"),(0,a.kt)("p",null,"linear(8) \u6703\u5f97\u5230 0"),(0,a.kt)("p",null,"linear(35) \u6703\u5f97\u5230 100"),(0,a.kt)("p",null,"linear(25) \u6703\u5f97\u5230 62.96296296296296"),(0,a.kt)("p",null,"\u90a3\u5982\u679c\u8f38\u5165\u53c3\u6578\u4e0d\u5728\u5b9a\u7fa9\u57df\u7bc4\u570d\u7684\u8a71\uff1a"),(0,a.kt)("p",null,"linear(50) \u6703\u5f97\u5230 155.55555555555557"),(0,a.kt)("p",null,"linear(-10) \u6703\u5f97\u5230 -66.66666666666666"),(0,a.kt)("p",null,"\u4ecd\u7136\u53ef\u4ee5\u53d6\u5230\u7d50\u679c\uff0c\u4e0d\u904e\u662f\u8d85\u51fa\u503c\u57df\u7bc4\u570d\u7684\u503c\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u7dda\u6027\u6bd4\u4f8b\u5c3a\u662f\u7528\u5728\u7e6a\u5236\u5716\u8868\u5ea7\u6a19\uff0c\u8d85\u51fa\u7bc4\u570d\u7684\u6578\u503c\u5c31\u6703\u8d85\u51fa\u5716\u8868\u5340\u584a\u3002\u5982\u679c\u6211\u5011\u5e0c\u671b\u53ef\u4ee5\u628a\u8d85\u51fa\u7684\u90e8\u4efd\u7d66\u622a\u6389\u7684\u8a71\u53ef\u4ee5\u4f7f\u7528clamp()\u3002"),(0,a.kt)("p",null,"\u6b64\u4f8b\u7a0d\u505a\u4fee\u6539"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"var linear = d3.scale.linear()\n        .domain([min, max])\n        .range([0, 100])\n        .clamp(true)\n\nlinear(50) \u6703\u5f97\u5230 100\n")),(0,a.kt)("h2",{id:"\u4e8c\u5e8f\u6578\u6bd4\u4f8b\u5c3a"},"\u4e8c\u3001\u5e8f\u6578\u6bd4\u4f8b\u5c3a"),(0,a.kt)("p",null,"\u5e8f\u6578\u6bd4\u4f8b\u5c3a(Ordinal Scale)\u7684\u5b9a\u7fa9\u57df\u548c\u503c\u57df\u90fd\u662f\u96e2\u6563\u7684\uff0c\u9019\u908a\u7528\u984f\u8272\u4f86\u505a\u4f8b\u5b50\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'var index = [0, 1, 2, 3, 4];\nvar color = ["red", "blue", "green", "yellow", "black"];\n\nvar ordinal = d3.scale.ordinal()\n        .domain(index)\n        .range(color);\n')),(0,a.kt)("p",null,"\u5efa\u7acb\u5e8f\u6578\u6bd4\u4f8b\u5c3a\u7684\u65b9\u6cd5\u662fd3.scale.ordinal()\uff0c\u300c\u5b9a\u7fa9\u57df\u300d\u548c\u300c\u503c\u57df\u300d\u7684\u65b9\u6cd5\u540c\u6a23\u662fdomain()\u548crange()\u3002\u4e0d\u904e\u7531\u65bc\u5b9a\u7fa9\u57df\u548c\u503c\u57df\u90fd\u662f\u96e2\u6563\u7684\uff0c\u6240\u4ee5\u8981\u5404\u5225\u653e\u5165\u6240\u6709\u8cc7\u6599\u7684\u9663\u5217\u3002"),(0,a.kt)("p",null,"d3.scale.ordinal()\u7684\u8fd4\u56de\u503c\u662f\u53ef\u4ee5\u51fd\u5f0f\u4f86\u4f7f\u7528\u7684\uff0c\u8f38\u5165\u4e00\u500b\u5728\u5b9a\u7fa9\u57df\u5167\u7684\u503c\uff0c\u50b3\u56de\u503c\u57df\u5167\u5c0d\u61c9\u7684\u503c\u3002\u6bd4\u5982\u8aaa\uff1a"),(0,a.kt)("p",null,'ordinal(2) \u6703\u5f97\u5230 \u201cgreen"'),(0,a.kt)("p",null,"\u53e6\u5916\u4e00\u500b\u4f8b\u5b50\u662f\uff0c\u662f\u8a08\u7b97\u6578\u7b46\u8cc7\u6599\u5728\u5ea7\u6a19\u8ef8\u7684\u4f4d\u7f6e\u3002\u4f46\u9019\u500b\u5982\u679c\u662f\u7528\u540c\u6a23\u7684\u5beb\u6cd5\u5c31\u6703\u8b8a\u5f97\u6709\u9ede\u5947\u602a\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"var index = [\u2018a', \u2018b', \u2018c', \u2018d', \u2018e'];\nvar xAxis = [0, 20, 40, 60, 80];\n\nvar ordinal = d3.scale.ordinal()\n        .domain(index)\n        .range(xAxis);\n")),(0,a.kt)("p",null,"\u7531\u65bc\u503c\u57df\u662f\u96e2\u6563\u7684\uff0c\u5c31\u8b8a\u6210\u81ea\u5df1\u8981\u624b\u52d5\u53bb\u7b97\u7684\uff1b\u5982\u679c\u9019\u5f35\u5716\u8868\u662f\u97ff\u61c9\u5f0f\u5927\u5c0f\u7684\u8a71\u90a3\u5c31\u66f4\u662f\u9ebb\u7169\u3002\u901a\u5e38\u9019\u7a2e\u60c5\u5f62\u503c\u57df\u7684\u5b9a\u7fa9\u6703\u7528\u53e6\u4e00\u7a2e\u65b9\u6cd5rangePoint()\u3002"),(0,a.kt)("p",null,"rangePoint()\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u7528\u96e2\u6563\u503c\u53c3\u6578\uff0c\u56e0\u6b64\u53ef\u4ee5\u6539\u70ba\u9019\u6a23\u5beb"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"var index = ['a', 'b', 'c', 'd', 'e'];\nvar width = 80;\n\nvar ordinal = d3.scale.ordinal()\n        .domain(index)\n        .rangePoint(0, width);\n")))}s.isMDXComponent=!0}}]);