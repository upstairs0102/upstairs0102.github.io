"use strict";(self.webpackChunkupstairs_0102_github_io=self.webpackChunkupstairs_0102_github_io||[]).push([[2750],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>C});var r=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var p=r.createContext({}),k=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},d=function(e){var n=k(e.components);return r.createElement(p.Provider,{value:n},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,l=e.mdxType,o=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=k(t),u=l,C=c["".concat(p,".").concat(u)]||c[u]||m[u]||o;return t?r.createElement(C,a(a({ref:n},d),{},{components:t})):r.createElement(C,a({ref:n},d))}));function C(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var o=t.length,a=new Array(o);a[0]=u;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i[c]="string"==typeof e?e:l,a[1]=i;for(var k=2;k<o;k++)a[k]=t[k];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},7856:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>k});var r=t(7462),l=(t(7294),t(3905));const o={slug:"2021/09/23/docker-book-note",title:"\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18",authors:"thunderboy",tags:["docker","gitlab-ci"]},a=void 0,i={permalink:"/blog/2021/09/23/docker-book-note",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/2021-09-23-\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18.md",source:"@site/blog/2021/2021-09-23-\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18.md",title:"\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18",description:"\u524d\u8a00",date:"2021-09-23T00:00:00.000Z",formattedDate:"September 23, 2021",tags:[{label:"docker",permalink:"/blog/tags/docker"},{label:"gitlab-ci",permalink:"/blog/tags/gitlab-ci"}],readingTime:19.225,hasTruncateMarker:!0,authors:[{name:"Adam You",title:"Engineer @ Blueplanet Inc.",url:"https://github.com/upstairs0102",imageURL:"/img/avatar.jpeg",key:"thunderboy"}],frontMatter:{slug:"2021/09/23/docker-book-note",title:"\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u8b80\u66f8\u7b46\u8a18",authors:"thunderboy",tags:["docker","gitlab-ci"]},prevItem:{title:"\u7011\u5e03\u6216\u654f\u6377\u958b\u767c\u7684\u9078\u64c7\uff1f\u4e09\u773c\u602aPodcast\u7b46\u8a18",permalink:"/blog/2021/12/14/scrum-and-waterfall"},nextItem:{title:"Vue Recursive Component",permalink:"/blog/2021/06/24/vue-recursive-component"}},p={authorsImageUrls:[void 0]},k=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"CH1 Docker\u7684\u80fd\u8207\u4e0d\u80fd",id:"ch1-docker\u7684\u80fd\u8207\u4e0d\u80fd",level:2},{value:"CH2 \u5fc5\u5b78\u7684 Docker\u529f\u80fd\u8207\u6307\u4ee4",id:"ch2-\u5fc5\u5b78\u7684-docker\u529f\u80fd\u8207\u6307\u4ee4",level:2},{value:"\u4e0b\u8f09\u53ca\u555f\u7528 Image\uff08\u6620\u8c61\u6a94\uff09",id:"\u4e0b\u8f09\u53ca\u555f\u7528-image\u6620\u8c61\u6a94",level:3},{value:"\u67e5\u770b\u555f\u52d5\u904e\u7684 Container",id:"\u67e5\u770b\u555f\u52d5\u904e\u7684-container",level:3},{value:"\u505c\u7528\u548c\u555f\u7528 Container",id:"\u505c\u7528\u548c\u555f\u7528-container",level:3},{value:"\u8a73\u7d30 Container\u8cc7\u8a0a",id:"\u8a73\u7d30-container\u8cc7\u8a0a",level:3},{value:"\u4e00\u6b21\u4f5c\u591a\u500b Container",id:"\u4e00\u6b21\u4f5c\u591a\u500b-container",level:3},{value:"\u642c\u79fb\u6a94\u6848",id:"\u642c\u79fb\u6a94\u6848",level:3},{value:"\u67e5\u770b Container\u4f7f\u7528\u8cc7\u6e90\uff08CPU\u3001\u8a18\u61b6\u9ad4\uff09",id:"\u67e5\u770b-container\u4f7f\u7528\u8cc7\u6e90cpu\u8a18\u61b6\u9ad4",level:3},{value:"\u67e5\u770b Container\u7684\u5373\u6642 Log",id:"\u67e5\u770b-container\u7684\u5373\u6642-log",level:3},{value:"CH3 Docker Container\u7684\u9032\u968e\u64cd\u4f5c",id:"ch3-docker-container\u7684\u9032\u968e\u64cd\u4f5c",level:2},{value:"Container \u547d\u540d",id:"container-\u547d\u540d",level:3},{value:"\u74b0\u5883\u8b8a\u6578",id:"\u74b0\u5883\u8b8a\u6578",level:3},{value:"docker run \u8207 docker create",id:"docker-run-\u8207-docker-create",level:3},{value:"docker kill \u8207 docker stop",id:"docker-kill-\u8207-docker-stop",level:3},{value:"\u57f7\u884c Container\u5167\u7684\u7a0b\u5f0f\u6216\u6307\u4ee4",id:"\u57f7\u884c-container\u5167\u7684\u7a0b\u5f0f\u6216\u6307\u4ee4",level:3},{value:"\u81ea\u52d5\u79fb\u9664\u3001\u81ea\u52d5\u91cd\u65b0\u555f\u52d5",id:"\u81ea\u52d5\u79fb\u9664\u81ea\u52d5\u91cd\u65b0\u555f\u52d5",level:3},{value:"\u9032\u5165 Container\u64cd\u4f5c\u547d\u4ee4\u5217",id:"\u9032\u5165-container\u64cd\u4f5c\u547d\u4ee4\u5217",level:3},{value:"Container\u7d81\u5b9a IP",id:"container\u7d81\u5b9a-ip",level:3},{value:"docker network",id:"docker-network",level:3},{value:"Data Volume - docker run\u76f4\u63a5\u6307\u5b9a\u672c\u6a5f\u8def\u5f91",id:"data-volume---docker-run\u76f4\u63a5\u6307\u5b9a\u672c\u6a5f\u8def\u5f91",level:3},{value:"Data Volume - data volumn create",id:"data-volume---data-volumn-create",level:3},{value:"CH4 \u5404\u7a2e\u81ea\u88fd Docker Image\u7684\u65b9\u6cd5",id:"ch4-\u5404\u7a2e\u81ea\u88fd-docker-image\u7684\u65b9\u6cd5",level:2},{value:"\u5f9e\u904b\u884c\u4e2d\u7684 Container\u7522\u751f\u6620\u50cf\u6a94",id:"\u5f9e\u904b\u884c\u4e2d\u7684-container\u7522\u751f\u6620\u50cf\u6a94",level:3},{value:"Dockerfile\u7684 Build\u6307\u4ee4",id:"dockerfile\u7684-build\u6307\u4ee4",level:3},{value:"FROM",id:"from",level:4},{value:"ENV",id:"env",level:4},{value:"RUN",id:"run",level:4},{value:"EXPOSE",id:"expose",level:4},{value:"CMD",id:"cmd",level:4},{value:"ENTRYPOINT",id:"entrypoint",level:4},{value:"WORKDIR",id:"workdir",level:4},{value:"COPY",id:"copy",level:4},{value:"LABEL",id:"label",level:4},{value:"USER",id:"user",level:4},{value:"VOLUME",id:"volume",level:4},{value:"ARG",id:"arg",level:4},{value:"\u532f\u5165/\u532f\u51fa Image\u6a94",id:"\u532f\u5165\u532f\u51fa-image\u6a94",level:3},{value:"\u7528 Container\u532f\u51fa Image",id:"\u7528-container\u532f\u51fa-image",level:3},{value:"CH5 \u5229\u7528 Docker Compose\u7ba1\u7406\u591a\u500b Container",id:"ch5-\u5229\u7528-docker-compose\u7ba1\u7406\u591a\u500b-container",level:2},{value:"docker-compose.yml\u6587\u4ef6\u6307\u4ee4",id:"docker-composeyml\u6587\u4ef6\u6307\u4ee4",level:3},{value:"\u5e38\u7528\u6307\u4ee4",id:"\u5e38\u7528\u6307\u4ee4",level:3}],d={toc:k};function c(e){let{components:n,...t}=e;return(0,l.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,l.kt)("p",null,"\u9019\u662f\u6211\u8b80\u4e86\u300cDocker\u9019\u6a23\u5b78\u624d\u6709\u8da3\u300d\u9019\u672c\u66f8\u5176\u4e2d\u7b2c1\u7ae0~\u7b2c5\u7ae0\u7684\u7b46\u8a18\uff0c\u9019\u5e7e\u7ae0\u5305\u542b\u4e86 Docker\u57fa\u672c\u77e5\u8b58\u8207\u6307\u4ee4\u3001Dockerfiler\u4ee5\u53ca Docker Compose\u6307\u4ee4\u7b49\uff0c\u5df2\u7d93\u8db3\u4ee5\u5efa\u7f6e\u4e00\u822c\u7684 Docker Container\u4ee5\u53ca\u81ea\u52d5\u5316\u7ba1\u7406\u3002\u4e0d\u904edocker-compose.yml\u6587\u4ef6\u6307\u4ee4\u7684\u90e8\u4efd\u5be6\u5728\u662f\u592a\u591a\u4e86\u2026 \u4e00\u6642\u9593\u7b46\u8a18\u505a\u4e0d\u5b8c\uff0c\u6240\u4ee5\u5c1a\u672a\u5beb\u597d\u2026"),(0,l.kt)("p",null,"\u5f8c\u9762\u7684\u7ae0\u7bc0\u5167\u5bb9\u9084\u6709\u67b6\u8a2d Docker Registry\uff0c\u4ee5\u53ca\u591a\u500b\u7bc4\u4f8b\u5be6\u4f5c\uff08\u4e5f\u5c31\u662f\u6a19\u984c\u4e0a\u8aaa\u6709\u8da3\u7684\u90e8\u4efd\uff09\uff0c\u5c31\u88ab\u6211\u8df3\u904e\u4e86\u2026"),(0,l.kt)("h2",{id:"ch1-docker\u7684\u80fd\u8207\u4e0d\u80fd"},"CH1 Docker\u7684\u80fd\u8207\u4e0d\u80fd"),(0,l.kt)("p",null,"Container\uff08\u5bb9\u5668\uff09\u7684\u5b8c\u6574\u540d\u7a31\u61c9\u8a72\u662f\u300cLinux Containers\u300d\uff0c\u6307\u7684\u662f\u4e00\u7d44\u5229\u7528 Linux\u6838\u5fc3\u63d0\u4f9b\u7684\u6280\u8853\u4f86\u9054\u5230\u628a\u7a0b\u5f0f\u6216\u8edf\u9ad4\u300c\u5305\u88cf\u300d\u5728\u4e00\u500b\u53ef\u9694\u96e2\u4e14\u7368\u7acb\u904b\u884c\u7684\u74b0\u5883\u5de5\u5177\u3002"),(0,l.kt)("p",null,"Docker\u5c31\u662f\u7528\u4f86\u7ba1\u7406\u9019\u4e9b Containers\u7684\u5de5\u5177"),(0,l.kt)("p",null,"Docker\u662f\u4e00\u500b\u5b8c\u5168\u514d\u8cbb\uff08\u63a1\u7528 Apache 2.0\u6388\u6b0a\uff09\u7684\u958b\u767c\u539f\u59cb\u78bc\u5c08\u6848"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/moby/moby"},"https://github.com/moby/moby")),(0,l.kt)("p",null,"\u2191 moby\u662f\u5bb9\u5668\u6846\u67b6\uff0c\u539f\u672c github\u4e0a\u7684 docker\u5c08\u6848\u5df2\u6539\u540d\u70ba moby\uff0c\u800c Docker\u662f\u4f7f\u7528 moby\u67b6\u69cb\u5be6\u4f5c\u51fa\u4f86\u7684\u7522\u54c1"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://kknews.cc/zh-tw/tech/gv63368.html"},"https://kknews.cc/zh-tw/tech/gv63368.html")),(0,l.kt)("p",null,"\u7248\u672c\u53ca\u5dee\u7570\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Docker EE\uff08Docker Enterprise Edition\uff0c\u4f01\u696d\u7248\uff09\uff1a\u4ed8\u8cbb\u7248")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Docker CE\uff08Docker Community Edition\uff0c\u793e\u7fa4\u7248\uff09\uff1a\u514d\u8cbb\u7248")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Docker Desktop\uff1a\u7531\u65bc Docker\u662f\u57fa\u65bc Linux\u7684 Container\u5de5\u5177\uff0c\u6240\u4ee5 Linux\u4ee5\u5916\u7684\u4f5c\u696d\u7cfb\u7d71 - Mac\u548c Windows\u5fc5\u9808\u5b89\u88dd Docker Desktop\u3002\u5176\u539f\u7406\u662f\u5728\u900f\u904e Linux\u865b\u64ec\u6a5f\u5668\u4f86\u904b\u884c Container\u7684\u3002\u76ee\u524d Docker Desktop\u50c5\u63d0\u4f9b250\u4ee5\u4e0b\u5c0f\u578b\u516c\u53f8\u514d\u8cbb\u7248\u672c\uff0c\u5927\u578b\u516c\u53f8\u5fc5\u9808\u4f7f\u7528\u4ed8\u8cbb\u65b9\u6848\u3002"))),(0,l.kt)("h2",{id:"ch2-\u5fc5\u5b78\u7684-docker\u529f\u80fd\u8207\u6307\u4ee4"},"CH2 \u5fc5\u5b78\u7684 Docker\u529f\u80fd\u8207\u6307\u4ee4"),(0,l.kt)("h3",{id:"\u4e0b\u8f09\u53ca\u555f\u7528-image\u6620\u8c61\u6a94"},"\u4e0b\u8f09\u53ca\u555f\u7528 Image\uff08\u6620\u8c61\u6a94\uff09"),(0,l.kt)("p",null,"\u6620\u50cf\u6a94\u76f8\u95dc\u540d\u8a5e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Docker Image\uff1a\u900f\u904e Docker\u628a\u8981\u4f7f\u7528\u7684\u8edf\u9ad4\u6253\u5305\u8d77\u4f86\uff0c\u6253\u5305\u7684\u6a94\u6848\u7a31\u70ba Docker Image"),(0,l.kt)("li",{parentName:"ul"},"Docker Registry\uff1a\u7528\u4f86\u5b58\u653e Docker Image\u4f9b Docker\u4e0b\u8f09\u4f7f\u7528\uff0c\u53ef\u4ee5\u662f\u516c\u958b\u7684\u4e5f\u53ef\u4ee5\u662f\u5167\u90e8\u79c1\u7528\u7684"),(0,l.kt)("li",{parentName:"ul"},"Docker Hub\uff1aDocker \u5b98\u65b9\u63d0\u4f9b\u7684 Docker Registry")),(0,l.kt)("p",null,"\u5e38\u7528\u6307\u4ee4\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker search <Docker Image>")," \u641c\u5c0b Docker Image"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker pull <Docker Image>")," \u4e0b\u8f09 Docker Image"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker images")," \u67e5\u770b\u5df2\u4e0b\u8f09\u904e\u7684 Docker Image"),(0,l.kt)("p",null,"\u555f\u52d5\u6307\u4ee4\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -p <\u5c0d\u5916port>:<\u9810\u8a2dport> -d")),(0,l.kt)("p",null,"\u4f8b"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -p 8080:80 -d nginx")),(0,l.kt)("p",null,"\u7528 nginx\u7684 docker image\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"Detach"),"\u7684\u65b9\u5f0f\u5728\u4e3b\u6a5f 8080 port\u4e0a\u63d0\u4f9b\u670d\u52d9"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6709 ",(0,l.kt)("inlineCode",{parentName:"strong"},"-d"),"\u6307\u4ee4\u57f7\u884c\u5f8c\u6703\u56de\u50b3 Container ID\uff0c\u6703\u5c07\u7a0b\u5f0f\u57f7\u884c\u5728\u300c\u80cc\u666f\u300d\uff0c\u5982\u679c\u6c92\u6709\u52a0 ",(0,l.kt)("inlineCode",{parentName:"strong"},"-d"),"\u6703\u5c07\u7a0b\u5f0f\u57f7\u884c\u5728\u300c\u524d\u666f\u300d")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"* \u89e3\u6c7a Container\u555f\u52d5\u5f8c\u5c31\u7d50\u675f\u7684\u554f\u984c\uff1a")),(0,l.kt)("p",null,"Container\u88ab\u555f\u52d5\u5f8c\uff0c\u6703\u548c\u4e00\u822c\u7684\u7a0b\u5f0f\u4e00\u6a23\uff0c\u5728\u4f5c\u696d\u7cfb\u7d71\u4e2d\u88ab\u8996\u70ba\u4e00\u652f\u57f7\u884c\u4e2d\u7684\u7a0b\u5e8f (Process)\uff0c\u6240\u4ee5\u9019\u500b Container\u5c31\u6703\u50cf\u8dd1\u4e00\u652f\u7a0b\u5f0f\u4e00\u6a23\u8dd1\u5b8c\u4e4b\u5f8c\u5c31\u6703\u88ab\u7d50\u675f\u6389\u3002\u5982\u679c\u8981\u9806\u5229\u53ef\u4ee5\u4f7f\u7528\u7684\u8a71\uff0c\u5c31\u9700\u8981\u5728 Container\u88e1\u555f\u7528\u4e00\u500b\u4f3a\u670d\u5668\u7684\u7a0b\u5f0f\uff08\u6301\u7e8c\u57f7\u884c\u4e2d\u7684\u7a0b\u5f0f\uff09\u8b93 Container\u4fdd\u6301\u904b\u884c"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker rmi <Image\u540d\u7a31\u6216 ID>")," \u522a\u9664 Docker Image"),(0,l.kt)("p",null,"Docker Image\u662f\u4e00\u5c64\u4e00\u5c64\u758a\u51fa\u4f86\u7684\uff0c\u4e0d\u540c\u7684 Docker Image\u53ef\u80fd\u6709\u5171\u7528\u5230\u540c\u4e00\u5c64\u7684\u90e8\u4efd\uff0c\u6240\u4ee5\u79fb\u9664\u6389\u67d0\u500b Docker Image\u5f8c\u6240\u62ff\u56de\u4f86\u7684\u786c\u789f\u7a7a\u9593\u4e0d\u4e00\u5b9a\u6703\u548c\u770b\u5230\u6216\u6240\u60f3\u7684\u4e00\u6a23"),(0,l.kt)("h3",{id:"\u67e5\u770b\u555f\u52d5\u904e\u7684-container"},"\u67e5\u770b\u555f\u52d5\u904e\u7684 Container"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker ps"),"\u6307\u4ee4\u67e5\u770b\u72c0\u614b"),(0,l.kt)("p",null,"\u4f8b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -p 8080:80 -d nginx")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -p 8080:80 nginx")),(0,l.kt)("p",null,"\u5206\u5225\u555f\u52d5\u4e00\u500b\u524d\u666f\u57f7\u884c\u548c\u4e00\u500b\u80cc\u666f\u57f7\u884c\u7684 nginx\uff0c\u524d\u666f\u57f7\u884c\u7684 nginx\u6703\u5728 terminal\u4e2d\u986f\u793a nginx\u7684\u8a0a\u606f\u3002\u9019\u6642\u5019\u53e6\u958b terminal\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker ps"),"\u6307\u4ee4\u6703\u770b\u5230\u5169\u500b\u5df2\u555f\u52d5\u7684 Container\u8cc7\u8a0a"),(0,l.kt)("p",null,"\u6309\u4e0b ",(0,l.kt)("inlineCode",{parentName:"p"},"Ctrl + C"),"\u6703\u628a\u524d\u666f\u57f7\u884c\u7684 nginx\u7d66\u4e2d\u65b7\uff0c\u9019\u6642\u5019\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker ps"),"\u6307\u4ee4\u67e5\u770b\u6703\u53ea\u770b\u5230\u4e00\u500b\u5df2\u555f\u52d5\u7684 Container\u8cc7\u8a0a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker ps -a"),"\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"-a"),"\u9078\u9805\u6703\u628a\u6240\u6709\u5df2\u7d93\u555f\u52d5\u904e\u7684 Container\u90fd\u5217\u51fa\u4f86\uff08\u4e0d\u8ad6\u662f\u4e0d\u662f\u5728\u904b\u884c\uff09\u3002\u6240\u4ee5\u4ee5\u4e0a\u9762\u7684\u4f8b\u5b50\u5373\u6703\u770b\u5169\u7b46 Container\u8cc7\u8a0a\uff0c\u5176\u4e2d\u4e00\u500b\u662f\u6b63\u5728\u904b\u884c\u53e6\u4e00\u500b\u662f\u4e2d\u65b7\u904b\u884c\uff08\u770b ",(0,l.kt)("inlineCode",{parentName:"p"},"status"),"\u6b04\u4f4d\uff09"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker ps -l"),"\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"-l"),"\u9078\u9805\u6703\u986f\u793a\u6700\u5f8c\u4e00\u7d44\u5efa\u7acb\u7684 Container\u8cc7\u8a0a"),(0,l.kt)("h3",{id:"\u505c\u7528\u548c\u555f\u7528-container"},"\u505c\u7528\u548c\u555f\u7528 Container"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker start <Container ID>")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker stop <Container ID>")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker restart <Container ID>")," restart\u6703\u5148\u505c\u6b62\u518d\u555f\u52d5"),(0,l.kt)("p",null," ",(0,l.kt)("inlineCode",{parentName:"p"},"docker rm"),"\u79fb\u9664 Container\u3002\u5982\u679c\u78ba\u5b9a\u72c0\u614b\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"Exited"),"\u7684 Container\u5df2\u7d93\u6c92\u6709\u518d\u4f7f\u7528\u7684\u8a71\uff0c\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker rm"),"\u6307\u4ee4\u4f86\u79fb\u9664\uff08\u5982 Container\u4e0d\u662f\u5728\u505c\u6b62\u72c0\u614b\u4e0b\u79fb\u9664\u6703\u51fa\u73fe\u932f\u8aa4\u8a0a\u606f\uff09"),(0,l.kt)("p",null,"Container\u4e0d\u6703\u5728\u88ab\u505c\u7528\u4e4b\u5f8c\u5c31\u79fb\u9664\u6389\uff0c\u6240\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker run"),"\u4f86\u65b0\u589e Container\u5e7e\u6b21\u5f8c\uff0c\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker ps -a"),"\u6307\u4ee4\u5c31\u53ef\u4ee5\u770b\u5230\u6709\u8a31\u591a\u5df2\u7d93\u6c92\u6709\u5728\u904b\u884c\u7684 Container\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker ps -s"),"\u67e5\u8a62 Container\u4f54\u7528\u591a\u5c11\u786c\u789f\u7a7a\u9593"),(0,l.kt)("h3",{id:"\u8a73\u7d30-container\u8cc7\u8a0a"},"\u8a73\u7d30 Container\u8cc7\u8a0a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker inspect <Container ID>")," \u8a73\u7d30\u914d\u7f6e\u8cc7\u8a0a"),(0,l.kt)("p",null,"\u53ef\u4ee5\u9032\u8a2d\u5b9a\u8f38\u51fa\u683c\u5f0f\u53ca\u7bc4\u570d\uff0c\u4f8b ",(0,l.kt)("inlineCode",{parentName:"p"},"docker inspect --format='{{json .State.Status}}' node-red-couchdb")),(0,l.kt)("h3",{id:"\u4e00\u6b21\u4f5c\u591a\u500b-container"},"\u4e00\u6b21\u4f5c\u591a\u500b Container"),(0,l.kt)("p",null,"\u53ea\u8981\u662f\u53ef\u4ee5\u7528 Container ID\u9032\u884c\u64cd\u4f5c\u7684\u6307\u4ee4\uff0c\u90fd\u53ef\u4ee5\u4e00\u6b21\u8f38\u5165\u591a\u500b Container\uff0c\u5305\u542b ",(0,l.kt)("inlineCode",{parentName:"p"},"docker start"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"docker stop"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"docker rm"),"\u2026\u7b49"),(0,l.kt)("p",null,"\u4f8b ",(0,l.kt)("inlineCode",{parentName:"p"},"docker start <Container ID> <Container ID> <Container ID>")),(0,l.kt)("h3",{id:"\u642c\u79fb\u6a94\u6848"},"\u642c\u79fb\u6a94\u6848"),(0,l.kt)("p",null,"\u628a\u6a94\u6848\u8907\u88fd\u5230 Container\u88e1"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker cp <\u6a94\u6848\u4f86\u6e90\u8def\u5f91> <\u76ee\u7684Container ID>:<\u76ee\u7684\u8def\u5f91>")),(0,l.kt)("p",null,"\u628a\u6a94\u6848\u5f9e Container\u8907\u88fd\u51fa\u4f86"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker cp <\u4f86\u6e90Container ID>:<\u6a94\u6848\u4f86\u6e90\u8def\u5f91> <\u76ee\u7684\u8def\u5f91>")),(0,l.kt)("p",null,"\u7121\u8ad6\u662f\u904b\u884c\u4e2d\u6216\u505c\u6b62\u4e2d\u7684 Container\u90fd\u53ef\u4ee5\u9032\u884c\u64cd\u4f5c"),(0,l.kt)("h3",{id:"\u67e5\u770b-container\u4f7f\u7528\u8cc7\u6e90cpu\u8a18\u61b6\u9ad4"},"\u67e5\u770b Container\u4f7f\u7528\u8cc7\u6e90\uff08CPU\u3001\u8a18\u61b6\u9ad4\uff09"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker stats")," \u67e5\u770b\u5168\u90e8 Container"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker stats <Container ID>")," \u67e5\u770b\u6307\u5b9a Container"),(0,l.kt)("p",null,"\u6703\u4ee5\u300c\u5373\u6642\u300d\u7684\u65b9\u5f0f\u5448\u73fe\u76ee\u524d\u72c0\u6cc1\u8cc7\u8a0a"),(0,l.kt)("h3",{id:"\u67e5\u770b-container\u7684\u5373\u6642-log"},"\u67e5\u770b Container\u7684\u5373\u6642 Log"),(0,l.kt)("p",null,"\u7576 Container\u662f\u4ee5 Detach\u6a21\u5f0f\uff08\u80cc\u666f\uff09\u57f7\u884c\u6642\uff0c\u6c92\u6709\u8fa6\u6cd5\u5728\u547d\u4ee4\u5217\u4e0a\u76f4\u63a5\u770b\u5230 Log\u8cc7\u8a0a\uff0c\u9019\u6642\u5c31\u9700\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker logs"),"\u6307\u4ee4\u624d\u80fd\u770b\u5230 Log\u8cc7\u8a0a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker logs <Container ID>")," \u53ef\u4ee5\u770b\u5230\u6307\u5b9a\u7684 Container Log\u8cc7\u8a0a"),(0,l.kt)("p",null,"\u9078\u9805 ",(0,l.kt)("inlineCode",{parentName:"p"},"--tail"),"\u53ef\u4ee5\u53ea\u986f\u793a\u6578\u5e7e\u884c\u7684\u8cc7\u8a0a\uff0c\u4f8b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker logs <Container ID> --tail 2 76d1")," "),(0,l.kt)("p",null,"\u9078\u9805 ",(0,l.kt)("inlineCode",{parentName:"p"},"--since"),"\u53ef\u4ee5\u53ea\u986f\u793a\u5012\u6578\u5206\u9418\u4ee5\u524d\u7684\u8cc7\u8a0a\uff0c\u4f8b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker logs <Container ID> --since 2m 76d1")," "),(0,l.kt)("h2",{id:"ch3-docker-container\u7684\u9032\u968e\u64cd\u4f5c"},"CH3 Docker Container\u7684\u9032\u968e\u64cd\u4f5c"),(0,l.kt)("h3",{id:"container-\u547d\u540d"},"Container \u547d\u540d"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"--name")," \u7528\u4f86\u6307\u5b9a Container\u540d\u7a31\uff08\u6c92\u6709\u6307\u5b9a\u540d\u7a31\u6642 Docker\u6703\u81ea\u52d5\u96a8\u6a5f\u53d6\u540d\uff09"),(0,l.kt)("p",null,"\u642d\u914d docker run  ",(0,l.kt)("inlineCode",{parentName:"p"},"docker run --name <Container\u540d\u7a31>")),(0,l.kt)("p",null,"\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker run --name nginx-hello -p 8080:80 -d nginx\n\ndocker start nginx-hello\n")),(0,l.kt)("p",null,"\u56e0\u70ba Container\u7684\u540d\u7a31\u5fc5\u9808\u662f\u552f\u4e00\u7684\uff0c\u56e0\u6b64\u6bcf\u6b21\u7528 docker run \u6307\u4ee4\u555f\u52d5 Container\u90fd\u5fc5\u9808\u6307\u5b9a\u4e0d\u540c\u7684\u540d\u7a31"),(0,l.kt)("h3",{id:"\u74b0\u5883\u8b8a\u6578"},"\u74b0\u5883\u8b8a\u6578"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-e")," \u7528\u4f86\u8a2d\u5b9a\u8b8a\u6578\u503c"),(0,l.kt)("p",null,"\u4f8b ",(0,l.kt)("inlineCode",{parentName:"p"},"dockr run -e <\u8b8a\u6578\u540d\u7a31>=<\u8b8a\u6578\u503c> -p <\u5c0d\u5916port>:<\u9810\u8a2dport> -d <Docker Image\u540d\u7a31>")),(0,l.kt)("p",null,"mysql\u7bc4\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"$docker run --name mysql -e MYSQL_ROOT_PASSWORD=123456789 -d mysql\n\n$docker exec -it mysql mysql -p\nEnter password:\n\u7565\n")),(0,l.kt)("h3",{id:"docker-run-\u8207-docker-create"},"docker run \u8207 docker create"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker create"),"\u9700\u642d\u914d ",(0,l.kt)("inlineCode",{parentName:"p"},"docker start"),"\u6307\u4ee4\u624d\u6703\u555f\u52d5"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run"),"\u57f7\u884c\u4e4b\u5f8c\u5c31\u6703\u7acb\u5373\u7684\u904b\u884c"),(0,l.kt)("h3",{id:"docker-kill-\u8207-docker-stop"},"docker kill \u8207 docker stop"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker stop"),"\uff1a\u8b93 Docker\u9032\u5165\u6a19\u6e96\u7684\u95dc\u6a5f\u7a0b\u5e8f\uff1b\u6240\u6709\u7684\u7a0b\u5f0f\u6703\u9032\u5165\u5230\u5404\u81ea\u7684\u95dc\u6a5f\u8655\u7406\u7a0b\u5e8f\uff0c\u7b49\u6240\u6709\u7a0b\u5f0f\u5b8c\u6210\u95dc\u6a5f\u7a0b\u5e8f\u4e4b\u5f8c Docker\u4e5f\u9032\u5165\u81ea\u5df1\u7684\u95dc\u6a5f\u7a0b\u5e8f"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker kill"),"\uff1a\u5f37\u8feb\u9032\u884c Docker\u7684\u95dc\u6a5f\u52d5\u4f5c"),(0,l.kt)("h3",{id:"\u57f7\u884c-container\u5167\u7684\u7a0b\u5f0f\u6216\u6307\u4ee4"},"\u57f7\u884c Container\u5167\u7684\u7a0b\u5f0f\u6216\u6307\u4ee4"),(0,l.kt)("p",null,"\u9069\u7528\u60c5\u6cc1\uff1a\u6709\u4e00\u7a2e Container\u7684\u7528\u9014\u662f\u88ab\u62ff\u4f86\u7576\u4f5c\u8edf\u9ad4\u7684\u5de5\u5177\u5305"),(0,l.kt)("p",null,"\u6307\u4ee4\u5beb\u6cd5\uff1a\u76f4\u63a5\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker run"),"\u7684\u6307\u4ee4\u6700\u5f8c\u9762\u52a0\u4e0a\u60f3\u8981\u57f7\u884c\u7684\u6307\u4ee4"),(0,l.kt)("p",null,"\u4f8b\uff0c\u628a\u672c\u6a5f\u8cc7\u6599\u593e C:\\downloads\u6a94\u6848\u6e05\u55ae\u5217\u51fa\u4f86"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"dockr run -v C:\\downloads:/home ubuntu /bin/ls -l /home")),(0,l.kt)("p",null,"\uff08\u5148\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"-v"),"\u6307\u4ee4\u5728\u672c\u6a5f\u5916\u639b\u8cc7\u6599\u593e\uff0c\u4e26\u4f7f\u7528 ls\u5de5\u5177\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"-l"),"\u6307\u4ee4\u6aa2\u8996\uff09"),(0,l.kt)("h3",{id:"\u81ea\u52d5\u79fb\u9664\u81ea\u52d5\u91cd\u65b0\u555f\u52d5"},"\u81ea\u52d5\u79fb\u9664\u3001\u81ea\u52d5\u91cd\u65b0\u555f\u52d5"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"--rm"),"\uff1aContainer\u505c\u6b62\u5f8c\u5c31\u6703\u81ea\u52d5\u79fb\u9664"),(0,l.kt)("p",null,"\u4f8b ",(0,l.kt)("inlineCode",{parentName:"p"},"docker run --rm -v C:\\downloads:/home ubuntu /bin/ls -l /home")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"--restart"),"\uff1a\u8b93 Container\u5728\u4e0d\u9810\u671f\u60c5\u6cc1\u88ab\u505c\u6b62\u6642\uff0c\u4f9d\u7167 ",(0,l.kt)("inlineCode",{parentName:"p"},"--restart"),"\u7684\u8a2d\u5b9a\u65b9\u5f0f\u6c7a\u5b9a\u8981\u4e0d\u8981\u81ea\u52d5\u91cd\u65b0\u555f\u52d5 Container\uff08\u9810\u8a2d\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"no"),"\uff09"),(0,l.kt)("p",null,"\u8a2d\u5b9a\u503c\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"no")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"always")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"unless-stopped"),"\uff1a\u548c ",(0,l.kt)("inlineCode",{parentName:"li"},"always"),"\u4e00\u6a23\u6709\u670d\u52d9\u4e2d\u65b7\u81ea\u52d5\u91cd\u555f\u7684\u529f\u80fd\uff0c\u4f46\u662f\u91cd\u958b\u6a5f\u5f8c\u5c31\u4e0d\u91cd\u555f"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"on-failure"),"\uff1a\u53ea\u5728 Container\u7684\u9000\u51fa\u72c0\u614b\u4ee3\u78bc (Exit Code)\u4e0d\u662f\u96f6 (Non-Zero)")),(0,l.kt)("h3",{id:"\u9032\u5165-container\u64cd\u4f5c\u547d\u4ee4\u5217"},"\u9032\u5165 Container\u64cd\u4f5c\u547d\u4ee4\u5217"),(0,l.kt)("p",null,"\u60f3\u8981\u900f\u904e\u6307\u4ee4\u4f86\u64cd\u4f5c Container\u7684\u8a71\uff0c\u53ea\u8981\u80fd\u555f\u52d5 Container\u88e1\u7684 Shell\u7a0b\u5f0f\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e00\u822c Linux\u4f5c\u696d\u7cfb\u7d71\u5e38\u7528\u7684 Shell\u7a0b\u5f0f\u662f bash\u9019\u4e00\u652f\u7a0b\u5f0f"),(0,l.kt)("p",null,"\u932f\u8aa4\u6307\u4ee4\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run --rm --name nginx-cmd nginx /bin/bash")),(0,l.kt)("p",null,"\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"-it"),"\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"-i"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"-t"),"\u7684\u5408\u4f75\u5beb\u6cd5\uff09\u6307\u4ee4\u4f86\u9032\u5165\u80fd\u5920\u8f38\u5165\u6307\u4ee4\uff08\u53ca\u80fd\u628a\u57f7\u884c\u7d50\u679c\u9001\u51fa\u4f86\uff09\u7684\u72c0\u614b"),(0,l.kt)("p",null,"\u6b63\u78ba\u6307\u4ee4\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -it --rm --name nginx-cmd nginx /bin/bash")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker exec"),"\uff1a\u53ef\u4ee5\u5c0d\u5df2\u7d93\u5728\u904b\u884c\u4e2d\u7684 Container\u8981\u6c42\u57f7\u884c\u6307\u4ee4"),(0,l.kt)("p",null,"\u7bc4\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker run --name nginx-cmd -d nginx\n\ndocker exec -it nginx-cmd /bin/bash\n")),(0,l.kt)("h3",{id:"container\u7d81\u5b9a-ip"},"Container\u7d81\u5b9a IP"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-p"),"\u6307\u5b9a Container\u6240\u8981\u7d81\u5b9a\u7684 IP\u4f4d\u5740"),(0,l.kt)("p",null,"Docker\u9810\u8a2d\u6703\u628a Container\u7d81\u5b9a\u5230\u4e3b\u6a5f\u7684 0.0.0.0"),(0,l.kt)("p",null,"\u5c0d\u5916\u670d\u52d9\u7684\u5efa\u8b70\u6307\u4ee4\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -p <\u4e3b\u6a5fIP>:<\u4e3b\u6a5fport>:<Container port> -d <Docker Image>")),(0,l.kt)("p",null,"\u4f8b"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -p 192.168.1.1:80:80 -d nginx")),(0,l.kt)("h3",{id:"docker-network"},"docker network"),(0,l.kt)("p",null,"\u50b3\u7d71\u4e0a\u6703\u628a\u4f3a\u670d\u5668\u548c\u8cc7\u6599\u5eab\u88dd\u5728\u540c\u4e00\u500b\u865b\u64ec\u6a5f\u5668\u88e1\uff0c\u5728 Container\u4e0a\u5efa\u8b70\u7684\u505a\u6cd5\u662f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker network"),"\u5efa\u7acb\u4e00\u500b Docker\u7db2\u8def\uff0c\u518d\u628a\u9019\u5169\u5957\u8edf\u9ad4\u5206\u5225\u555f\u52d5\u5404\u81ea\u7368\u7acb\u7684 Container\u5230\u540c\u4e00\u500b Docker\u7db2\u8def\u4e4b\u4e2d"),(0,l.kt)("p",null,"\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker network create <\u7db2\u8def\u540d\u7a31>\n\ndocker run --name --net=<\u7db2\u8def\u540d\u7a31>\n")),(0,l.kt)("p",null,"\u9664\u4e86\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"--net"),"\u65b9\u5f0f\u4f86\u9023\u63a5\u591a\u500b Container\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528 Docker Compose\u5de5\u5177\u4f86\u9054\u5230"),(0,l.kt)("h3",{id:"data-volume---docker-run\u76f4\u63a5\u6307\u5b9a\u672c\u6a5f\u8def\u5f91"},"Data Volume - docker run\u76f4\u63a5\u6307\u5b9a\u672c\u6a5f\u8def\u5f91"),(0,l.kt)("p",null,"Container\u904b\u884c\u7522\u751f\u7684\u8cc7\u6599\u662f\u6703\u96a8\u8457 Container\u7684\u6d88\u6ec5\u800c\u6d88\u5931\uff0c\u4e26\u4e14 Docker Container\u662f\u63a1\u7528\u4e00\u7a2e\u5c64\u758a\u7684\u65b9\u5f0f\u4f86\u65b0\u589e\u8cc7\u6599\uff0c\u6240\u4ee5\u6bcf\u6b21\u6709\u65b0\u589e\u8cc7\u6599\u6642\u5c31\u6703\u7522\u751f\u4e00\u5c64\u65b0\u8cc7\u6599\u5c64\u758a\u52a0\u4e0a\u53bb\uff0c\u800c\u983b\u7e41\u7684\u5beb\u5165\u8cc7\u6599\u6703\u7522\u751f\u5927\u91cf\u7684\u8cc7\u6599\u5c64\u800c\u5feb\u901f\u7684\u5403\u6389\u786c\u789f\u7a7a\u9593\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-v"),"\uff1a\u639b\u4e0a\u5916\u90e8\u7684\u786c\u789f\u7a7a\u9593"),(0,l.kt)("p",null,"\u6307\u4ee4\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -v <\u5916\u90e8\u8cc7\u6599\u593e\u6216\u6a94\u6848\u8def\u5f91>:<Container\u5167\u90e8\u8cc7\u6599\u593e\u6216\u6a94\u6848\u8def\u5f91> -p <\u5c0d\u5916port>:<\u9810\u8a2dport> -d <Docker Image>")),(0,l.kt)("p",null,"\u4f8b - \u8cc7\u6599\u593e"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -v /var/www:/usr/share/nginx/html --name nginx-store -p 8080:80 -d nginx")),(0,l.kt)("p",null,"\u4f8b - \u8a2d\u5b9a\u6a94"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker run -v /home/ayubiz/nginx.conf:/etc/nginx/nginx.conf -v /var/www:/usr/share/ginx/html --name nginx-store -p 8080:80 -d nginx")),(0,l.kt)("h3",{id:"data-volume---data-volumn-create"},"Data Volume - data volumn create"),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"dota volumn create"),"\u5efa\u7acb Data Volumn\u53ef\u4ee5\u66f4\u65b9\u4fbf\u7684\u64cd\u4f5c\u548c\u7ba1\u7406 Data Volumn"),(0,l.kt)("p",null,"\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"$docker volumn create nginx-html\n$docker volumn ls\n\u7565\n$docker run -v nginx-html:/usr/share/nginx/html --name nginx-vol -p 8080:80 -d nginx\n")),(0,l.kt)("p",null,"\u5982\u679c\u8981\u8b93\u53e6\u4e00\u500b Container\u4e5f\u4f7f\u7528\u76f8\u540c\u7684 Data Volumn\u7684\u8a71\uff0c\u53ea\u8981\u4f7f\u7528\u76f8\u540c\u7684 Data Volumn\u540d\u7a31\u639b\u8f09\u5373\u53ef"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"$docker run -v nginx-html:/usr/share/nginx/html --name nginx-vol3 -p 8081:80 -d nginx\n")),(0,l.kt)("p",null,"\u4e0d\u904e\u591a\u500b Container\u5171\u7528\u540c\u4e00\u500b Data Volumn\u6642\u8981\u6ce8\u610f\u907f\u514d\u5171\u540c\u66f4\u65b0\u540c\u4e00\u500b\u6a94\u6848\uff0c\u4ee5\u514d\u9020\u6210\u8cc7\u6599\u7684\u6df7\u4e82\u6216\u932f\u8aa4\u3002"),(0,l.kt)("h2",{id:"ch4-\u5404\u7a2e\u81ea\u88fd-docker-image\u7684\u65b9\u6cd5"},"CH4 \u5404\u7a2e\u81ea\u88fd Docker Image\u7684\u65b9\u6cd5"),(0,l.kt)("h3",{id:"\u5f9e\u904b\u884c\u4e2d\u7684-container\u7522\u751f\u6620\u50cf\u6a94"},"\u5f9e\u904b\u884c\u4e2d\u7684 Container\u7522\u751f\u6620\u50cf\u6a94"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker commit <Container ID> <\u7522\u51fa\u7684 Docker Image\u540d\u7a31>")),(0,l.kt)("p",null,"\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker pull nginx\ndocker run --name nginx-hello -p 8080:80 -d nginx\ndocker cp index.html nginx-hello:/usr/share/nginx/html\ndocker commit nginx-hello nginx-commit\n")),(0,l.kt)("p",null,"\u5728\u6b64\u4f8b\u4e2d\u5373\u4f7f\u5148\u57f7\u884c\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker stop"),"\u4e2d\u6b62\u5f8c\u4ecd\u7136\u662f\u53ef\u4ee5\u57f7\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"docker commit"),"\u6307\u4ee4\u7684\uff0c\u4e0d\u904e\u639b\u8f09\u5728 Container\u4e0a\u7684\u5132\u7a7a\u9593\u662f\u4e0d\u6703\u88ab\u5b58\u9032\u5230\u65b0\u7522\u751f\u7684 Image"),(0,l.kt)("h3",{id:"dockerfile\u7684-build\u6307\u4ee4"},"Dockerfile\u7684 Build\u6307\u4ee4"),(0,l.kt)("p",null,"Dockerfile\u53ef\u4ee5\u628a\u4ed6\u770b\u6210\u662f\u4e00\u500b\u8173\u672c\u6a94\u4f86\u770b\uff0c\u4ed6\u88ab\u7528\u4f86\u660e\u78ba\u7684\u544a\u8a34 docker build\u6307\u4ee4\u5728\u7522\u751f\u65b0 Image\u7684\u6642\u5019\u6240\u9700\u8981\u7528\u5230\u7684\u8cc7\u8a0a\u548c\u6b65\u9a5f"),(0,l.kt)("h4",{id:"from"},"FROM"),(0,l.kt)("p",null,"\u6307\u5b9a\u8981\u4e0b\u8f09\u7684 Image\u6a94\u540d\u7a31"),(0,l.kt)("p",null,"\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"FROM node:14-alpine\n")),(0,l.kt)("h4",{id:"env"},"ENV"),(0,l.kt)("p",null,"\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578"),(0,l.kt)("p",null,"\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ENV NODE_ENV=$deploy_env\n")),(0,l.kt)("h4",{id:"run"},"RUN"),(0,l.kt)("p",null,"\u57f7\u884c\u6307\u4ee4"),(0,l.kt)("h4",{id:"expose"},"EXPOSE"),(0,l.kt)("p",null,"\u6307\u5b9a Container\u555f\u7528\u7684 port"),(0,l.kt)("p",null,"\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"EXPOSE 80 443\n")),(0,l.kt)("h4",{id:"cmd"},"CMD"),(0,l.kt)("p",null,"Container\u555f\u52d5\u5b8c\u6210\u5f8c\u8981\u57f7\u884c\u7684\u6307\u4ee4\u3002\u7576\u540c\u4e00\u500b Dockerfile\u88e1\u6709\u591a\u500b ",(0,l.kt)("inlineCode",{parentName:"p"},"CMD"),"\u6307\u4ee4\u6642\uff0c\u53ea\u6709\u6700\u5f8c\u4e00\u500b ",(0,l.kt)("inlineCode",{parentName:"p"},"CMD"),"\u6307\u4ee4\u6703\u6709\u4f5c\u7528"),(0,l.kt)("p",null,"\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'CMD ["nginx", "-g", "damon off;"]\n')),(0,l.kt)("h4",{id:"entrypoint"},"ENTRYPOINT"),(0,l.kt)("p",null,"Container\u555f\u52d5\u5b8c\u6210\u5f8c\u8981\u57f7\u884c\u7684\u6307\u4ee4\uff0c\u529f\u80fd\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"CMD"),"\u985e\u4f3c\uff0c\u5dee\u7570\u5728\u65bc\u5176\u4e0d\u80fd\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker run"),"\u5f8c\u9762\u52a0\u5165\u7684\u6307\u4ee4\u4f86\u84cb\u6389 ",(0,l.kt)("inlineCode",{parentName:"p"},"ENTRYPOINT\t"),"\u6307\u4ee4\u6240\u8981\u6c42\u7684\u555f\u52d5\u65b9\u5f0f\u3002\u4e5f\u5c31\u662f\u8aaa\u4ed6\u4e00\u5b9a\u6703\u88ab\u57f7\u884c\uff0c\u4e14\u53ef\u4ee5\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker run"),"\u5f8c\u651c\u5e36\u53c3\u6578\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"\u7576\u540c\u4e00\u500b Dockerfile\u88e1\u6709\u591a\u500b ",(0,l.kt)("inlineCode",{parentName:"p"},"ENTRYPOINT"),"\u6307\u4ee4\u6642\uff0c\u53ea\u6709\u6700\u5f8c\u4e00\u500b ",(0,l.kt)("inlineCode",{parentName:"p"},"ENTRYPOINT"),"\u6307\u4ee4\u6703\u6709\u4f5c\u7528\u3002\u4ed6\u53ef\u4ee5\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"CMD"),"\u642d\u914d\u4f7f\u7528"),(0,l.kt)("h4",{id:"workdir"},"WORKDIR"),(0,l.kt)("p",null,"\u6307\u5b9a\u57f7\u884c\u6307\u4ee4\u7684\u8cc7\u6599\u593e\u4f4d\u7f6e"),(0,l.kt)("h4",{id:"copy"},"COPY"),(0,l.kt)("p",null,"\u8907\u88fd\u6a94\u6848\u5230 Container\u7576\u4e2d\u3002\u6307\u4ee4\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"COPY <\u4f86\u6e90\u6a94\u8def\u5f91\u548c\u6a94\u540d> <Container\u88e1\u7684\u5b8c\u6574\u8def\u5f91\u548c\u6a94\u540d>")),(0,l.kt)("p",null,"\u53e6\u5916\u9084\u6709\u4e00\u500b\u6307\u4ee4 ",(0,l.kt)("inlineCode",{parentName:"p"},"ADD"),"\u8207 ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY"),"\u76f8\u4f3c\uff0c\u4e0d\u904e ",(0,l.kt)("inlineCode",{parentName:"p"},"ADD"),"\u662f\u5c07\u6a94\u6848\u653e\u5230 Image\u88e1\uff0c\u4e3b\u8981\u7684\u5dee\u7570\u662f\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"ADD"),"\u591a\u4e86\u53ef\u4ee5\u7528\u7db2\u5740\u6307\u5b9a\u4f86\u6e90\u6a94\u548c\u53ef\u4ee5\u81ea\u52d5\u89e3\u958b tar\u58d3\u7e2e\u6a94\u7684\u529f\u80fd\uff1b\u5b98\u65b9\u6bd4\u8f03\u5efa\u8b70\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY"),"\u6307\u4ee4\u3002"),(0,l.kt)("h4",{id:"label"},"LABEL"),(0,l.kt)("p",null,"\u5c07 Image\u6a94\u7684\u4f5c\u8005\u3001\u7248\u672c\u3001\u63cf\u8ff0\u53ca\u5176\u4ed6\u81ea\u8a02\u8cc7\u6599\u5132\u5b58\u5230\u65b0\u7522\u751f\u7684 Image\u6a94\uff0c\u800c\u5b58\u5165\u7684\u8cc7\u8a0a\u53ef\u900f\u904e ",(0,l.kt)("inlineCode",{parentName:"p"},"docker image inspect"),"\u6307\u4ee4\u67e5\u770b ",(0,l.kt)("inlineCode",{parentName:"p"},"Labels"),"\u6b04\u4f4d"),(0,l.kt)("p",null,"\u6307\u4ee4\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},'LABEL <\u6b04\u4f4d\u540d\u7a31>:"<\u6b04\u4f4d\u503c>" <\u6b04\u4f4d\u540d\u7a31>:"<\u6b04\u4f4d\u503c>" <\u6b04\u4f4d\u540d\u7a31>:"<\u6b04\u4f4d\u503c>" ...')),(0,l.kt)("h4",{id:"user"},"USER"),(0,l.kt)("p",null,"\u5927\u90e8\u4efd\u7684 Image\u6a94\u90fd\u6703\u4f7f\u7528\u6700\u9ad8\u6b0a\u9650\u7684 root\u505a\u70ba\u9810\u8a2d\u7684\u4f7f\u7528\u8005\u5e33\u865f\uff0c\u5982\u679c\u4e0d\u60f3\u7528 root\u4f5c\u9810\u8a2d\u7684\u4f7f\u7528\u8005\u7684\u8a71\uff0c\u53ef\u4ee5\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"USER"),"\u6307\u4ee4\u6307\u5b9a\u5e33\u865f"),(0,l.kt)("h4",{id:"volume"},"VOLUME"),(0,l.kt)("p",null,"\u63d0\u4f9b Data Volume\u7684\u639b\u8f09"),(0,l.kt)("p",null,"\u6307\u4ee4 ",(0,l.kt)("inlineCode",{parentName:"p"},'VOLUME ["<\u639b\u8f09\u9ede\u7684\u8cc7\u6599\u593e\u8def\u5f91>", "<\u639b\u8f09\u9ede\u7684\u8cc7\u6599\u593e\u8def\u5f91>" ...]')," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"VOLUME <\u639b\u8f09\u9ede\u7684\u8cc7\u6599\u593e\u8def\u5f91> <\u639b\u8f09\u9ede\u7684\u8cc7\u6599\u593e\u8def\u5f91> ...")),(0,l.kt)("h4",{id:"arg"},"ARG"),(0,l.kt)("p",null,"\u53ef\u4ee5\u8b93 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker build"),"\u6307\u4ee4\u5229\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"--build-arg"),"\u9078\u9805\u50b3\u5165\u53c3\u6578\u5230 Dockerfile\u88e1"),(0,l.kt)("p",null,"\u6307\u4ee4 ",(0,l.kt)("inlineCode",{parentName:"p"},"ARG <\u53c3\u6578\u540d\u7a31>")," \u6216  ",(0,l.kt)("inlineCode",{parentName:"p"},"ARG <\u53c3\u6578\u540d\u7a31>=<\u9810\u8a2d\u503c>")),(0,l.kt)("h3",{id:"\u532f\u5165\u532f\u51fa-image\u6a94"},"\u532f\u5165/\u532f\u51fa Image\u6a94"),(0,l.kt)("p",null,"\u532f\u51fa\u6307\u4ee4\uff1a ",(0,l.kt)("inlineCode",{parentName:"p"},"docker save -o <\u532f\u51fa\u7684\u6a94\u6848\u540d\u7a31.tar> <\u8981\u532f\u51fa\u7684 Image\u540d\u7a31>:<\u7248\u672c>")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker save"),"\u532f\u51fa\u7684\u6a94\u6848\u683c\u5f0f\u70ba tar\u58d3\u7e2e\u6a94\uff0c\u540d\u7a31\u53ef\u52a0\u4e0a ",(0,l.kt)("inlineCode",{parentName:"p"},".tar"),"\u4e5f\u53ef\u4e0d\u52a0"),(0,l.kt)("p",null,"\u532f\u5165\u6307\u4ee4\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"docker load -i <\u4e4b\u524d\u532f\u51fa\u7684Image.tar>")," \u6216",(0,l.kt)("inlineCode",{parentName:"p"},"docker load < <\u4e4b\u524d\u532f\u51fa\u7684Image.tar>")),(0,l.kt)("h3",{id:"\u7528-container\u532f\u51fa-image"},"\u7528 Container\u532f\u51fa Image"),(0,l.kt)("p",null,"\u9019\u7a2e\u65b9\u5f0f\u4e0d\u662f\u5c07\u904b\u884c\u4e2d\u7684 Container\u6574\u500b\u532f\u51fa\uff0c\u53ea\u662f\u5c07 Container\u5167\u90e8\u4f7f\u7528\u4e2d\u7684\u6a94\u6848\u7cfb\u7d71\u532f\u51fa"),(0,l.kt)("p",null,"\u532f\u51fa\u6307\u4ee4 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker export -o <\u532f\u51fa\u7684\u6a94\u6848\u540d\u7a31.tar> <Container ID>"),"\u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker export <Container ID> > <\u532f\u51fa\u7684\u6a94\u6848\u540d\u7a31.tar>")),(0,l.kt)("p",null,"\u532f\u5165\u6307\u4ee4 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker import <\u532f\u5165\u7684\u6a94\u6848\u540d\u7a31\u8207\u8def\u5f91> <\u6620\u50cf\u6a94\u540d\u7a31:\u7248\u672c\u6a19\u7c64>")),(0,l.kt)("h2",{id:"ch5-\u5229\u7528-docker-compose\u7ba1\u7406\u591a\u500b-container"},"CH5 \u5229\u7528 Docker Compose\u7ba1\u7406\u591a\u500b Container"),(0,l.kt)("p",null,"Docker\u548c Docker Compose\u662f\u5169\u500b\u5404\u81ea\u7368\u7acb\u7684\u7a0b\u5f0f\uff0cDocker Compose\u9700\u8981\u984d\u5916\u5b89\u88dd"),(0,l.kt)("p",null,"\u4e3b\u8981\u529f\u80fd\u548c\u4f7f\u7528\u60c5\u5883\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7ba1\u7406\u591a\u500b Container"),(0,l.kt)("li",{parentName:"ul"},"\u81ea\u52d5\u5316\uff08\u900f\u904e\u5c07 docker run\u7684\u8a2d\u5b9a\u653e\u9032 docker-compose.yml\u7684\u65b9\u5f0f\u9054\u5230\u66f4\u5f48\u6027\u8207\u81ea\u52d5\u5316\u7684\u90e8\u7f72\uff09")),(0,l.kt)("h3",{id:"docker-composeyml\u6587\u4ef6\u6307\u4ee4"},"docker-compose.yml\u6587\u4ef6\u6307\u4ee4"),(0,l.kt)("p",null,"\uff08\u6307\u4ee4\u592a\u591a\u4e86\u4e00\u6642\u9593\u7b46\u8a18\u4e0d\u5b8c\uff0c\u6c92\u5be6\u969b\u64cd\u4f5c\u4e5f\u5438\u6536\u4e0d\u4e86\uff0c\u6240\u4ee5\u5c31\u5148\u8df3\u904e\uff09"),(0,l.kt)("p",null,"\u9802\u5c64\u6307\u4ee4\uff1a"),(0,l.kt)("p",null,"version"),(0,l.kt)("p",null,"services"),(0,l.kt)("p",null,"volumes"),(0,l.kt)("p",null,"networks"),(0,l.kt)("p",null,"configs"),(0,l.kt)("p",null,"scerets"),(0,l.kt)("h3",{id:"\u5e38\u7528\u6307\u4ee4"},"\u5e38\u7528\u6307\u4ee4"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose"),"\u7684\u6307\u4ee4\u5e7e\u4e4e\u662f\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"docker"),"\u7684\u6307\u4ee4\u76f8\u540c\uff0c\u4e0d\u904e ",(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose"),"\u6307\u4ee4\u7684\u64cd\u4f5c\u90fd\u662f\u57fa\u65bc ",(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"),"\u7684\u5167\u5bb9\uff0c\u6240\u4ee5\u4e5f\u5c31\u53ef\u4ee5\u66f4\u5bb9\u6613\u7684\u9032\u884c\u6279\u6b21\u64cd\u4f5c\u3002\u53e6\u5916\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose"),"\u6307\u4ee4\u591a\u662f\u4ee5  ",(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"),"\u6a94\u6848\u88e1\u7684 service\u540d\u7a31\u4f86\u505a\u70ba\u53c3\u6578\u4f7f\u7528\uff0c\u4e0d\u76f4\u63a5\u7d66 Container\u7684\u540d\u7a31"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-f")," \u9078\u9805\u6307\u5b9a docker-compose.yml\u6a94\u6848\u8def\u5f91\u548c\u540d\u7a31\uff0c\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker-compose -f ~/node-red/docker-compose.yml config -q\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose config"),"\uff1a\u6aa2\u8996\u6a94\u6848\u5167\u5bb9"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose build"),"\uff1a\u4f7f\u7528 Dockerfile\u7522\u751f Docker Image"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose pull <Image>")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose pull"),"\uff1a\u6307\u5b9a\u53d6\u5f97\u4e00\u500b\u6216\u591a\u500b Image\uff08 \u5982\u672a\u6307\u5b9a\u5247\u4e0b\u8f09\u6240\u6709 docker-compose.yml\u6a94\u6240\u6709\u6307\u5b9a\u7684 Image\u6a94\uff09\uff0c\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker-compose pull node-red db\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"start"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"stop"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"restart"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"pause"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"unpause"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"kill"),"\uff1a\u5c0d\u6307\u5b9a\u6216\u8005\u5168\u90e8 Container\u9032\u884c\u64cd\u4f5c"),(0,l.kt)("p",null,"\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"# \u505c\u6b62\u6307\u5b9a Container\ndocker-compose stop node-red db\n# \u505c\u6b62\u5168\u90e8 Container\ndocker-compose stop\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose rm"),"\uff1a\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"docker rm"),"\u6307\u4ee4\u76f8\u540c\uff0c\u53ef\u4ee5\u7528\u4f86\u79fb\u9664\u5df2\u7d93\u505c\u6b62\u904b\u884c\u7684 Container"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose run"),"\uff1a\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"docker run"),"\u6307\u4ee4\u76f8\u540c\uff0c\u53ef\u4ee5\u7528\u4f86\u555f\u52d5 Container"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose up"),"\uff1a\u6700\u5e38\u4f7f\u7528\u7684\u6307\u4ee4\uff0c\u7528\u4f86\u555f\u52d5\u6240\u6709\u7684\u670d\u52d9"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose up"),"\u7684\u5e38\u7528\u9078\u9805\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-d"),"\uff1a \u5728\u80cc\u666f\u6a21\u5f0f\u4e0b\u57f7\u884c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--no-recreate"),"\uff1a \u4e0d\u9700\u8981\u91cd\u5efa\u6bcf\u500b\u670d\u52d9\u6240\u4f7f\u7528\u7684 Container"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--force-recreate"),"\uff1a\u7121\u8ad6 docker-compose.yml\u6216 Image\u6a94\u6848\u6709\u7121\u8abf\u6574\u6216\u6539\u8b8a\uff0c\u90fd\u5f37\u8feb\u57f7\u884c\u91cd\u65b0\u5efa\u7acb\u670d\u52d9\u6240\u4f7f\u7528\u7684 Container\u7684\u52d5\u4f5c")))}c.isMDXComponent=!0}}]);